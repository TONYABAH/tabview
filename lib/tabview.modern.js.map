{"version":3,"file":"tabview.modern.js","sources":["../index.js"],"sourcesContent":["const TabView = (function () {\r\n    const randomId = () => {\r\n        return Math.random().toString(36).slice(2);\r\n    };\r\n    const THEMES = {\r\n        blue: {\r\n            contrastColor: 'blue',\r\n            tabBg: 'rgb(8, 118, 185)',\r\n            tabColor: '#eee',\r\n            tabBorderColor: '#2E4053',\r\n            tabButtonBg: 'rgb(8, 118, 185)',\r\n            hoverBg: 'rgb(8, 181, 250)',\r\n            hoverColor: '#efefef',\r\n            activeBg: 'rgb(8, 100, 190)',\r\n            activeColor: '#fff',\r\n            pageBg: '',\r\n            pageColor: '',\r\n            headerBg: 'rgb(8, 118, 185)',\r\n            headerColor: '#eee',\r\n            footerBg: 'rgb(8, 118, 185)',\r\n            footerColor: '#eee',\r\n            footerBorderColor: '#2E4055',\r\n            iconColor: 'red',\r\n        },\r\n        green: {\r\n            contrastColor: 'green',\r\n            tabBg: '#1D8348',\r\n            tabColor: '#eee',\r\n            tabBorderColor: '#104032',\r\n            tabButtonBg: '#1D8348',\r\n            hoverBg: '#2ECC71',\r\n            hoverColor: '#efefef',\r\n            activeBg: '#145A32',\r\n            activeColor: '#fff',\r\n            pageBg: '',\r\n            pageColor: '',\r\n            headerBg: '#1D8348',\r\n            headerColor: '#eee',\r\n            footerBg: '#1D8348',\r\n            footerColor: '#eee',\r\n            footerBorderColor: '#104032',\r\n            iconColor: 'red',\r\n        },\r\n        red: {\r\n            contrastColor: '#CD4435',\r\n            tabBg: '#BA4335',\r\n            tabColor: '#eee',\r\n            tabBorderColor: '#5A3400',\r\n            tabButtonBg: '#BA4335',\r\n            hoverBg: '#CD4435',\r\n            hoverColor: '#efefef',\r\n            activeBg: '#CD0935',\r\n            activeColor: '#fff',\r\n            pageBg: null,\r\n            pageColor: null,\r\n            headerBg: '#BA4335',\r\n            headerColor: '#eee',\r\n            footerBg: '#BA4335',\r\n            footerColor: '#eee',\r\n            footerBorderColor: '#5A3400',\r\n            iconColor: '#00ff00',\r\n        },\r\n        orange: {\r\n            contrastColor: 'orange',\r\n            tabBg: '#D68910',\r\n            tabColor: '#eee',\r\n            tabBorderColor: '#784212',\r\n            tabButtonBg: '#D68910',\r\n            hoverBg: '#FC7633',\r\n            hoverColor: '#efefef',\r\n            activeBg: '#FF8910',\r\n            activeColor: '#fff',\r\n            pageBg: '',\r\n            pageColor: '',\r\n            headerBg: '#D68910',\r\n            headerColor: '#eee',\r\n            footerBg: '#D68910',\r\n            footerColor: '#eee',\r\n            footerBorderColor: '#784212',\r\n            iconColor: '#00ff00',\r\n        },\r\n        grey: {\r\n            contrastColor: '#efefef',\r\n            tabBg: '#D0D3D4',\r\n            tabColor: '#333',\r\n            tabBorderColor: '#333',\r\n            tabButtonBg: '#ECF0F1',\r\n            hoverBg: '#FFFFFF',\r\n            hoverColor: '#111',\r\n            activeBg: '#D0D3D4',\r\n            activeColor: '#222',\r\n            pageBg: '',\r\n            pageColor: '',\r\n            headerBg: '#D0D3D4',\r\n            headerColor: '#333',\r\n            footerBg: '#D0D3D4',\r\n            footerColor: '#333',\r\n            footerBorderColor: '#222222',\r\n            iconColor: '#00ff00',\r\n        },\r\n        dark: {\r\n            contrastColor: '',\r\n            tabBg: '#34495E',\r\n            tabColor: '#eee',\r\n            tabBorderColor: '#233011',\r\n            tabButtonBg: '#474747',\r\n            hoverBg: '#2C3E50',\r\n            hoverColor: '#fff',\r\n            activeBg: '#566573 ',\r\n            activeColor: '#eee',\r\n            pageBg: '',\r\n            pageColor: '',\r\n            headerBg: '#34495E ',\r\n            headerColor: '#eee',\r\n            footerBg: '#34495E ',\r\n            footerColor: '#eee',\r\n            footerBorderColor: '#233011',\r\n            iconColor: '#00ff00',\r\n        },\r\n        black: {\r\n            contrastColor: '',\r\n            tabBg: '#1C2833',\r\n            tabColor: '#eee',\r\n            tabBorderColor: '#233011',\r\n            tabButtonBg: '#2C3E50',\r\n            hoverBg: '#5D6D7E ',\r\n            hoverColor: '#fff',\r\n            activeBg: '#1C2833',\r\n            activeColor: '#eee',\r\n            pageBg: '',\r\n            pageColor: '',\r\n            headerBg: '#1C2833',\r\n            headerColor: '#eee',\r\n            footerBg: '#1C2833',\r\n            footerColor: '#eee',\r\n            footerBorderColor: '#233011',\r\n            iconColor: '#00ff00',\r\n        },\r\n        light: {\r\n            contrastColor: '',\r\n            tabBg: 'lavender',\r\n            tabColor: '#111',\r\n            tabBorderColor: '#233011',\r\n            tabButtonBg: 'lavender',\r\n            hoverBg: '#AED6F1',\r\n            hoverColor: '#000',\r\n            activeBg: '#AED6F1',\r\n            activeColor: '#000',\r\n            pageBg: '',\r\n            pageColor: '',\r\n            headerBg: 'lavender',\r\n            headerColor: '#111',\r\n            footerBg: 'lavender',\r\n            footerColor: '#111',\r\n            footerBorderColor: '#233011',\r\n            iconColor: 'green',\r\n        },\r\n        purple: {\r\n            contrastColor: '',\r\n            tabBg: '#9B59B6',\r\n            tabColor: '#fff',\r\n            tabBorderColor: '#443974',\r\n            tabButtonBg: '#8E44AD',\r\n            hoverBg: '#A569BD',\r\n            hoverColor: '#fff',\r\n            activeBg: '#633974',\r\n            activeColor: '#eee',\r\n            pageBg: '',\r\n            pageColor: '',\r\n            headerBg: '#9B59B6',\r\n            headerColor: '#fff',\r\n            footerBg: '#9B59B6',\r\n            footerColor: '#fff',\r\n            footerBorderColor: '#443974',\r\n            iconColor: '#00ff00',\r\n        },\r\n    };\r\n    const LAYOUT_SETTINGS = {\r\n        header: false,\r\n        footer: true,\r\n        alginTab: 'top',\r\n        minTabHeight: 'auto',\r\n        maxTabWidth: 225,\r\n        minTabWidth: 'auto',\r\n        tabWidth: 125,\r\n        tabHeight: 52,\r\n        footerHeight: 22,\r\n        headerHeight: 24,\r\n    };\r\n    const THEME_SETTINGS = {\r\n        contrastColor: '#efefef',\r\n        tabBg: '#efefef',\r\n        tabColor: '#333',\r\n        tabBorderColor: '#ababab',\r\n        tabButtonBg: '#cdcdcd',\r\n        hoverBg: '#ffffff',\r\n        hoverColor: '#000000',\r\n        activeBg: '#777777',\r\n        activeColor: '#ffffff',\r\n        pageBg: '#eef',\r\n        pageColor: '#333',\r\n        headerBg: '#efefef',\r\n        headerColor: '#333',\r\n        footerBg: '#cdcdcd',\r\n        footerBorderColor: '#777777',\r\n        footerColor: '#333',\r\n        iconColor: 'green',\r\n    };\r\n    const removeCSS = (styleId) => {\r\n        document.getElementById(styleId).remove();\r\n    };\r\n    const addCSS = (containerId, options = {}) => {\r\n        Object.assign(LAYOUT_SETTINGS, options);\r\n        if (typeof options.theme === 'string') {\r\n            let theme = THEMES[options.theme];\r\n            Object.assign(THEME_SETTINGS, theme);\r\n        } else if (typeof options.theme === 'object') {\r\n            Object.assign(THEME_SETTINGS, options);\r\n        }\r\n        const s = Object.assign(THEME_SETTINGS, LAYOUT_SETTINGS);\r\n\r\n        const footerHeight = s.footer ? s.footerHeight : 0;\r\n        const headerHeight = s.header ? s.headerHeight : 0;\r\n\r\n        const css = `\r\n    #${containerId} {\r\n        \r\n    --display-header: ${s.header ? 'flex' : 'none'};\r\n    --display-footer: ${s.footer ? 'flex' : 'none'};\r\n    --min-tab-height: ${s.minTabHeight}px;\r\n    --max-tab-width: ${s.maxTabWidth}px;\r\n    --min-tab-width: ${s.minTabWidth}px;\r\n    --tab-width: ${s.tabWidth}px;\r\n    --tab-height: ${s.tabHeight}px;\r\n    --footer-height: ${footerHeight}px;\r\n    --header-height: ${headerHeight}px;\r\n    --panel-top: ${headerHeight + s.tabHeight + 1}px;\r\n    --panel-bottom: var(--footer-height);\r\n\r\n    --tab-bar-bg: ${s.tabBg};\r\n    --tab-bar-contrast-bg: ${s.contrastColor};\r\n    --tab-color: ${s.tabColor};\r\n    --tab-border-color: ${s.tabBorderColor};\r\n    --tab-color: ${s.tabColor};\r\n    --tab-border-color:  ${s.tabBorderColor};\r\n    --tab-button-bg: ${s.tabButtonBg};\r\n    --hover-bg: ${s.hoverBg};\r\n    --hover-color: ${s.hoverColor};\r\n    --active-bg: ${s.activeBg};\r\n    --active-color: ${s.activeColor};\r\n    --header-bg: ${s.headerBg};\r\n    --header-color: ${s.headerColor};\r\n    --footer-bg: ${s.footerBg};\r\n    --footer-color: ${s.footerColor};\r\n    --footer-border-color: ${s.footerBorderColor};\r\n    --page-bg: ${s.pageBg};\r\n    --page-color: ${s.pageColor},\r\n    --icon-color: ${s.iconColor},\r\n}\r\n\r\n/**Layout CSS **/\r\n#${containerId} {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    overflow: auto;\r\n    color: ';\r\n    background: '';\r\n    overflow: hidden;\r\n}\r\n#${containerId} .tab-panel {\r\n    position: absolute;\r\n    display: block;\r\n    top: var(--panel-top);\r\n    bottom: var(--footer-height);\r\n    right: 0;\r\n    left: 0;\r\n    z-index: 10;\r\n    background: #333;\r\n}\r\n#${containerId} .tab-panel .tab-page {\r\n    position: absolute;\r\n    display: none;\r\n    top: 5px;\r\n    bottom: 1px;\r\n    right: 0px;\r\n    left: 0px;\r\n}\r\n#${containerId} .tab-header {\r\n    position: absolute;\r\n    right: 0;\r\n    left: 0;\r\n    height: calc(var(--header-height) - 1px );\r\n    padding-left: 14px;\r\n    display: var(--display-header);\r\n    border-bottom: 1px solid var(--tab-border-color);\r\n}\r\n\r\n#${containerId} .tab-footer {\r\n    position: absolute;\r\n    height: var(--footer-height);\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    border-top: 1px solid var(--footer-border-color);\r\n    display: var(--display-footer);\r\n    z-index: 10;\r\n}\r\n\r\n#${containerId} .tab-bar {\r\n    position: absolute;\r\n    top: var(--header-height);\r\n    height: var(--tab-height);\r\n    min-height: var(--min-tab-height);\r\n    max-width: 100%;\r\n    left: 0px;\r\n    right: 0px;\r\n    /*box-shadow: 0px 0px 1px 0px rgba(0, 0, 0, 0.15);*/\r\n    border-bottom: 1px solid var(--tab-border-color);\r\n    overflow: auto;\r\n    display: flex;\r\n    white-space: nowrap;\r\n    z-index: 1;\r\n}\r\n#${containerId} .tabs {\r\n    position: absolute;\r\n    left: 24px;\r\n    right: 24px;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    display: flex;\r\n    white-space: nowrap;\r\n    background: var(--tab-bar-contrast-bg);\r\n}\r\n#${containerId} .tabs > button {\r\n    position: relative;\r\n    display: block;\r\n    min-height: 100%;\r\n    max-width: var(--max-tab-width);\r\n    min-width: var(--min-tab-width);\r\n    width: auto;\r\n    padding-left: 20px;\r\n    padding-right: 24px;\r\n    background: inherit;\r\n    border: none;\r\n    cursor: pointer;\r\n    align-items: center;\r\n    margin: 0px;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    transition: .4s;\r\n    border-right: 1px inset;\r\n    /*box-shadow: 1px 1px 2px 0 #eee;*/\r\n}\r\n\r\n#${containerId} .tabs > button:hover {\r\n    transform: all 0.2s;\r\n}\r\n#${containerId} .tabs > button.active {\r\n    transform: all 0.2s;\r\n}\r\n#${containerId} .tabs > button > .close-button {\r\n    position: absolute;\r\n    width: auto;\r\n    height: 100%;\r\n    right:0px;\r\n    top: 0;\r\n    padding-right: 4px;\r\n    margin-right: 0px;\r\n    display: flex;\r\n    align-items: center;\r\n    background: inherit;\r\n}\r\n#${containerId} .tabs > button > .close-button::after {\r\n    content: '✖';\r\n    border-radius: 50%;\r\n    line-height: 12px;\r\n    padding: 2px;\r\n    display: none;\r\n}\r\n#${containerId} .tabs > button.active .close-button::after {\r\n    display: block;\r\n}\r\n#${containerId} .tabs > button:hover .close-button::after {\r\n    display: block;\r\n}\r\n#${containerId} .tab-icon {\r\n    margin-top: -3px;\r\n    float:left;\r\n    color: var(--icon-color);\r\n}\r\n#${containerId} .tabs > button > .close-button:hover::after {\r\n    color: red;\r\n    background: #eee;\r\n}\r\n#${containerId} .tabs > button > .tab-label {\r\n    display: flex;\r\n    left: 22px;\r\n    right: 24px;\r\n    height: 100%;\r\n    min-width: 45%;\r\n    margin-top: 50%;\r\n    transform: translateY(-50%);\r\n    align-items: center;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-shadow: transparent;\r\n    text-overflow: ellipsis;\r\n    align-items: center;\r\n    background-color: green;\r\n    font-size: 11px;\r\n    letter-spacing: 1px;\r\n}\r\n\r\n#${containerId} .left-nav-button,\r\n#${containerId} .right-nav-button {\r\n    position: absolute;\r\n    width: 24px;\r\n    min-width: 24px;\r\n    max-width: 24px;\r\n    top: 0;\r\n    bottom: 0;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    /*text-shadow: 1px 1px #333;*/\r\n    text-align: center;\r\n    z-index: 0;\r\n}\r\n#${containerId} .right-nav-button {\r\n    right: 0;\r\n    padding-left: 4px;\r\n}\r\n#${containerId} .left-nav-button::after {\r\n    content: '';\r\n    min-width: 0;\r\n    max-width: 0;\r\n    width: 0;\r\n    height: 0;\r\n    min-height: 0;\r\n    max-height: 0;\r\n    height: 0;\r\n    border-right: 8px solid var(--tab-color);\r\n    border-top: 8px solid transparent;\r\n    border-bottom: 8px solid transparent;\r\n}\r\n#${containerId} .right-nav-button::after {\r\n    content: '';\r\n    min-width: 0;\r\n    max-width: 0;\r\n    width: 0;\r\n    height: 0;\r\n    min-height: 0;\r\n    max-height: 0;\r\n    border-left: 8px solid var(--tab-color);\r\n    border-top: 8px solid transparent;\r\n    border-bottom: 8px solid transparent;\r\n}\r\n#${containerId} .left-nav-button:hover {\r\n    color: cadetblue;\r\n}\r\n#${containerId} .right-nav-button:hover {\r\n    color: cadetblue;\r\n}\r\n\r\n/** Side tabs (Left or Right) CSS */\r\n\r\n#${containerId}.tab-align-left .tab-header,\r\n#${containerId}.tab-align-right .tab-header {\r\n    border-bottom: 1px solid;\r\n}\r\n#${containerId}.tab-align-right .tab-bar,\r\n#${containerId}.tab-align-left .tab-bar {\r\n    position: absolute;\r\n    display: block;\r\n    min-width: 125px;\r\n    max-width: 125px;\r\n    top: calc(var(--header-height) + 0px);\r\n    bottom: var(--footer-height);\r\n    overflow: hidden;\r\n    text-align: center;\r\n    z-index: 1;\r\n}\r\n#${containerId}.tab-align-right .tab-bar .tabs,\r\n#${containerId}.tab-align-left .tab-bar .tabs {\r\n    position: absolute;\r\n    display: block;\r\n    height: auto;\r\n    left: 1px;\r\n    right: 1px;\r\n    top: 32px;\r\n    bottom: 32px;\r\n}\r\n#${containerId}.tab-align-right .left-nav-button,\r\n#${containerId}.tab-align-right .right-nav-button,\r\n#${containerId}.tab-align-left .left-nav-button,\r\n#${containerId}.tab-align-left .right-nav-button {\r\n    position: relative;\r\n    display: block;\r\n    min-width: 125px;\r\n    max-height: 32px;\r\n    float: none;\r\n    height: var(--tab-height);\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n#${containerId}.tab-align-right .tab-bar button,\r\n#${containerId}.tab-align-left .tab-bar button {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: var(--tab-width);\r\n    min-height: auto; \r\n    max-height: var(--tab-height);\r\n    height: var(--tab-height);\r\n    margin-right: 2px;\r\n    cursor: pointer;\r\n    border-right: 0 none transparent;\r\n    /* margin-top: calc(var(--tab-width) / 2 + 10px);\r\n       transform: rotateZ(-90deg) translateX(24px);\r\n       box-shadow: 1px 1px 2px 0px #ccc;\r\n    */\r\n}\r\n\r\n#${containerId}.tab-align-right .right-nav-button,\r\n#${containerId}.tab-align-left .right-nav-button {\r\n    position: absolute;\r\n    display: flex;\r\n    bottom: 0;\r\n    top: auto;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 1;\r\n    border: 1px none;\r\n}\r\n#${containerId}.tab-align-right .left-nav-button,\r\n#${containerId}.tab-align-left .left-nav-button {\r\n    position: sticky;\r\n    top: 0;\r\n    justify-content: center;\r\n    align-items: center;\r\n    display: flex;\r\n    border: 1px none;\r\n}\r\n#${containerId}.tab-align-right .left-nav-button::after,\r\n#${containerId}.tab-align-left .left-nav-button::after {\r\n    transform: rotateZ(90deg);\r\n}\r\n#${containerId}.tab-align-right .right-nav-button::after,\r\n#${containerId}.tab-align-left .right-nav-button::after {\r\n    transform: rotateZ(90deg);\r\n}\r\n#${containerId}.tab-align-right > .tab-panel,\r\n#${containerId}.tab-align-left > .tab-panel {\r\n    top: var(--header-height);\r\n    z-index: auto;\r\n}\r\n\r\n/** Right tabs CSS */\r\n\r\n#${containerId}.tab-align-right .tab-bar {\r\n    right: 0;\r\n    left: auto;\r\n    height: auto;\r\n    border-right: 0;\r\n}\r\n#${containerId}.tab-align-right > .tab-panel {\r\n    right: 125px;\r\n    left: 0;\r\n}\r\n#${containerId}.tab-align-right .tab-header {\r\n    margin-right: 0;\r\n    margin-left: 0;\r\n    z-index: 1;\r\n}\r\n#${containerId}.tab-align-right .tab-footer {\r\n    right: 0;\r\n    z-index: 1;\r\n}\r\n#${containerId}.tab-align-right .tabs > button.active {\r\n    border-radius: 0px 0px 0px 0;\r\n    right: 0px;\r\n}\r\n\r\n/** Left tabs CSS */\r\n\r\n#${containerId}.tab-align-left .tab-bar {\r\n    left: 0;\r\n    right: auto;\r\n    height: auto;\r\n   border-left: 0;\r\n}\r\n\r\n#${containerId}.tab-align-left > .tab-panel {\r\n    left: var(--tab-width);\r\n    right: 0;\r\n}\r\n#${containerId}.tab-align-left .tab-header {\r\n    margin-left: 0;\r\n    margin-right: 0;\r\n}\r\n#${containerId}.tab-align-left .tab-footer {\r\n    left: 0;\r\n}\r\n#${containerId}.tab-align-left .tabs > button.active {\r\n    border-radius: 0px 0 0 0px;\r\n    left: 0px;\r\n}\r\n\r\n/** Bottom tabs CSS */\r\n\r\n#${containerId}.tab-align-bottom .tab-bar {\r\n    position: absolute;\r\n    bottom: var(--footer-height);\r\n    top: auto;\r\n}\r\n#${containerId}.tab-align-bottom .tab-bar .tabs > button.active {\r\n    border-radius: 0px 0px 5px 5px;\r\n    right: 1px;\r\n}\r\n#${containerId}.tab-align-bottom > .tab-panel {\r\n    bottom: var(--panel-bottom);\r\n    top: var(--header-height);\r\n}\r\n\r\n/**Theme CSS */\r\n\r\n#${containerId} {\r\n    background-color: '';\r\n}\r\n\r\n#${containerId} .tab-bar {\r\n    background-color: var(--tab-bar-bg);\r\n    color: var(--tab-color);\r\n}\r\n#${containerId} .tab-bar button {\r\n    background-color: var(--tab-button-bg);\r\n    color: var(--tab-color);\r\n    border-right: 1px solid var(--tab-border-color);\r\n}\r\n#${containerId} .tab-bar button:hover {\r\n    background-color: var(--hover-bg);\r\n    color: var(--hover-color);\r\n}\r\n#${containerId} .tab-bar button.active {\r\n    background-color: var(--active-bg);\r\n    color: var(--active-color);\r\n}\r\n#${containerId} .left-nav-button,\r\n#${containerId} .right-nav-button {\r\n    background-color: var(--tab-bar-bg);\r\n}\r\n#${containerId} .tab-panel {\r\n    border: none;\r\n    background: var(--page-bg);\r\n    color: var(--page-color);\r\n    box-shadow: 1px 1px 1px 1px transparent;\r\n}\r\n#${containerId} .tab-panel .tab-page {\r\n    padding: 8px;\r\n}\r\n#${containerId} .tab-footer{\r\n    background-color: var(--footer-bg);\r\n    color: var(--footer-color);\r\n    padding-left: 14px;\r\n   \r\n}\r\n#${containerId} .tab-header {\r\n    background-color: var(--header-bg);\r\n    color: var(--header-color);\r\n    padding-left: 14px;\r\n}\r\n        `;\r\n        let styles = document.createElement('style');\r\n        styles.id = options.stylesId || 'tabviewStyles';\r\n        styles.append(document.createTextNode(css));\r\n        document.head.appendChild(styles);\r\n        return styles.id;\r\n    };\r\n\r\n    const Emitter = () => {\r\n        return {\r\n            fire(event, data, context, cancelable, bubbles) {\r\n                const cntx = context || document;\r\n                const myEvent = new CustomEvent(event, {\r\n                    detail: data,\r\n                    cancelable: cancelable || true,\r\n                    bubbles: bubbles || false,\r\n                });\r\n                cntx.dispatchEvent(myEvent);\r\n            },\r\n            on(event, listener, context) {\r\n                const cntx = context || document;\r\n                cntx.addEventListener(event, listener);\r\n            },\r\n            off(event, listener, context) {\r\n                const cntx = context || document;\r\n                cntx.removeEventListener(event, listener);\r\n            },\r\n        };\r\n    };\r\n    const dnd = {\r\n        allowDrop: (ev) => {\r\n            ev.preventDefault();\r\n        },\r\n\r\n        drag: (ev) => {\r\n            ev.dataTransfer.setData('text/plain', ev.target.id);\r\n        },\r\n        drop: (ev) => {\r\n            ev.preventDefault();\r\n\r\n            const data = ev.dataTransfer.getData('text');\r\n            // do not drop on label wrappers or close button\r\n            let role = ev.target.getAttribute('role');\r\n            var target =\r\n                role === 'tab-button' ? ev.target : ev.target.parentNode; // getLinkTarget(ev.target);\r\n\r\n            const dataEl = document.getElementById(data);\r\n            const dragStartPoint = dataEl.getBoundingClientRect();\r\n            const dragStopPoint = target.getBoundingClientRect();\r\n            if (\r\n                dragStartPoint.x > dragStopPoint.x ||\r\n                dragStartPoint.y > dragStopPoint.y\r\n            ) {\r\n                target.before(dataEl);\r\n            } else {\r\n                target.after(dataEl);\r\n            }\r\n            // handleDrop(newIndex, oldIndex);\r\n            //tabList.insertBefore(document.getElementById(data), node.nextSibling);\r\n        },\r\n    };\r\n    // Returns a function, that, as long as it continues to be invoked, will not\r\n    // be triggered. The function will be called after it stops being called for\r\n    // N milliseconds. If `immediate` is passed, trigger the function on the\r\n    // leading edge, instead of the trailing.\r\n    const debounce = (func, wait, immediate) => {\r\n        let timeout;\r\n        return function () {\r\n            const context = this;\r\n            const args = arguments;\r\n            const later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            const callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    };\r\n\r\n    const isVisible = (elem) => {\r\n        if (!(elem instanceof Element))\r\n            throw Error('DomUtil: elem is not an element.');\r\n        const style = getComputedStyle(elem);\r\n        if (style.display === 'none') return false;\r\n        if (style.visibility !== 'visible') return false;\r\n        if (style.opacity < 0.1) return false;\r\n        if (\r\n            elem.offsetWidth +\r\n                elem.offsetHeight +\r\n                elem.getBoundingClientRect().height +\r\n                elem.getBoundingClientRect().width ===\r\n            0\r\n        ) {\r\n            return false;\r\n        }\r\n        const elemCenter = {\r\n            x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\r\n            y: elem.getBoundingClientRect().top + elem.offsetHeight / 2,\r\n        };\r\n        if (elemCenter.x < 0) return false;\r\n        if (\r\n            elemCenter.x >\r\n            (document.documentElement.clientWidth || window.innerWidth)\r\n        )\r\n            return false;\r\n        if (elemCenter.y < 0) return false;\r\n        if (\r\n            elemCenter.y >\r\n            (document.documentElement.clientHeight || window.innerHeight)\r\n        )\r\n            return false;\r\n        let pointContainer = document.elementFromPoint(\r\n            elemCenter.x,\r\n            elemCenter.y\r\n        );\r\n        do {\r\n            if (pointContainer === elem) return true;\r\n        } while (\r\n            pointContainer &&\r\n            (pointContainer = pointContainer.parentNode)\r\n        );\r\n        return false;\r\n    };\r\n\r\n    const scrollToView = debounce((tabBar, x = 0, y = 0) => {\r\n        tabBar.scroll({\r\n            top: y,\r\n            left: x,\r\n            behavior: 'smooth',\r\n        });\r\n    }, 200);\r\n\r\n    function getVisibleTabs(tabBar) {\r\n        const children = tabBar.children;\r\n        const visibleTabs = [];\r\n        // const invisibleTabs = [];\r\n        for (let child of children) {\r\n            if (isVisible(child)) {\r\n                visibleTabs.push(child);\r\n            } else {\r\n                // invisibleTabs.push(child);\r\n            }\r\n        }\r\n        return visibleTabs;\r\n    }\r\n    function getInVisibleTabs(tabBar) {\r\n        const children = tabBar.children;\r\n        // const visibleTabs = [];\r\n        const invisibleTabs = [];\r\n        for (let i = 0; i < children.length; i++) {\r\n            const child = children[i];\r\n            if (isVisible(child)) {\r\n                // visibleTabs.push(child);\r\n                break;\r\n            } else {\r\n                invisibleTabs.push(child);\r\n            }\r\n        }\r\n        return invisibleTabs;\r\n    }\r\n\r\n    function createLabel(text) {\r\n        const label = document.createElement('span');\r\n        label.append(document.createTextNode(text));\r\n        label.classList.add('tab-label');\r\n        label.style.cursor = 'pointer';\r\n        return label;\r\n    }\r\n    function createCloseButton() {\r\n        let btn = document.createElement('label');\r\n        btn.setAttribute('role', 'close-button');\r\n        btn.classList.add('close-button');\r\n        // btn.style.position = 'absolute';\r\n        // btn.style.right = '4px';\r\n        // btn.style.top = '50%';\r\n        // btn.style.transform = 'translateY(-50%)';\r\n        // btn.textContent = 'X';\r\n        return btn;\r\n    }\r\n    function createIcon(icon, iconColor) {\r\n        let btn = document.createElement('label');\r\n        btn.setAttribute('role', 'tab-icon');\r\n        btn.classList.add('tab-icon');\r\n        btn.style.position = 'absolute';\r\n        btn.style.left = '4px';\r\n        // btn.style.top = '50%';\r\n        btn.style.color = iconColor || '';\r\n        // btn.style.transform = 'translateY(-50%)';\r\n        btn.textContent = icon || '❖';\r\n        return btn;\r\n    }\r\n\r\n    function createPage(pageId, content) {\r\n        let page = document.createElement('div');\r\n        page.classList.add('tab-page');\r\n        page.setAttribute('id', pageId);\r\n        // page.textContent = text;\r\n        page.append(content || '');\r\n        return page;\r\n    }\r\n    function createTabs(\r\n        containerId,\r\n        options = {\r\n            footer: true,\r\n            header: false,\r\n            headerHeight: 32,\r\n            footerHeight: 25,\r\n            align: '',\r\n            iconColor: 'orange',\r\n            infiniteScroll: true,\r\n        }\r\n    ) {\r\n        let accumulator = 0;\r\n        const tabs = [];\r\n        const events = Emitter();\r\n        let tabAlignSide =\r\n            options.align === 'left' || options.align === 'right'\r\n                ? true\r\n                : false;\r\n        let infiniteScroll = options.infiniteScroll || false;\r\n        let activeTab = null;\r\n        let tabBar = null; // container.querySelector('.tabs');\r\n        let tabPanel = null;\r\n        // let tabs = tabBar.querySelector('.tabs');\r\n        let container = document.getElementById(containerId);\r\n        let original = container.outerHTML;\r\n        if (container.classList.contains('infinit-scroll')) {\r\n            infiniteScroll = true;\r\n        }\r\n        if (\r\n            container.classList.contains('tab-align-right') ||\r\n            container.classList.contains('tab-align-left')\r\n        ) {\r\n            tabAlignSide = true;\r\n        }\r\n        options.stylesId = 'tab_css_' + containerId;\r\n        container.classList.add('tab-align-' + options.align);\r\n        let stylesId = addCSS(containerId, options);\r\n\r\n        function handleKeypress(e) {\r\n            const code = e.keyCode;\r\n            const link = activeTab.linkButton;\r\n            // eslint-disable-next-line default-case\r\n            if (!link) return;\r\n            switch (code) {\r\n                case 37: // left key\r\n                case 38: // up key\r\n                    scrollRight(e);\r\n                    break;\r\n                case 39: // right key\r\n                case 40: // down key\r\n                    scrollLeft(e);\r\n                    break;\r\n                case 13: // enter key\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        function createButton(tabId, options) {\r\n            let id = tabId || randomId();\r\n            var { text, title, closable, icon, iconcolor } = options;\r\n            title = title || text;\r\n            // let closable = tab.closable;\r\n            icon = icon || '❖';\r\n            let btn = document.createElement('button');\r\n            btn.setAttribute('id', id);\r\n            btn.setAttribute('data-target', 'page-' + id);\r\n            btn.setAttribute('data-tab', id);\r\n            btn.setAttribute('draggable', true);\r\n            btn.setAttribute('title', title || text);\r\n            btn.setAttribute('role', 'tab-button');\r\n            // const label = createLabel(text);\r\n            // btn.appendChild(label);\r\n            btn.appendChild(document.createTextNode(text));\r\n            const tabIcon = createIcon(icon, iconcolor);\r\n            btn.appendChild(tabIcon);\r\n\r\n            if (closable) {\r\n                const closeBtn = createCloseButton();\r\n                closeBtn.addEventListener(\r\n                    'click',\r\n                    (event) => {\r\n                        event.preventDefault();\r\n                        event.stopPropagation();\r\n                        let tabButton = event.target.parentNode;\r\n                        closeTab(tabButton.getAttribute('data-tab'));\r\n                    },\r\n                    true\r\n                );\r\n                btn.appendChild(closeBtn);\r\n            }\r\n\r\n            btn.addEventListener(\r\n                'click',\r\n                (e) => selectTab(btn.getAttribute('data-tab')),\r\n                true\r\n            );\r\n            if (container.classList.contains('draggable')) {\r\n                btn.addEventListener('drop', dnd.drop, true);\r\n                btn.addEventListener('dragover', dnd.allowDrop, true);\r\n                btn.addEventListener('dragstart', dnd.drag);\r\n            }\r\n            return btn;\r\n        }\r\n        function addTab(tabId, options = { attributes: [], iconColor: 'red' }) {\r\n            const btn = createButton(tabId, options);\r\n            const pageId = btn.getAttribute('data-target');\r\n            const vpage = createPage(pageId, options.content);\r\n            // tab.attributes.forEach((a) => btn.setAttribute(a[0], a[1]));\r\n            // delete options.attributes;\r\n            let tab = Object.create(null);\r\n            tab.id = tabId || randomId();\r\n            tab.linkButton = btn;\r\n            tab.tabPage = vpage;\r\n            tab.options = options;\r\n            tabs.push(tab);\r\n            tabPanel.appendChild(vpage);\r\n            // let selectedTab = tabs.find((t) => t.active === true);\r\n            if (activeTab) {\r\n                activeTab.linkButton.after(btn);\r\n            } else {\r\n                tabBar.appendChild(btn);\r\n            }\r\n            selectTab(tabId);\r\n            return tab;\r\n        }\r\n        function createTab(\r\n            tabId,\r\n            options = { attributes: [], iconColor: 'red' }\r\n        ) {\r\n            const btn = createButton(tabId, options);\r\n            const pageId = btn.getAttribute('data-target');\r\n            const page = document.getElementById(pageId);\r\n            let vpage = createPage(pageId, options.content);\r\n            if (!page) {\r\n                // const panel = document.querySelector('.tab-panel');\r\n                tabPanel.appendChild(vpage);\r\n            } else {\r\n                page.replaceWith(vpage);\r\n            }\r\n            // options.attributes.forEach((a) => btn.setAttribute(a[0], a[1]));\r\n\r\n            let tab = Object.create(null);\r\n            tab.id = tabId || randomId();\r\n            tab.linkButton = btn;\r\n            tab.tabPage = vpage;\r\n            delete options.attributes;\r\n            tab.options = options;\r\n            tabs.push(tab);\r\n            // tab.onClick = (fn) => btn.addEventListener('click', fn);\r\n            // delete tab.attributes;\r\n            // selectTab(tab.id);\r\n            return tab;\r\n        }\r\n        const closeTab = debounce(\r\n            (tabId) => {\r\n                // event.preventDefault();\r\n                // event.stopPropagation();\r\n                let tab = tabs.find((t) => t.id === tabId);\r\n                if (!tab) return;\r\n                let tabButton = tab.linkButton;\r\n                let pageId = tabButton.getAttribute('data-target');\r\n                let nextButtonId = null;\r\n                if (tabButton.nextElementSibling) {\r\n                    nextButtonId =\r\n                        tabButton.nextElementSibling.getAttribute('data-tab');\r\n                } else if (tabButton.previousElementSibling) {\r\n                    nextButtonId =\r\n                        tabButton.previousElementSibling.getAttribute(\r\n                            'data-tab'\r\n                        );\r\n                }\r\n                document.getElementById(pageId).remove();\r\n                tabButton.remove();\r\n                selectTab(nextButtonId);\r\n                let index = tabs.findIndex((t) => t.id === tabId);\r\n                tabs.splice(index, 1);\r\n                events.fire('close', tab);\r\n            },\r\n            250,\r\n            true\r\n        );\r\n        const selectTab = debounce(\r\n            (tabId) => {\r\n                let tab = tabs.find((t) => t.id === tabId);\r\n                if (tab) return;\r\n                // let currentTab = tabs.find((t) => t.active === true);\r\n                // if (currentTab) currentTab.active = false;\r\n                if (activeTab) {\r\n                    activeTab.tabPage.style.display = 'none';\r\n                    activeTab.linkButton.classList.remove('active');\r\n                    activeTab.active = false;\r\n                }\r\n\r\n                tab.active = true;\r\n                activeTab = tab;\r\n                selectButton(tab.linkButton.id);\r\n                selectPage(tab.tabPage.id);\r\n                events.fire('select', tab);\r\n                // tab.select();\r\n            },\r\n            250,\r\n            true\r\n        );\r\n        function setTextContent(tabId, content) {\r\n            let tab = tabs.find((t) => t.id === tabId);\r\n            let linkButton = tab.linkButton;\r\n            let pageId = linkButton.getAttribute('data-target');\r\n            let page = document.getElementById(pageId);\r\n            page.textContent = content;\r\n        }\r\n        function setHtml(tabId, content) {\r\n            let tab = tabs.find((t) => t.id === tabId);\r\n            let linkButton = tab.linkButton;\r\n            let pageId = linkButton.getAttribute('data-target');\r\n            let page = document.getElementById(pageId);\r\n            page.innerHTML = content;\r\n        }\r\n        function selectPage(pageId) {\r\n            // let pageId = target.getAttribute('data-target');\r\n            let page = document.getElementById(pageId);\r\n            // if (activeTab) activeTab.tabPage.style.display = 'none';\r\n            page.style.display = 'block';\r\n            activeTab.tabPage = page;\r\n        }\r\n        const scroButtonToView = () => {\r\n            if (!activeTab) return;\r\n            let tabButton = activeTab.linkButton;\r\n            if (isVisible(tabButton)) return;\r\n\r\n            let visibleTabs = getVisibleTabs(tabBar);\r\n            if (visibleTabs.length > 1) {\r\n                let last = visibleTabs[visibleTabs.length - 1];\r\n                if (last.nextElementSibling) {\r\n                    if (tabAlignSide) {\r\n                        visibleTabs[0].style.marginTop =\r\n                            '-' + visibleTabs[0].clientHeight + 'px';\r\n                    } else {\r\n                        visibleTabs[0].style.marginLeft =\r\n                            '-' + visibleTabs[0].clientWidth + 'px';\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        const scrollToActiveTab = debounce(() => {\r\n            scroButtonToView();\r\n        }, 2);\r\n        function selectButton(id) {\r\n            let el = document.getElementById(id);\r\n            if (!el) return;\r\n            let target =\r\n                el.getAttribute('role') === 'tab-button' ? el : el.parentNode;\r\n            target.classList.add('active');\r\n            activeTab.linkButton = target;\r\n\r\n            scroButtonToView();\r\n        }\r\n\r\n        const scrollLeft = debounce(() => {\r\n            // e.preventDefault();\r\n            // let offsetX = tabAlignSide ? 0 : getLeftScrollOffset(tabBar);\r\n            // let offsetY = tabAlignSide ? getTopScrollOffset(tabBar) : 0;\r\n            let visibleTabs = getVisibleTabs(tabBar);\r\n            let allTabs = tabBar.children;\r\n            if (visibleTabs.length >= 1) {\r\n                let last = visibleTabs[visibleTabs.length - 1];\r\n                // if (last.nextElementSibling) {\r\n                if (infiniteScroll) {\r\n                    allTabs[allTabs.length - 1].after(allTabs[0]);\r\n                } else {\r\n                    if (!last.nextElementSibling) return;\r\n                    if (tabAlignSide) {\r\n                        visibleTabs[0].style.marginTop =\r\n                            '-' + visibleTabs[0].clientHeight + 'px';\r\n                    } else {\r\n                        visibleTabs[0].style.marginLeft =\r\n                            '-' + visibleTabs[0].clientWidth + 'px';\r\n                    }\r\n                }\r\n            }\r\n            // scrollToView(tabBar, offsetX, offsetY);\r\n        }, 50);\r\n        const scrollRight = debounce((e) => {\r\n            // let offsetX = tabAlignSide ? 0 : getRightScrollOffset(tabBar);\r\n            // let offsetY = tabAlignSide ? getBottomScrollOffset(tabBar) : 0;\r\n            // scrollToView(tabBar, offsetX, offsetY);\r\n            let visibleTabs = getVisibleTabs(tabBar);\r\n            if (visibleTabs.length >= 1) {\r\n                let first = visibleTabs[0];\r\n                // if (first.previousElementSibling) {\r\n                if (infiniteScroll) {\r\n                    first.before(visibleTabs[visibleTabs.length - 1]);\r\n                } else {\r\n                    if (!first.previousElementSibling) return;\r\n                    if (tabAlignSide) {\r\n                        if (first.previousElementSibling)\r\n                            first.previousElementSibling.style.marginTop = 0;\r\n                    } else {\r\n                        if (first.previousElementSibling)\r\n                            first.previousElementSibling.style.marginLeft = 0;\r\n                    }\r\n                }\r\n            }\r\n        }, 50);\r\n        function ensureMarkup() {\r\n            let tabBarWrapper = document.createElement('div');\r\n            let tabHeader = container.querySelector('.tab-header');\r\n            let tabFooter = container.querySelector('.tab-footer');\r\n            tabPanel = container.querySelector('.tab-panel');\r\n            tabBar = container.querySelector('.tabs');\r\n            if (!tabBar) {\r\n                tabBar = document.createElement('div');\r\n                tabBar.className = 'tabs';\r\n            } else {\r\n                tabBarWrapper = document.createElement('div');\r\n            }\r\n            tabBarWrapper.className = 'tab-bar';\r\n            tabBarWrapper.appendChild(tabBar);\r\n            container.append(tabBarWrapper);\r\n\r\n            let leftNav = tabBarWrapper.querySelector('.left-nav-button');\r\n            let rightNav = tabBarWrapper.querySelector('.right-nav-button');\r\n\r\n            if (!leftNav) {\r\n                leftNav = document.createElement('div');\r\n                leftNav.className = 'left-nav-button';\r\n                tabBarWrapper.prepend(leftNav);\r\n            }\r\n            if (!rightNav) {\r\n                rightNav = document.createElement('div');\r\n                rightNav.className = 'right-nav-button';\r\n                tabBarWrapper.appendChild(rightNav);\r\n            }\r\n\r\n            if (!tabHeader) {\r\n                tabHeader = document.createElement('div');\r\n                tabHeader.className = 'tab-header';\r\n                container.prepend(tabHeader);\r\n            }\r\n            if (!tabPanel) {\r\n                tabPanel = document.createElement('div');\r\n                tabPanel.className = 'tab-panel';\r\n                container.appendChild(tabPanel);\r\n            }\r\n            if (!tabFooter) {\r\n                tabFooter = document.createElement('div');\r\n                tabFooter.className = 'tab-footer';\r\n                container.appendChild(tabFooter);\r\n            }\r\n            tabFooter.innerHTML = options.footer || '';\r\n            tabHeader.innerHTML = options.header || '';\r\n        }\r\n        function init() {\r\n            ensureMarkup();\r\n            // let tabBarWrapper = container.querySelector('.tab-bar');\r\n            // let tabs = container.querySelector('.tabs');\r\n            let buttons = tabBar.querySelectorAll('[role=tab-button]');\r\n\r\n            for (let i = 0; i < buttons.length; i++) {\r\n                const btn = document.getElementById(buttons[i].id);\r\n                let id = btn.id;\r\n                let text = btn.innerText;\r\n                let closable = btn.getAttribute('closable');\r\n                let icon = btn.getAttribute('icon');\r\n                let attr = btn.getAttributeNames();\r\n                let content = btn.innerHTML;\r\n                const attributes = [];\r\n                const options = {\r\n                    id: id,\r\n                    text: text,\r\n                    closable: closable,\r\n                    icon: icon,\r\n                    content,\r\n                };\r\n                attr.forEach((a) => {\r\n                    attributes.push([a, btn.getAttribute(a)]);\r\n                    let val = btn.getAttribute(a);\r\n                    if (typeof val !== 'function') {\r\n                        options[a] = val;\r\n                    }\r\n                });\r\n                let tab = createTab(id, options);\r\n                btn.replaceWith(tab.linkButton);\r\n                selectTab(tab.id);\r\n            }\r\n\r\n            let rightNavBtn = container.querySelector('.right-nav-button');\r\n            rightNavBtn.addEventListener('click', (e) => scrollLeft(e));\r\n\r\n            let leftNavBtn = container.querySelector('.left-nav-button');\r\n            leftNavBtn.addEventListener('click', (e) => scrollRight(e));\r\n\r\n            tabBar.addEventListener(\r\n                'keyup',\r\n                (event) => {\r\n                    handleKeypress(event);\r\n                },\r\n                true\r\n            );\r\n        }\r\n        function destroy() {\r\n            container.outerHTML = original;\r\n            removeCSS(stylesId);\r\n            events.fire('destroy', null);\r\n        }\r\n        function setHeader(text) {\r\n            container.querySelector('.tab-header').textContent = text;\r\n        }\r\n        function setFooterText(text) {\r\n            container.querySelector('.tab-footer').textContent = text;\r\n        }\r\n        function getTab(id) {\r\n            return tabs.find((t) => t.id === id);\r\n        }\r\n        function getTabs() {\r\n            return tabs;\r\n        }\r\n        // Event listeners\r\n        const onSelect = (fn) => events.on('select', fn);\r\n        const onClose = (fn) => events.on('close', fn);\r\n        const onOpen = (fn) => events.on('open', fn);\r\n        const onDestroy = (fn) => events.on('destroy', fn);\r\n\r\n        window.addEventListener('resize', scrollToActiveTab);\r\n\r\n        init();\r\n\r\n        return {\r\n            onOpen,\r\n            onSelect,\r\n            onClose,\r\n            onDestroy,\r\n            addTab,\r\n            closeTab,\r\n            selectTab,\r\n            getTab,\r\n            getTabs,\r\n            setHtml,\r\n            setTextContent,\r\n            setHeader,\r\n            setFooterText,\r\n            destroy,\r\n        };\r\n    }\r\n    return {\r\n        createTabs,\r\n        debounce,\r\n    };\r\n})();\r\nexport default TabView;\r\n\r\n/*const view = TabView.createTabs('tabview-container', {\r\n    theme: 'green',\r\n    header: false,\r\n    footer: 'Copyright 2021 Ampani Inc',\r\n    header: '<b>Programmable Tabs</b>',\r\n    draggable: true,\r\n    contrastColor: 'red',\r\n    headerColor: '#eee',\r\n    headerBg: 'darkcyan',\r\n    footerBg: 'lavender',\r\n    footerColor: 'blue',\r\n});*/\r\n// view.destroy();\r\n\r\n/*const view = TabView.createTabs('tabview-container', {\r\n    theme: 'green',\r\n    header: false,\r\n    footer: 'Copyright 2021 Ampani Inc',\r\n    header: '<b>Programmable Tabs</b>',\r\n    draggable: true,\r\n    contrastColor: 'red',\r\n    headerColor: '#eee',\r\n    headerBg: 'darkcyan',\r\n    footerBg: 'lavender',\r\n    footerColor: 'blue',\r\n});\r\n// view.destroy();\r\n*/\r\n"],"names":["TabView","randomId","Math","random","toString","slice","THEMES","blue","contrastColor","tabBg","tabColor","tabBorderColor","tabButtonBg","hoverBg","hoverColor","activeBg","activeColor","pageBg","pageColor","headerBg","headerColor","footerBg","footerColor","footerBorderColor","iconColor","green","red","orange","grey","dark","black","light","purple","LAYOUT_SETTINGS","header","footer","alginTab","minTabHeight","maxTabWidth","minTabWidth","tabWidth","tabHeight","footerHeight","headerHeight","THEME_SETTINGS","removeCSS","styleId","document","getElementById","remove","addCSS","containerId","options","Object","assign","theme","s","css","styles","createElement","id","stylesId","append","createTextNode","head","appendChild","Emitter","fire","event","data","context","cancelable","bubbles","cntx","myEvent","CustomEvent","detail","dispatchEvent","on","listener","addEventListener","off","removeEventListener","dnd","allowDrop","ev","preventDefault","drag","dataTransfer","setData","target","drop","getData","role","getAttribute","parentNode","dataEl","dragStartPoint","getBoundingClientRect","dragStopPoint","x","y","before","after","debounce","func","wait","immediate","timeout","args","arguments","later","apply","callNow","clearTimeout","setTimeout","isVisible","elem","Element","Error","style","getComputedStyle","display","visibility","opacity","offsetWidth","offsetHeight","height","width","elemCenter","left","top","documentElement","clientWidth","window","innerWidth","clientHeight","innerHeight","pointContainer","elementFromPoint","getVisibleTabs","tabBar","children","visibleTabs","child","push","createCloseButton","btn","setAttribute","classList","add","createIcon","icon","position","color","textContent","createPage","pageId","content","page","createTabs","align","infiniteScroll","tabs","events","tabAlignSide","activeTab","tabPanel","container","original","outerHTML","contains","handleKeypress","e","code","keyCode","link","linkButton","scrollRight","scrollLeft","createButton","tabId","text","title","closable","iconcolor","tabIcon","closeBtn","stopPropagation","tabButton","closeTab","selectTab","addTab","attributes","vpage","tab","create","tabPage","createTab","replaceWith","find","t","nextButtonId","nextElementSibling","previousElementSibling","index","findIndex","splice","active","selectButton","selectPage","setTextContent","setHtml","innerHTML","scroButtonToView","length","last","marginTop","marginLeft","scrollToActiveTab","el","allTabs","first","ensureMarkup","tabBarWrapper","tabHeader","querySelector","tabFooter","className","leftNav","rightNav","prepend","init","buttons","querySelectorAll","i","innerText","attr","getAttributeNames","forEach","a","val","rightNavBtn","leftNavBtn","destroy","setHeader","setFooterText","getTab","getTabs","onSelect","fn","onClose","onOpen","onDestroy"],"mappings":"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AG2B,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY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"}