{"version":3,"file":"tabview.modern.js","sources":["../index.js"],"sourcesContent":["'use strict';\r\n/* jshint esversion: 8 */\r\nconst TabView = (function () {\r\n    function randomId() {\r\n        return Math.random().toString(36).slice(2);\r\n    }\r\n    // Returns a function, that, as long as it continues to be invoked, will not\r\n    // be triggered. The function will be called after it stops being called for\r\n    // N milliseconds. If `immediate` is passed, trigger the function on the\r\n    // leading edge, instead of the trailing.\r\n    function debounce(func, wait, immediate) {\r\n        let timeout;\r\n        return function () {\r\n            const context = this;\r\n            const args = arguments;\r\n            const later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            const callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    }\r\n\r\n    const Emitter = (function () {\r\n        return {\r\n            fire(event, data, context, cancelable, bubbles) {\r\n                const cntx = context || document;\r\n                const myEvent = new CustomEvent(event, {\r\n                    detail: data,\r\n                    cancelable: cancelable || false,\r\n                    bubbles: bubbles || false,\r\n                });\r\n                cntx.dispatchEvent(myEvent);\r\n            },\r\n            on(event, listener, context) {\r\n                const cntx = context || document;\r\n                cntx.addEventListener(event, listener);\r\n            },\r\n            off(event, listener, context) {\r\n                const cntx = context || document;\r\n                cntx.removeEventListener(event, listener);\r\n            },\r\n        };\r\n    })();\r\n\r\n    const Event = function () {\r\n        const _listeners = {};\r\n        return {\r\n            addListener(type, listener) {\r\n                if (typeof _listeners[type] === 'undefined') {\r\n                    _listeners[type] = [];\r\n                }\r\n                _listeners[type].push(listener);\r\n            },\r\n            attach(type, listener) {\r\n                this.addListener(type, listener);\r\n            },\r\n            on(type, listener) {\r\n                this.addListener(type, listener);\r\n            },\r\n\r\n            fire(event, data, target) {\r\n                if (typeof event === 'string') {\r\n                    event = {\r\n                        type: event,\r\n                        data,\r\n                        target,\r\n                    };\r\n                }\r\n                if (!event.target) {\r\n                    event.target = this;\r\n                }\r\n                if (!event.type) {\r\n                    // falsy\r\n                    throw new Error('Type error');\r\n                }\r\n                if (_listeners[event.type] instanceof Array) {\r\n                    const listeners = _listeners[event.type];\r\n                    for (let i = 0, len = listeners.length; i < len; i++) {\r\n                        listeners[i].call(this, event);\r\n                    }\r\n                }\r\n            },\r\n            trigger(type, listener) {\r\n                this.fire(type, listener);\r\n            },\r\n\r\n            removeListener(type, listener) {\r\n                if (_listeners[type] instanceof Array) {\r\n                    const listeners = _listeners[type];\r\n                    for (let i = 0, len = listeners.length; i < len; i++) {\r\n                        if (listeners[i] === listener) {\r\n                            listeners.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            off(type, listener) {\r\n                this.removeListener(type, listener);\r\n            },\r\n        };\r\n    };\r\n\r\n    function createTabButton(linkId, tabId, { target, fancy, title, bg }) {\r\n        const tabBtn = document.createElement('button');\r\n        tabBtn.className = 'tab-link';\r\n        tabBtn.setAttribute('href', '#!');\r\n        tabBtn.setAttribute('id', linkId);\r\n        tabBtn.setAttribute('title', title);\r\n        tabBtn.setAttribute('name', 'tab-link');\r\n        tabBtn.setAttribute('draggable', 'true');\r\n        tabBtn.setAttribute('data-tab', tabId);\r\n        tabBtn.setAttribute('data-target', target);\r\n        tabBtn.style.position = 'relative';\r\n        tabBtn.style.outline = 'none';\r\n        tabBtn.style.height = '100%';\r\n        tabBtn.style.width = 'auto';\r\n        tabBtn.style.border = '0 none transparent';\r\n        tabBtn.style.fontSize = '12px';\r\n        tabBtn.style.fontWeight = '500';\r\n        tabBtn.style.margin = '0';\r\n        tabBtn.style.padding = '0';\r\n        tabBtn.style.boxShadow = 'none';\r\n        tabBtn.style.background = bg || 'inherit';\r\n        tabBtn.style.color = 'inherit';\r\n        tabBtn.style.cursor = 'pointer';\r\n        tabBtn.style.display = 'block';\r\n        // tabBtn.style.transform = 'rotate(-5deg)';\r\n        tabBtn.style.transition = 'background .1s';\r\n        if (fancy) {\r\n            tabBtn.style.borderRadius = '8px 1px 0px 0px';\r\n        } else {\r\n            tabBtn.style.borderRadius = '1px 1px 0px 0px';\r\n        }\r\n\r\n        return tabBtn;\r\n    }\r\n    function createCloseButton() {\r\n        const closeBtn = document.createElement('a');\r\n        closeBtn.innerHTML = '&times';\r\n        closeBtn.setAttribute('name', 'close-button');\r\n        closeBtn.setAttribute('title', 'close');\r\n        closeBtn.style.borderRadius = '50%';\r\n        closeBtn.style.visibility = 'hidden';\r\n        closeBtn.style.height = closeBtn.style.width = '16px';\r\n        closeBtn.style.float = 'right';\r\n        closeBtn.style.marginRight = '2px';\r\n        closeBtn.style.marginLeft = '5px';\r\n        closeBtn.style.display = 'flex';\r\n        closeBtn.style.padding = '2px 0px 0px 4px';\r\n        closeBtn.style.alignContent = 'center';\r\n        closeBtn.style.alignItems = 'center';\r\n        closeBtn.style.fontSize = '18px';\r\n        closeBtn.style.color = '#efefef';\r\n        closeBtn.style.fontWeight = '700';\r\n        closeBtn.style.background = 'transparent';\r\n        closeBtn.addEventListener('mouseenter', () => {\r\n            closeBtn.style.color = 'red';\r\n        });\r\n        closeBtn.addEventListener('mouseleave', () => {\r\n            closeBtn.style.color = '';\r\n        });\r\n\r\n        return closeBtn;\r\n    }\r\n    function createLabel(text, title) {\r\n        const label = document.createElement('label');\r\n        label.setAttribute('name', 'tab-link-label');\r\n        label.className = 'tab-link-label';\r\n        label.style.margin = '0';\r\n        label.style.paddingRight = '4px';\r\n        label.style.paddingLeft = '2px';\r\n        label.style.verticalAlign = 'middle';\r\n        // label.style.padding = '0';\r\n        label.style.color = 'inherit';\r\n        label.style.maxWidth = '125px';\r\n        label.style.overflow = 'hidden';\r\n        label.style.textOverflow = 'ellipse';\r\n        label.style.whiteSpace = 'nowrap';\r\n        label.style.background = '';\r\n        label.style.cursor = 'pointer';\r\n        label.style.fontSize = 'inherit';\r\n        label.style.fontWeight = 'inherit';\r\n        label.append(document.createTextNode(text));\r\n        label.setAttribute('title', title || text);\r\n        return label;\r\n    }\r\n    function createTabBarWraper() {\r\n        const tabbarContainer = document.createElement('div');\r\n        tabbarContainer.style.position = 'relative';\r\n        tabbarContainer.style.height = '100%';\r\n        // tabbarContainer.style.height = '100%';\r\n        tabbarContainer.style.width = '100%';\r\n        tabbarContainer.style.border = 'none';\r\n        tabbarContainer.style.padding = '0';\r\n        tabbarContainer.style.background = 'red';\r\n        tabbarContainer.className = 'tabbar-wrapper';\r\n        return tabbarContainer;\r\n    }\r\n    function createTabBar() {\r\n        const tabBar = document.createElement('div');\r\n        tabBar.setAttribute('id', randomId());\r\n        tabBar.style.position = 'absolute';\r\n        // tabBar.style.width = '100%';\r\n        tabBar.style.top = '0';\r\n        tabBar.style.bottom = '0';\r\n        tabBar.style.left = '16px';\r\n        tabBar.style.right = '16px';\r\n        tabBar.style.overflow = 'hidden';\r\n        tabBar.style.padding = '1px';\r\n        tabBar.style.margin = '0px';\r\n        tabBar.style.paddingRight = '7px';\r\n        tabBar.style.background = 'inherit';\r\n        tabBar.style.display = 'flex';\r\n        tabBar.className = 'tab-bar';\r\n        return tabBar;\r\n    }\r\n    function createButton(name, text, float) {\r\n        const btn = document.createElement('button');\r\n        btn.id = randomId();\r\n        btn.setAttribute('name', name);\r\n        btn.style.position = 'relative';\r\n        btn.style.height = '100%';\r\n        btn.style.border = '0 none transparent';\r\n        btn.style.background = 'transparent';\r\n        btn.style.color = 'white';\r\n        btn.style.marginRight = btn.style.marginLeft = '1px';\r\n        btn.style.padding = '2px';\r\n        // btn.style.paddingLeft = btn.style.paddingRight = '2px';\r\n        btn.style.cursor = 'pointer';\r\n        btn.style.fontWeight = '900';\r\n        btn.style.fontSize = '14px';\r\n        btn.style.float = float || 'none';\r\n        btn.style.outline = 'none';\r\n        btn.style.borderRadius = '4px 4px';\r\n        btn.innerHTML = text;\r\n        return btn;\r\n    }\r\n    function createImage(options) {\r\n        const img = document.createElement('span');\r\n        img.style.marginRight = '2px';\r\n        // img.style.color = '#b00';\r\n        img.style.fontWeight = 'bold';\r\n        img.innerHTML = options.icon || 'kb';\r\n        img.style.float = 'left';\r\n        img.style.paddingLeft = '4px';\r\n        return img;\r\n    }\r\n    function createLabelContainer(options) {\r\n        const labelContainer = document.createElement('label');\r\n        labelContainer.setAttribute('name', 'tab-link-label-wraper');\r\n        labelContainer.style.display = 'flex';\r\n        labelContainer.style.alignContent = 'center';\r\n        labelContainer.style.alignItems = 'center';\r\n        labelContainer.style.padding = '2px';\r\n        labelContainer.style.height = '100%';\r\n        labelContainer.style.width = '100%';\r\n        labelContainer.style.color = 'inherit';\r\n        labelContainer.style.background = 'transparent';\r\n        labelContainer.style.cursor = 'pointer';\r\n\r\n        return labelContainer;\r\n    }\r\n    function createTable(tabBarWrapper, pagePanel, settings = {}) {\r\n        let banner;\r\n        let footer;\r\n        if (settings.banner) {\r\n            banner = addBanner();\r\n        }\r\n        if (settings.footer) {\r\n            footer = addFooter();\r\n        }\r\n        const doc = document.createDocumentFragment();\r\n        const table = document.createElement('table');\r\n        table.style.width = table.style.height = '100%';\r\n        doc.append(table);\r\n\r\n        const thead = document.createElement('thead');\r\n        table.append(thead);\r\n\r\n        const bannerRow = document.createElement('tr');\r\n        bannerRow.style.minHeight = '0px';\r\n        bannerRow.style.maxHeight = '80px';\r\n        thead.append(bannerRow);\r\n        const th = document.createElement('th');\r\n        // th.setAttribute('colspan',3);\r\n        th.style.textAlign = 'left';\r\n        th.style.padding = '0';\r\n        if (banner) {\r\n            th.append(banner);\r\n        } else {\r\n            bannerRow.style.display = 'none';\r\n        }\r\n        bannerRow.appendChild(th);\r\n\r\n        const tbody = document.createElement('tbody');\r\n        table.append(tbody);\r\n\r\n        const linkRow = document.createElement('tr');\r\n        linkRow.style.minHeight = '24px';\r\n        linkRow.style.height = `${settings.tabHeight}px`;\r\n        linkRow.style.padding = '0';\r\n        tbody.append(linkRow);\r\n\r\n        let td = document.createElement('td');\r\n        td.style.overflow = 'hidden';\r\n        td.style.whiteSpace = 'nowrap';\r\n        td.style.textAlign = 'left';\r\n        td.style.padding = '0';\r\n        td.append(tabBarWrapper);\r\n        linkRow.appendChild(td);\r\n        table.style.borderCollapse =\r\n            linkRow.style.borderCollapse =\r\n            td.style.borderCollapse =\r\n                'collapse';\r\n        table.style.border =\r\n            linkRow.style.border =\r\n            td.style.border =\r\n                '0 none transparent';\r\n\r\n        const pageRow = document.createElement('tr');\r\n        tbody.append(pageRow);\r\n        td = document.createElement('td');\r\n        td.append(pagePanel);\r\n        td.style.textAlign = 'left';\r\n        td.style.padding = '0';\r\n        pageRow.appendChild(td);\r\n\r\n        const linkRow2 = document.createElement('tr');\r\n        tbody.append(linkRow2);\r\n        td = document.createElement('td');\r\n        td.style.textAlign = 'left';\r\n        td.style.padding = '0';\r\n        linkRow2.appendChild(td);\r\n        linkRow2.style.minHeight = '24px';\r\n        linkRow2.style.height = `${settings.tabHeight}px`;\r\n\r\n        const footerRow = document.createElement('tr');\r\n        tbody.append(footerRow);\r\n        td = document.createElement('td');\r\n        footerRow.appendChild(td);\r\n        footerRow.style.maxHeight = '24px';\r\n        td = document.createElement('td');\r\n        td.style.padding = '0';\r\n        if (footer) {\r\n            td.append(footer || document.createTextNode(''));\r\n        } else {\r\n            footerRow.style.display = 'none';\r\n        }\r\n        footerRow.appendChild(td);\r\n        td = document.createElement('td');\r\n        td.style.padding = '0';\r\n        footerRow.appendChild(td);\r\n        if (settings.bottom) {\r\n            linkRow2.firstElementChild.nextSibling.appendChild(tabBarWrapper);\r\n            linkRow.style.display = 'none';\r\n        } else {\r\n            linkRow2.style.display = 'none';\r\n        }\r\n        return doc;\r\n    }\r\n    function createPage(pageId, tabId, linkId, options) {\r\n        const page = document.createElement('div');\r\n        page.setAttribute('id', pageId);\r\n        page.setAttribute('data-tab', tabId);\r\n        page.setAttribute('data-trigger', linkId);\r\n        page.innerHTML = options.text || '';\r\n        page.style.position = 'absolute';\r\n        page.style.padding = '8px 16px';\r\n        page.style.visibility = 'hidden';\r\n        page.style.overflow = 'hidden';\r\n        page.style.top =\r\n            page.style.bottom =\r\n            page.style.left =\r\n            page.style.right =\r\n                '0';\r\n        // page.style.top='0'; do not specify top!!!\r\n        page.style.background = options.bg || '';\r\n        return page;\r\n    }\r\n    function createPagePanel() {\r\n        const panel = document.createElement('div');\r\n        panel.setAttribute('id', randomId());\r\n        panel.style.position = 'relative';\r\n        panel.className = 'tab-panel';\r\n        panel.style.width = '100%';\r\n        panel.style.height = '100%';\r\n        panel.style.overflow = 'hidden';\r\n        panel.style.margin = '0';\r\n        panel.style.top = '0';\r\n        panel.style.background = '';\r\n        return panel;\r\n    }\r\n    function loadFromMarkup(el, fn) {\r\n        if (typeof el === 'string') {\r\n            el = document.getElementById(el);\r\n        }\r\n        if (!el || !el.children) {\r\n            throw new Error('Invalid element to load markup');\r\n        }\r\n        const markup = el.children;\r\n        // let doc=document.createDocumentFragment();\r\n        if (!markup || markup.length === 0) return fn();\r\n        const banner = el.querySelector('.tab-banner');\r\n        const footer = el.querySelector('.tab-footer');\r\n        const links = el.querySelector('.tab-links').children;\r\n        const pages = el.querySelector('.tab-pages').children;\r\n        const data = {\r\n            banner: banner.innerHTML,\r\n            footer: footer.innerHTML,\r\n            tabs: [],\r\n        };\r\n        if (banner) banner.remove();\r\n        if (footer) footer.remove();\r\n\r\n        while (links.length > 0) {\r\n            const node = links[0];\r\n            const page = pages[0];\r\n            if (!node) continue;\r\n            data.tabs.push({\r\n                id: node.id !== '' ? node.id : null,\r\n                label: node.textContent,\r\n                title: node.getAttribute('title'),\r\n                closable: node.getAttribute('closable'),\r\n                target: node.getAttribute('data-target'),\r\n                selected: node.getAttribute('selected'),\r\n                html: page ? page.innerHTML : '',\r\n                bg: page ? page.style.background : '#0bc',\r\n                style: node.getAttribute('tab-style'),\r\n            });\r\n            node.remove();\r\n            page.remove();\r\n        }\r\n        return data;\r\n    }\r\n    function addFooter() {\r\n        const footer = document.createElement('span');\r\n        footer.setAttribute('name', 'tab-footer');\r\n        footer.innerHTML = settings.footer;\r\n        footer.className = 'tab-footer';\r\n        footer.style.left = '0';\r\n        footer.style.right = '0';\r\n        footer.style.bottom = '0';\r\n        footer.style.padding = '2px';\r\n        footer.style.display = 'flex';\r\n        footer.style.justifyContent = 'center';\r\n        footer.style.alignItems = 'center';\r\n        // footer.style.background='#030';\r\n        // footer.style.borderTop='1px solid #020';\r\n\r\n        return footer;\r\n    }\r\n    function addBanner() {\r\n        const banner = document.createElement('span');\r\n        banner.setAttribute('name', 'tab-banner');\r\n        banner.innerHTML =\r\n            typeof settings.banner === 'string'\r\n                ? settings.banner\r\n                : settings.banner.innerHTML;\r\n        banner.style.display = 'flex';\r\n        banner.style.padding = '5px';\r\n        banner.style.justifyContent = 'center';\r\n        banner.style.alignItems = 'center';\r\n        banner.className = 'tab-banner';\r\n        banner.style.background = 'green';\r\n\r\n        return banner;\r\n    }\r\n    function mountTab(el, doc, tabPagePanel) {\r\n        // const container = typeof el === 'object' ? el : document.getElementById(el);\r\n        container.appendChild(tabPagePanel);\r\n        const tabbar = doc.querySelector('div');\r\n        let banner;\r\n        let footer;\r\n        if (settings.banner) {\r\n            banner = addBanner(container);\r\n            container.prepend(banner);\r\n        }\r\n        if (settings.bottom) {\r\n            container.lastChild.after(doc);\r\n        } else {\r\n            container.lastChild.before(doc);\r\n        }\r\n        if (settings.footer) {\r\n            footer = addFooter(container);\r\n            container.lastChild.after(footer);\r\n        }\r\n        // container.style.height='100%';\r\n        // container.style.width='100%';\r\n        container.style.top =\r\n            container.style.bottom =\r\n            container.style.left =\r\n            container.style.right =\r\n                '0';\r\n        const bannerBox = banner ? banner.getBoundingClientRect() : null;\r\n        const bannerBottom = banner ? bannerBox.bottom - bannerBox.top : 0;\r\n\r\n        const footerBox = footer ? footer.getBoundingClientRect() : null;\r\n        const footerTop = footer ? footerBox.bottom - footerBox.top : 0;\r\n\r\n        if (settings.bottom) {\r\n            // tab bar is at bottom oftab window\r\n            tabbar.style.bottom = `${footerTop}px`;\r\n        } else {\r\n            tabbar.style.top = `${bannerBottom}px`;\r\n        }\r\n        tabbar.style.border = '0px none transparent';\r\n        tabPagePanel.style.border = '0px none transparent';\r\n    }\r\n    function applySelection(el, options) {\r\n        if (!el || !el.parentElement) {\r\n            return;\r\n        }\r\n        const tablinks = el.parentElement.children;\r\n        for (let i = 0; i < tablinks.length; i++) {\r\n            tablinks[i].classList.remove('active');\r\n            tablinks[i].style.background = options.bg;\r\n            tablinks[i].style.color = options.color;\r\n            // tablinks[i].lastChild.lastChild.style.visibility = \"hidden\";\r\n            tablinks[i].style.boxShadow = '1px 1px 2px 1px #333';\r\n            // tablinks[i].style.margin = '';\r\n        }\r\n\r\n        el.classList.add('active');\r\n        el.style.background = options.activeBg;\r\n        el.style.color = options.activecolor;\r\n        el.style.boxShadow = '4px 4px 16px 2px #333';\r\n        // el.style.marginRight = '1px';\r\n    }\r\n    const createTabs = function (el, options) {\r\n        const tabIndex = -1;\r\n        const currentIndex = 0;\r\n        const customEvent = new Event();\r\n        let selectedTab;\r\n        let tabBar;\r\n        let tabBarWraper;\r\n        let rightBtn;\r\n        let leftBtn;\r\n        let addBtn;\r\n        let pagePanelId;\r\n        let tabBarId;\r\n        let themeOptions;\r\n        let tabSettings;\r\n        let container;\r\n        let tabButtonsCount;\r\n        let dragStartPoint;\r\n        let dragStopPoint;\r\n        const tabs = new Map();\r\n        const buttons = {};\r\n        const links = {};\r\n        const pages = {};\r\n        const hiddenTabs = [];\r\n\r\n        init(el, options);\r\n        /**\r\n         * Initialize tab container\r\n         * @param {HTMLElement} el HTMLElement to attach tabs\r\n         * @param {Object} options Additional settings\r\n         * @returns void\r\n         */\r\n        function init(el, options) {\r\n            container =\r\n                typeof el === 'object' && el instanceof HTMLElement\r\n                    ? el\r\n                    : document.getElementById(el);\r\n            themeOptions = options;\r\n            const data = options.loadFromMarkup ? loadFromMarkup(el) : null;\r\n            if (data) {\r\n                themeOptions = Object.assign(themeOptions, data);\r\n            }\r\n            applySettings(themeOptions);\r\n            leftBtn = createButton('left-nav-button', '&lt;', 'left');\r\n            // leftNavId = leftBtn.id;\r\n            leftBtn.addEventListener('mousedown', () => {\r\n                scroll(false);\r\n            });\r\n\r\n            addBtn = createButton('add-tab-button', '+', 'left');\r\n            // addBtnId = addBtn.id;\r\n            if (themeOptions.add) {\r\n                addBtn.style.visibility = 'visible';\r\n            } else {\r\n                addBtn.style.visibility = 'hidden';\r\n            }\r\n            addBtn.addEventListener('mousedown', () => {\r\n                customEvent.fire('add-tab-click', randomId());\r\n            });\r\n            tabBar = createTabBar();\r\n            tabBarId = tabBar.id;\r\n\r\n            tabBarWraper = createTabBarWraper();\r\n            tabBarWraper.appendChild(leftBtn);\r\n            tabBarWraper.append(tabBar);\r\n            // tabBarWraper.appendChild(addBtn);\r\n            /////tabBarWraper.style.background = 'purple';\r\n            rightBtn = createButton('right-nav-button', '&gt;', 'right');\r\n            rightBtn.addEventListener('mousedown', () => {\r\n                scroll(true);\r\n            });\r\n            tabBarWraper.appendChild(rightBtn);\r\n            const pagePanel = createPagePanel();\r\n            pagePanelId = pagePanel.id;\r\n            const layout = createTable(tabBarWraper, pagePanel, themeOptions);\r\n\r\n            container.append(layout);\r\n            setTheme(themeOptions.theme);\r\n            attachDomEventListeners(this);\r\n            if (themeOptions.tabs) {\r\n                dynamicLoad(themeOptions.tabs);\r\n            }\r\n            toggleNavigator(getLeftNavButton(), false);\r\n            toggleNavigator(getRightNavButton(), false);\r\n            ///////rightBtn.style.visibility = 'visible';\r\n        }\r\n\r\n        function getTabAtIndex(index) {\r\n            let tab = null;\r\n            let i = 0;\r\n            for (const value of tabs.values()) {\r\n                if (i === index) {\r\n                    tab = value;\r\n                    break;\r\n                }\r\n                i++;\r\n            }\r\n            return tab;\r\n        }\r\n\r\n        function unhide() {\r\n            // const tabs = tabs.entries()\r\n            const last = getTabAtIndex(tabs.size - 1).linkButton;\r\n            const visibles = getVisibleTabs();\r\n            const firstVisible = visibles[0];\r\n            if (!firstVisible.previousSibling) return;\r\n            // let lastVisible=visibles[visibles.length-1];\r\n            const lastHidden = firstVisible.previousSibling || firstVisible;\r\n            const { width } = lastHidden.getBoundingClientRect();\r\n            const gap =\r\n                tabBar.getBoundingClientRect().right -\r\n                last.getBoundingClientRect().right;\r\n            if (width < gap) {\r\n                scrollLinkIntoView(lastHidden);\r\n            }\r\n        }\r\n\r\n        function attachDomEventListeners() {\r\n            const tabBar = getTabBar();\r\n            window.addEventListener('resize', () => {\r\n                debounce(() => {\r\n                    if (!selectedTab) return false;\r\n                    if (!isLinkVisible(selectedTab.linkButton)) {\r\n                        scrollLinkIntoView(selectedTab.linkButton);\r\n                    } else {\r\n                        unhide();\r\n                        scrollLinkIntoView(selectedTab.linkButton);\r\n                    }\r\n                    // showHideNavButton();\r\n                    showHideNavigator();\r\n                }, 200);\r\n            });\r\n\r\n            tabBar.addEventListener(\r\n                'keyup',\r\n                (event) => {\r\n                    handleKeypress(event);\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\r\n                'drop',\r\n                (event) => {\r\n                    event.preventDefault();\r\n\r\n                    dragStopPoint = event.clientX;\r\n                    drop(event);\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\r\n                'dragover',\r\n                (event) => {\r\n                    event.preventDefault();\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener('dragstart', (event) => {\r\n                dragStartPoint = event.clientX;\r\n                drag(event);\r\n            });\r\n        }\r\n\r\n        function handleKeypress(e) {\r\n            const code = e.keyCode;\r\n            const link = selectedTab.button;\r\n            // eslint-disable-next-line default-case\r\n            if (!link) return;\r\n            switch (code) {\r\n                case 37:\r\n                    if (link.previousSibling) {\r\n                        select(link.previousSibling.getAttribute('data-tab'));\r\n                    }\r\n                    break; // left key\r\n                case 39:\r\n                    if (link.nextSibling) {\r\n                        select(link.nextSibling.getAttribute('data-tab'));\r\n                    }\r\n                    break; // right key\r\n                case 38:\r\n                    break; // up key\r\n                case 40:\r\n                    link.blur();\r\n                    break; // down key\r\n                case 13:\r\n                    break; // enter key\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        function showHideNavigator() {\r\n            const visibleButtons = getVisibleTabs();\r\n            const firstVisibleButton = visibleButtons[0];\r\n            const lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n            if (!firstVisibleButton) return;\r\n            if (firstVisibleButton.previousSibling) {\r\n                toggleNavigator(getLeftNavButton(), true);\r\n            } else {\r\n                toggleNavigator(getLeftNavButton(), false);\r\n            }\r\n            if (lastVisibleButton.nextSibling) {\r\n                toggleNavigator(getRightNavButton(), true);\r\n            } else {\r\n                toggleNavigator(getRightNavButton(), false);\r\n            }\r\n        }\r\n        function showHideNavButton() {\r\n            // console.log(settings);\r\n            if (themeOptions.infiniteScroll) {\r\n                // return;\r\n            }\r\n            const visibleButtons = getVisibleTabs();\r\n            const firstVisibleButton = visibleButtons[0];\r\n            const lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n            if (!firstVisibleButton) return;\r\n            const rBtn = getRightNavButton();\r\n            const lBtn = getLeftNavButton();\r\n            if (firstVisibleButton.previousSibling) {\r\n                toggleNavButton(rBtn, true);\r\n            } else {\r\n                toggleNavButton(lBtn, false);\r\n            }\r\n            if (lastVisibleButton.nextSibling) {\r\n                toggleNavButton(rBtn, true);\r\n            } else {\r\n                toggleNavButton(rBtn, false);\r\n            }\r\n        }\r\n\r\n        function toggleNavButton(el, show) {\r\n            if (show) {\r\n                // el.style.visibility = 'visible';\r\n                el.style.display = 'block';\r\n            } else {\r\n                // el.style.visibility = 'hidden';\r\n                el.style.display = 'none';\r\n            }\r\n        }\r\n\r\n        function toggleAddButton(show) {\r\n            if (show) {\r\n                getAddButton().style.display = 'block';\r\n            } else {\r\n                getAddButton().style.display = 'none';\r\n            }\r\n        }\r\n\r\n        function applyTheme(options) {\r\n            const table = getContainer().querySelector('table');\r\n            table.style.background = '';\r\n            table.style.color = options.color;\r\n            leftBtn.style.color =\r\n                rightBtn.style.color =\r\n                addBtn.style.color =\r\n                    options.color;\r\n            tabBarWraper.style.background = options.activeBg;\r\n        }\r\n\r\n        // Public API\r\n        /** *\r\n         * @param theme String\r\n         * @returns null\r\n         */\r\n        function setTheme(theme) {\r\n            let color = '#ddd';\r\n            let bg = '#4486a3';\r\n            let activecolor = '#ddd';\r\n            let activeBg = '#4476a3';\r\n            switch (theme) {\r\n                case 'dark':\r\n                    // bg = '#002255';\r\n                    // activeBg = '#003355';\r\n                    // color = '#fff';\r\n                    break;\r\n                case 'black':\r\n                    // bg = '#111';\r\n                    // activeBg = '#333';\r\n                    // color = '#fff';\r\n                    break;\r\n                case 'blue':\r\n                    bg = 'rgba(8, 68, 117, 1)';\r\n                    activeBg = 'rgba(10, 100, 186, 1)';\r\n                    break;\r\n                case 'green':\r\n                    bg = 'rgba(0, 149, 120, 1)';\r\n                    activeBg = '#054';\r\n                    break;\r\n                case 'red':\r\n                    bg = 'rgb(120, 0, 30)';\r\n                    activeBg = 'rgb(123, 0, 50)';\r\n                    break;\r\n                case 'white':\r\n                    bg = '#bcd';\r\n                    color = '#000';\r\n                    activecolor = '#eee';\r\n                    break;\r\n                default:\r\n                    bg = 'rgba(10, 100, 186, 1)';\r\n                    activeBg = 'rgba(10, 100, 206, 1)';\r\n                    color = '#fff';\r\n                    break;\r\n            }\r\n            tabSettings = {\r\n                bg,\r\n                color,\r\n                activecolor,\r\n                activeBg,\r\n            };\r\n            applyTheme(tabSettings);\r\n        }\r\n\r\n        function getTheme() {\r\n            return themeOptions.theme;\r\n        }\r\n\r\n        function toggleNavigator(el, show) {\r\n            if (show) {\r\n                //el.style.visibility = 'visible';\r\n                el.style.display = 'block';\r\n            } else {\r\n                // el.style.visibility = 'hidden';\r\n                el.style.display = 'none';\r\n            }\r\n        }\r\n\r\n        function getSelectedTab() {\r\n            return selectedTab;\r\n        }\r\n\r\n        function getTab(tabId) {\r\n            return tabs.get(tabId);\r\n        }\r\n\r\n        function setContent(id, content) {\r\n            const page = tabs.get(id).pageId;\r\n            document.getElementById(page).innerHTML = content;\r\n        }\r\n\r\n        function setTitle(id, title) {\r\n            const link = tabs.get(id).linkId;\r\n            document.getElementById(link).firstElementChild.innerHTML = title;\r\n        }\r\n        function applySettings(options) {\r\n            const mySettings = {\r\n                limit: undefined,\r\n                banner: undefined,\r\n                footer: undefined,\r\n                closeOnClick: undefined,\r\n                infiniteScroll: false,\r\n                fancy: false,\r\n                add: false,\r\n                theme: '',\r\n                tabHeight: 32,\r\n                leftTooltip: '&lt;',\r\n                rightTooltip: '&gt;',\r\n                addTooltip: '+',\r\n                data: null,\r\n            };\r\n\r\n            themeOptions = Object.assign(mySettings, options);\r\n        }\r\n        function dynamicLoad(tabs) {\r\n            if (!tabs) return;\r\n            let selected = null;\r\n            tabs.forEach((d) => {\r\n                if (d.selected) {\r\n                    selected = d.id;\r\n                }\r\n                const tab = add(d);\r\n                const page = getPage(tab.id);\r\n                // page.parentElement.style.top='80px';\r\n                // page.background='#054';\r\n                page.innerHTML =\r\n                    typeof d.html === 'function' ? d.html() : d.html;\r\n                page.setAttribute('contenteditable', true);\r\n                page.style.overflow = 'auto';\r\n                page.style.zIndex = '100';\r\n            });\r\n            if (selected) {\r\n                select(selected);\r\n            }\r\n        }\r\n\r\n        function getPage(tabId) {\r\n            const tab = tabs.get(tabId);\r\n            return document.getElementById(tab.pageId);\r\n        }\r\n\r\n        function getLinkButton(linkId) {\r\n            return document.getElementById(linkId);\r\n        }\r\n\r\n        function getCloswButton(id) {\r\n            const linkButton = getLinkButton(id);\r\n            return linkButton ? linkButton.lastElementChild() : null;\r\n        }\r\n\r\n        function getTabPagePanel() {\r\n            return document.getElementById(pagePanelId);\r\n        }\r\n\r\n        function getRightNavButton() {\r\n            return rightBtn;\r\n        }\r\n\r\n        function getLeftNavButton() {\r\n            return leftBtn;\r\n        }\r\n\r\n        function getAddButton() {\r\n            return addBtn;\r\n        }\r\n\r\n        function getFooter() {\r\n            return document.getElementById(footerId);\r\n        }\r\n\r\n        function getBanner() {\r\n            return document.getElementById(bannerId);\r\n        }\r\n\r\n        function getTabBar() {\r\n            return document.getElementById(tabBarId);\r\n        }\r\n\r\n        function getContainer() {\r\n            return container; // document.getElementById(containerId);\r\n        }\r\n        function hideExtraTabs() {\r\n            const links = Object.values(links);\r\n            const numTotal = links.length;\r\n            const numVisible = Math.min(numTotal, themeOptions.limit);\r\n            for (let i = 0; i < links.length; i++) {\r\n                links[i].style.display = 'none'; // hide xo tabs.\r\n            }\r\n            for (let j = 0; j < numVisible; j++) {\r\n                links[j].style.display = 'inline'; // Show visible tabs.\r\n            }\r\n        }\r\n\r\n        function getLinkTarget(el) {\r\n            try {\r\n                while (el.name !== 'tab-link') {\r\n                    el = el.parentElement;\r\n                }\r\n                return el;\r\n            } catch (e) {\r\n                // const length = tabs.size - 1\r\n                return getTabAtIndex(tabs.size - 1).linkButton;\r\n                // Object.values(tabs)[length].linkButton\r\n            }\r\n        }\r\n\r\n        function allowDrop(ev) {\r\n            ev.preventDefault();\r\n        }\r\n\r\n        function drag(ev) {\r\n            ev.dataTransfer.setData('text', ev.target.id);\r\n        }\r\n\r\n        function drop(ev) {\r\n            ev.preventDefault();\r\n            const data = ev.dataTransfer.getData('text');\r\n            // do not drop on label wrappers or close button\r\n            const target = getLinkTarget(ev.target);\r\n            const dataEl = document.getElementById(data);\r\n\r\n            if (dragStartPoint > dragStopPoint) {\r\n                target.before(dataEl);\r\n            } else {\r\n                target.after(dataEl);\r\n            }\r\n            // target.parentNode.insertBefore(dataEl,dragStartPoint>dragStopPoint?target:target.nextSibling);\r\n        }\r\n        function getSettings(options) {\r\n            const { length } = Object.keys(buttons);\r\n            const tabId = options.tabId || randomId();\r\n            const buttonId = `tab-btn-${tabId}`;\r\n            const target = `tab-page-${tabId}`;\r\n            const tabLabel = options.label || `Tab${Number(length + 1)}`;\r\n            const title = options.title || tabLabel;\r\n\r\n            const settings = {\r\n                tabId,\r\n                buttonId,\r\n                target,\r\n                label: tabLabel,\r\n                title,\r\n                html: options.html || '',\r\n                closable: options.close || true,\r\n                data: options.data || null,\r\n                icon: options.icon || '',\r\n                bg: options.bg || 'inherit',\r\n                color: options.color || 'inherit',\r\n                fancy: themeOptions.fancy,\r\n            };\r\n            return Object.assign(settings, options);\r\n        }\r\n        function handleTabClick(e) {\r\n            e.stopImmediatePropagation();\r\n            select(this.getAttribute('data-tab'));\r\n        }\r\n        function add(options = {}) {\r\n            const tabSettings = getSettings(options); // Object.assign(getSettings(options), options);\r\n            const page = createPage(\r\n                tabSettings.target,\r\n                tabSettings.tabId,\r\n                tabSettings.buttonId,\r\n                tabSettings\r\n            );\r\n\r\n            getTabPagePanel().appendChild(page);\r\n            const tabBtn = createTabButton(\r\n                tabSettings.buttonId,\r\n                tabSettings.tabId,\r\n                tabSettings\r\n            );\r\n            const labelContainer = createLabelContainer(tabSettings);\r\n            const img = createImage(tabSettings);\r\n            const label = createLabel(tabSettings.label, tabSettings.title);\r\n            const closeBtn = createCloseButton(tabSettings.tabId);\r\n\r\n            if (!tabSettings.closable) {\r\n                closeBtn.style.display = 'none';\r\n                labelContainer.style.paddingRight = '7px';\r\n            }\r\n            labelContainer.append(img);\r\n            labelContainer.append(label);\r\n            labelContainer.append(closeBtn);\r\n            tabBtn.append(labelContainer);\r\n            tabBtn.addEventListener('mouseup', handleTabClick);\r\n            tabBtn.addEventListener('mouseenter', (e) => {\r\n                e.stopPropagation();\r\n                if (selectedTab.linkButton.id === tabBtn.id) return;\r\n                closeBtn.style.visibility = 'visible';\r\n            });\r\n            tabBtn.addEventListener('mouseleave', (e) => {\r\n                e.stopPropagation();\r\n                if (selectedTab.linkButton.id === tabBtn.id) return;\r\n                closeBtn.style.visibility = 'hidden';\r\n            });\r\n            closeBtn.addEventListener('mousedown', (e) => {\r\n                e.stopPropagation();\r\n                close(tabSettings.tabId); // linkButton.getAttribute(\"data-tab\"));\r\n            });\r\n            buttons[tabBtn.id] = tabBtn;\r\n            // If there was a selected button already, insert after it\r\n            // otherwise append at the end of tab list\r\n            if ((selectedTab = getSelectedTab())) {\r\n                // tab.selected=false;\r\n                selectedTab.linkButton.after(tabBtn);\r\n                // getLinkButton(tab.linkId).after(linkButton);\r\n            } else {\r\n                getTabBar().appendChild(tabBtn);\r\n            }\r\n            tabs.set(tabSettings.tabId, {\r\n                id: tabSettings.tabId,\r\n                label: tabSettings.label,\r\n                text: tabSettings.text,\r\n                title: tabSettings.title,\r\n                linkId: tabSettings.buttonId,\r\n                pageId: tabSettings.target,\r\n                data: tabSettings.data,\r\n                selected: tabSettings.buttonId,\r\n                linkButton: tabBtn,\r\n                page,\r\n            });\r\n            selectedTab = tabs.get(tabSettings.tabId);\r\n            showHideNavButton();\r\n            select(tabBtn.getAttribute('data-tab'));\r\n            if (tabSettings.selected) {\r\n                return selectedTab;\r\n            }\r\n            return selectedTab;\r\n        }\r\n\r\n        function select(tabId) {\r\n            if (!tabId) {\r\n                throw new Error('Invalid tab address:');\r\n            }\r\n\r\n            if (selectedTab) {\r\n                document.getElementById(selectedTab.pageId).style.visibility =\r\n                    'hidden';\r\n                selectedTab.linkButton.lastChild.lastChild.style.visibility =\r\n                    'hidden';\r\n                selectedTab.selected = false;\r\n            }\r\n\r\n            let tab = tabs.get(tabId);\r\n            // let tabPage = selectedTab.getAttribute('data-target');\r\n            document.getElementById(tab.pageId).style.visibility = 'visible';\r\n            tab.linkButton.lastChild.lastChild.style.visibility = 'visible';\r\n            tab.selected = true;\r\n            applySelection(tab.linkButton, tabSettings);\r\n            if (!isLinkVisible(tab.linkButton)) {\r\n                scrollLinkIntoView(tab.linkButton);\r\n            }\r\n            selectedTab = tab;\r\n            customEvent.fire('select', selectedTab);\r\n\r\n            return selectedTab;\r\n        }\r\n\r\n        function close(tabId) {\r\n            if (!tabId) {\r\n                throw new Error('Invalid tab address:');\r\n            }\r\n            const tab = tabs.get(tabId);\r\n            // console.log(el, tab, tabs);\r\n            if (!tab) return;\r\n            const link = tab.linkButton; // getLinkButton(tab.linkId);\r\n            const next = link.nextSibling;\r\n            const prev = link.previousSibling;\r\n            customEvent.fire('before_close', tab);\r\n            link.remove();\r\n            document.getElementById(tab.pageId).remove();\r\n            selectedTab = null; // delete selectedTab;\r\n            tabs.delete(tabId);\r\n\r\n            customEvent.fire('close', tab);\r\n            if (next && next.getAttribute('data-tab')) {\r\n                select(next.getAttribute('data-tab'));\r\n            } else if (prev && prev.getAttribute('data-tab')) {\r\n                select(prev.getAttribute('data-tab'));\r\n            }\r\n            // showHideNavButton();\r\n            showHideNavigator();\r\n            scroll();\r\n            return tabId;\r\n        }\r\n        function isLinkVisible(link) {\r\n            const box = link.getBoundingClientRect();\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return false;\r\n            const box1 = tabbar.getBoundingClientRect();\r\n            return box.left >= box1.left && box.right <= box1.right;\r\n        }\r\n\r\n        function getVisibleTabs() {\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return false;\r\n            const links = Array.prototype.slice.call(\r\n                tabbar.querySelectorAll('button')\r\n            );\r\n            return links.filter((link) => isLinkVisible(link));\r\n        }\r\n\r\n        function getHiddenTabs() {\r\n            const links = Array.prototype.slice.call(\r\n                getTabBar().querySelectorAll('button')\r\n            );\r\n            return links.filter((link) => !isLinkVisible(link));\r\n        }\r\n\r\n        function scroll(right) {\r\n            if (themeOptions.infiniteScroll) {\r\n                infiniteScroll(right);\r\n            } else {\r\n                finiteScroll(right);\r\n                showHideNavigator();\r\n            }\r\n        }\r\n\r\n        function scrollLinkIntoView(el) {\r\n            if (isLinkVisible(el)) return;\r\n            const max = tabs.size;\r\n            let count = 0;\r\n            while (!isLinkVisible(el)) {\r\n                getRightNavButton().click();\r\n                count++;\r\n                if (count > max) break;\r\n            }\r\n            count = 0;\r\n            while (!isLinkVisible(el)) {\r\n                getLeftNavButton().click();\r\n                count++;\r\n                if (isLinkVisible(el)) return;\r\n                if (count > max) break;\r\n            }\r\n        }\r\n\r\n        function finiteScroll(right) {\r\n            tabButtonsCount = tabButtonsCount || 1;\r\n            tabButtonsCount++;\r\n            const visibleButtons = getVisibleTabs();\r\n            const firstVisibleButton = visibleButtons[0];\r\n            const lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n            if (right && lastVisibleButton && lastVisibleButton.nextSibling) {\r\n                firstVisibleButton.style.display = 'none';\r\n            } else if (\r\n                !right &&\r\n                firstVisibleButton &&\r\n                firstVisibleButton.previousSibling\r\n            ) {\r\n                firstVisibleButton.previousSibling.style.display = '';\r\n            } else {\r\n                const tabbar = getTabBar();\r\n                if (!tabbar) return;\r\n                const bts = tabbar.querySelectorAll('button');\r\n                if (bts.length > 0) {\r\n                    bts[bts.length - 1].style.display = '';\r\n                }\r\n            }\r\n        }\r\n\r\n        function infiniteScroll(right) {\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return;\r\n            const links = tabbar.querySelectorAll('button');\r\n            if (links.length > 1) {\r\n                if (right) {\r\n                    links[links.length - 1].after(links[0]);\r\n                } else {\r\n                    links[0].before(links[links.length - 1]);\r\n                }\r\n            }\r\n        }\r\n        function onSelect(fn) {\r\n            customEvent.addListener('select', fn);\r\n        }\r\n        function onClose(fn) {\r\n            customEvent.addListener('close', fn);\r\n        }\r\n        function destroy() {\r\n            // removeListeners();\r\n            console.log('Tabs Destroyed');\r\n        }\r\n        return {\r\n            add,\r\n            close,\r\n            select,\r\n            getTab,\r\n            getTabAtIndex,\r\n            getSelectedTab,\r\n            getTabs: () => selectedTab,\r\n            setTheme,\r\n            getTheme,\r\n            onSelect,\r\n            onClose,\r\n            destroy,\r\n        };\r\n    };\r\n    return {\r\n        createTabs,\r\n        randomId,\r\n        Emitter,\r\n        Event,\r\n        debounce,\r\n    };\r\n})();\r\n\r\nexport default TabView;\r\n"],"names":["TabView","randomId","Math","random","toString","slice","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","Emitter","fire","event","data","cancelable","bubbles","cntx","document","myEvent","CustomEvent","detail","dispatchEvent","on","listener","addEventListener","off","removeEventListener","Event","_listeners","addListener","type","push","attach","target","Error","Array","listeners","i","len","length","call","trigger","removeListener","splice","createTabButton","linkId","tabId","fancy","title","bg","tabBtn","createElement","className","setAttribute","style","position","outline","height","width","border","fontSize","fontWeight","margin","padding","boxShadow","background","color","cursor","display","transition","borderRadius","createCloseButton","closeBtn","innerHTML","visibility","float","marginRight","marginLeft","alignContent","alignItems","createLabel","text","label","paddingRight","paddingLeft","verticalAlign","maxWidth","overflow","textOverflow","whiteSpace","append","createTextNode","createTabBarWraper","tabbarContainer","createTabBar","tabBar","top","bottom","left","right","createButton","name","btn","id","createImage","options","img","icon","createLabelContainer","labelContainer","createTable","tabBarWrapper","pagePanel","settings","banner","footer","addBanner","addFooter","doc","createDocumentFragment","table","thead","bannerRow","minHeight","maxHeight","th","textAlign","appendChild","tbody","linkRow","tabHeight","td","borderCollapse","pageRow","linkRow2","footerRow","firstElementChild","nextSibling","createPage","pageId","page","createPagePanel","panel","loadFromMarkup","el","fn","getElementById","children","markup","querySelector","links","pages","tabs","remove","node","textContent","getAttribute","closable","selected","html","justifyContent","applySelection","parentElement","tablinks","classList","add","activeBg","activecolor","createTabs","customEvent","selectedTab","tabBarWraper","rightBtn","leftBtn","addBtn","pagePanelId","tabBarId","themeOptions","tabSettings","container","dragStartPoint","dragStopPoint","Map","buttons","init","HTMLElement","Object","assign","applySettings","scroll","layout","setTheme","theme","attachDomEventListeners","dynamicLoad","toggleNavigator","getLeftNavButton","getRightNavButton","getTabAtIndex","index","tab","value","values","getTabBar","window","handleKeypress","preventDefault","clientX","drop","drag","e","code","keyCode","link","button","previousSibling","select","blur","showHideNavigator","visibleButtons","getVisibleTabs","firstVisibleButton","lastVisibleButton","showHideNavButton","rBtn","lBtn","toggleNavButton","show","applyTheme","getContainer","getTheme","getSelectedTab","getTab","get","mySettings","limit","undefined","closeOnClick","infiniteScroll","leftTooltip","rightTooltip","addTooltip","forEach","d","getPage","zIndex","getTabPagePanel","getLinkTarget","size","linkButton","ev","dataTransfer","setData","getData","dataEl","before","after","getSettings","keys","buttonId","tabLabel","Number","close","handleTabClick","stopImmediatePropagation","stopPropagation","set","lastChild","isLinkVisible","scrollLinkIntoView","next","prev","delete","box","getBoundingClientRect","tabbar","box1","prototype","querySelectorAll","filter","finiteScroll","max","count","click","bts","onSelect","onClose","destroy","console","log","getTabs"],"mappings":"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"}