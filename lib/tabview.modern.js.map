{"version":3,"file":"tabview.modern.js","sources":["../index.js"],"sourcesContent":["const TabView = (function () {\r\n    const randomId = () => {\r\n        return Math.random().toString(36).slice(2);\r\n    };\r\n    const COLORS = {\r\n        red: {\r\n            50: '#ffebee',\r\n            400: '#ef5350',\r\n            500: '#f44336',\r\n            700: '#e53935',\r\n            800: '#d32f2f',\r\n            900: '#b71c1c',\r\n        },\r\n        pink: {\r\n            50: '#fce4ec',\r\n            400: '#ec407a',\r\n            500: '#e91e63',\r\n            700: '#c2185b',\r\n            800: '#ad1457',\r\n            900: '#880e4f',\r\n        },\r\n        purple: {\r\n            50: '#f3e5f5',\r\n            400: '#ab47bc',\r\n            500: '#9c27b0',\r\n            700: '#7b1fa2',\r\n            800: '#6a1b9a',\r\n            900: '#4a148c',\r\n        },\r\n        deeppurple: {\r\n            50: '#ede7f6',\r\n            400: '#7e57c2',\r\n            500: '#673ab7',\r\n            700: '#512da8',\r\n            800: '#4527a0',\r\n            900: '#311b92',\r\n        },\r\n        indigo: {\r\n            50: '#e8eaf6',\r\n            400: '#5c6bc0',\r\n            500: '#3f51b5',\r\n            700: '#303f9f',\r\n            800: '#283593',\r\n            900: '#1a237e',\r\n        },\r\n        blue: {\r\n            50: '#e3f2fd',\r\n            400: '#42a5f5',\r\n            500: '#2196f3',\r\n            700: '#1976d2',\r\n            800: '#1565c0',\r\n            900: '#0d47a1',\r\n        },\r\n        green: {\r\n            50: '#c8e6c9',\r\n            400: '#66bb6a',\r\n            500: '#4caf50',\r\n            700: '#388e3c',\r\n            800: '#2e7d32',\r\n            900: '#1b5e20',\r\n        },\r\n        cyan: {\r\n            50: '#efefef',\r\n            400: '#26c6da',\r\n            500: '#00acc1',\r\n            700: '#229fa7',\r\n            800: '#0097a7',\r\n            900: '#006064',\r\n        },\r\n        teal: {\r\n            50: '#26a69a',\r\n            400: '#229f88',\r\n            500: '#009688',\r\n            700: '#00796b',\r\n            800: '#00695c',\r\n            900: '#004d40',\r\n        },\r\n        green: {\r\n            50: '#e0f2f1',\r\n            400: '#66bb6a',\r\n            500: '#4caf50',\r\n            700: '#388e3c',\r\n            800: '#2e7d32',\r\n            900: '#1b5e20',\r\n        },\r\n        amber: {\r\n            50: '#fff8e1',\r\n            400: '#ffca28',\r\n            500: '#ffc107',\r\n            700: '#ffa000',\r\n            800: '#ff8f00',\r\n            900: '#ff6f00',\r\n        },\r\n        orange: {\r\n            50: '#fff3e0',\r\n            400: '#ffa726',\r\n            500: '#ff9800',\r\n            700: '#f57c00',\r\n            800: '#ef6c00',\r\n            900: '#e65100',\r\n        },\r\n        deeporange: {\r\n            50: '#fbe9e7',\r\n            400: '#ff7043',\r\n            500: '#ff5722',\r\n            700: '#e64a19',\r\n            800: '#d84315',\r\n            900: '#bf360c',\r\n        },\r\n        brown: {\r\n            50: '#efebe9',\r\n            400: '#8d6e63',\r\n            500: '#795548',\r\n            700: '#5d4037',\r\n            800: '#4e342e',\r\n            900: '#3e2723',\r\n        },\r\n        grey: {\r\n            50: '#ffffff',\r\n            400: '#bdbdbd',\r\n            500: '#9e9e9e',\r\n            700: '#757575',\r\n            800: '#646464',\r\n            900: '#424242',\r\n        },\r\n        darkgrey: {\r\n            50: '#fafafa',\r\n            400: '#616161',\r\n            500: '#424242',\r\n            700: '#323232',\r\n            800: '#212121',\r\n            900: '#111111',\r\n        },\r\n        lightgrey: {\r\n            50: '#000000',\r\n            400: '#fafafa',\r\n            500: '#f5f5f5',\r\n            700: '#fefefe',\r\n            800: '#ffffff',\r\n            900: '#bcbcbc',\r\n        },\r\n        bluegrey: {\r\n            50: '#eceff1',\r\n            400: '#f5f5f5',\r\n            500: '#607d8b',\r\n            700: '#455a64',\r\n            800: '#37474f',\r\n            900: '#263238',\r\n        },\r\n    };\r\n    const getTheme = (theme) => {\r\n        let name = theme ? theme.toLowerCase() : 'lightgrey';\r\n        let color = COLORS[name] || COLORS.lightgrey;\r\n        return {\r\n            contrastColor: color[400],\r\n            tabBg: color[800],\r\n            tabColor: color[50],\r\n            tabBorderColor: color[900],\r\n            tabButtonBg: color[700],\r\n            hoverBg: color[500],\r\n            hoverColor: color[100],\r\n            activeBg: color[800],\r\n            activeColor: color[50],\r\n            pageBg: '',\r\n            pageColor: '',\r\n            headerBg: color[700],\r\n            headerColor: color[50],\r\n            footerBg: color[700],\r\n            footerColor: color[50],\r\n            footerBorderColor: color[900],\r\n            iconColor: color[50],\r\n        };\r\n    };\r\n    const DEFAULT_LAYOUT_SETTINGS = {\r\n        header: false,\r\n        footer: true,\r\n        alginTab: 'top',\r\n        minTabHeight: 16,\r\n        maxTabWidth: 225,\r\n        minTabWidth: 'auto',\r\n        tabWidth: 125,\r\n        tabHeight: 52,\r\n        footerHeight: 22,\r\n        headerHeight: 24,\r\n        footerFontSize: 11,\r\n        headerFontSize: 14,\r\n        tabFontSize: 13,\r\n    };\r\n    const DEFAULT_THEME_SETTINGS = {\r\n        contrastColor: '#efefef',\r\n        tabBg: '#efefef',\r\n        tabColor: '#333',\r\n        tabBorderColor: '#ababab',\r\n        tabButtonBg: '#cdcdcd',\r\n        hoverBg: '#ffffff',\r\n        hoverColor: '#000000',\r\n        activeBg: '#777777',\r\n        activeColor: '#ffffff',\r\n        pageBg: '',\r\n        pageColor: '',\r\n        headerBg: '#efefef',\r\n        headerColor: '#333',\r\n        footerBg: '#cdcdcd',\r\n        footerBorderColor: '#777777',\r\n        footerColor: '#333',\r\n        iconColor: 'green',\r\n    };\r\n    const removeCSS = (styleId) => {\r\n        document.getElementById(styleId).remove();\r\n    };\r\n    const addCSS = (containerId, stylesId, options = {}) => {\r\n        Object.assign(DEFAULT_LAYOUT_SETTINGS, options);\r\n        if (typeof options.theme === 'string') {\r\n            let theme = getTheme(options.theme); // THEMES[options.theme] || {};\r\n            Object.assign(DEFAULT_THEME_SETTINGS, theme);\r\n        }\r\n        const s = Object.assign(\r\n            DEFAULT_THEME_SETTINGS,\r\n            DEFAULT_LAYOUT_SETTINGS,\r\n            options\r\n        );\r\n        // const s = Object.assign(THEME_SETTINGS, LAYOUT_SETTINGS);\r\n        const footerHeight = s.footer ? s.footerHeight : 0;\r\n        const headerHeight = s.header ? s.headerHeight : 0;\r\n        const panelTop =\r\n            options.tabPosition !== 'left' &&\r\n            options.tabPosition !== 'right' &&\r\n            options.tabPosition !== 'bottom'\r\n                ? headerHeight + s.tabHeight\r\n                : headerHeight;\r\n        const panelBottom =\r\n            options.tabPosition === 'bottom'\r\n                ? footerHeight + s.tabHeight\r\n                : footerHeight;\r\n        const css = `\r\n    #${containerId} {\r\n        \r\n    --display-header: ${s.header ? 'flex' : 'none'};\r\n    --display-footer: ${s.footer ? 'flex' : 'none'};\r\n    --min-tab-height: ${s.minTabHeight}px;\r\n    --max-tab-width: ${s.maxTabWidth}px;\r\n    --min-tab-width: ${s.minTabWidth}px;\r\n    --tab-width: ${s.tabWidth}px;\r\n    --tab-height: ${s.tabHeight}px;\r\n    --footer-height: ${footerHeight}px;\r\n    --header-height: ${headerHeight}px;\r\n    --panel-top: ${panelTop}px;\r\n    --panel-bottom: ${panelBottom}px;\r\n    --footer-font-size: ${s.footerFontSize}px;\r\n    --header-font-size: ${s.headerFontSize}px;\r\n    --tab-font-size: ${s.tabFontSize}px;\r\n    --tab-bar-bg: ${s.tabBg};\r\n    --tab-bar-contrast-bg: ${s.contrastColor};\r\n    --tab-color: ${s.tabColor};\r\n    --tab-border-color: ${s.tabBorderColor};\r\n    --tab-color: ${s.tabColor};\r\n    --tab-border-color:  ${s.tabBorderColor};\r\n    --tab-button-bg: ${s.tabButtonBg};\r\n    --hover-bg: ${s.hoverBg};\r\n    --hover-color: ${s.hoverColor};\r\n    --active-bg: ${s.activeBg};\r\n    --active-color: ${s.activeColor};\r\n    --header-bg: ${s.headerBg};\r\n    --header-color: ${s.headerColor};\r\n    --footer-bg: ${s.footerBg};\r\n    --footer-color: ${s.footerColor};\r\n    --footer-border-color: ${s.footerBorderColor};\r\n    --page-bg: ${s.pageBg};\r\n    --page-color: ${s.pageColor};\r\n    --icon-color: ${s.iconColor};\r\n}\r\n\r\n/**Layout CSS **/\r\n#${containerId} {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    overflow: auto;\r\n    color: ';\r\n    background: '';\r\n    overflow: hidden;\r\n}\r\n#${containerId} .tab-panel {\r\n    position: absolute;\r\n    display: block;\r\n    top: var(--panel-top);\r\n    bottom: var(--panel-bottom);\r\n    right: 0;\r\n    left: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    z-index: 10;\r\n\r\n}\r\n#${containerId} .tab-panel .tab-page {\r\n    position: absolute;\r\n    display: none;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    right: 0px;\r\n    left: 0px;\r\n}\r\n#${containerId} .tab-header {\r\n    position: absolute;\r\n    right: 0;\r\n    left: 0;\r\n    height: calc(var(--header-height) - 1px );\r\n    padding-left: 14px;\r\n    display: var(--display-header);\r\n    border-bottom: 1px solid var(--tab-border-color);\r\n    font-size: var(--header-font-size);\r\n}\r\n\r\n#${containerId} .tab-footer {\r\n    position: absolute;\r\n    height: var(--footer-height);\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    border-top: 1px solid var(--footer-border-color);\r\n    display: var(--display-footer);\r\n    z-index: 1;\r\n    font-size: var(--footer-font-size);\r\n}\r\n\r\n#${containerId} .tab-bar {\r\n    position: absolute;\r\n    top: var(--header-height);\r\n    height: var(--tab-height);\r\n    min-height: var(--min-tab-height);\r\n    max-width: 100%;\r\n    left: 0px;\r\n    right: 0px;\r\n    overflow: auto;\r\n    display: block;\r\n    white-space: nowrap;\r\n    z-index: 1;\r\n    border: 1px solid var(--tab-border-color);\r\n}\r\n#${containerId} .tabs {\r\n    position: absolute;\r\n    left: 24px;\r\n    right: 24px;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    display: flex;\r\n    white-space: nowrap;\r\n}\r\n#${containerId} .tabs > button {\r\n    position: relative;\r\n    display: flex;\r\n    min-height: 100%;\r\n    max-width: var(--max-tab-width);\r\n    min-width: var(--min-tab-width);\r\n    width: auto;\r\n    padding-left: 20px;\r\n    padding-right: 32px;\r\n    background: inherit;\r\n    cursor: pointer;\r\n    align-items: center;\r\n    justify-content: left;\r\n    margin: 0px;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    transition: .6s;\r\n    border: 0;\r\n    /*border-left: 1px solid var(--tab-border-color);*/\r\n    border-right: 1px solid var(--tab-border-color);\r\n    font-size: var(--tab-font-size);\r\n}\r\n\r\n#${containerId} .tabs > button:hover {\r\n    transform: all 0.2s;\r\n}\r\n#${containerId} .tabs > button.active {\r\n    transform: all 0.2s;\r\n}\r\n#${containerId} .tabs > button > .close-button {\r\n    position: absolute;\r\n    width: auto;\r\n    height: 100%;\r\n    right:0px;\r\n    top: 0;\r\n    padding-right: 4px;\r\n    margin-right: 0px;\r\n    display: flex;\r\n    align-items: center;\r\n    background: inherit;\r\n}\r\n#${containerId} .tabs > button > .close-button::after {\r\n    content: '✖';\r\n    border-radius: 50%;\r\n    line-height: 12px;\r\n    padding: 2px;\r\n    display: none;\r\n}\r\n#${containerId} .tabs > button.active .close-button::after {\r\n    display: block;\r\n}\r\n#${containerId} .tabs > button:hover .close-button::after {\r\n    display: block;\r\n}\r\n#${containerId} .tab-icon {\r\n    margin-top: 0px;\r\n    float:left;\r\n    color: var(--icon-color);\r\n    background: inherit;\r\n    height: 100%;\r\n    align-items: center;\r\n    display: flex;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n    left: 2px\r\n}\r\n#${containerId} .tabs > button > .close-button:hover::after {\r\n    color: red;\r\n    background: #eee;\r\n}\r\n#${containerId} .tabs > button > .tab-label {\r\n    position: absolute;\r\n    display: flex;\r\n    left: 16px;\r\n    right: 22px;\r\n    height: 100%;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-shadow: transparent;\r\n    text-overflow: ellipsis;\r\n    /*background-color: green;*/\r\n    font-size: 11px;\r\n    letter-spacing: 1px;\r\n}\r\n\r\n#${containerId} .left-nav-button,\r\n#${containerId} .right-nav-button {\r\n    position: absolute;\r\n    width: 24px;\r\n    min-width: 24px;\r\n    max-width: 24px;\r\n    top: 0;\r\n    bottom: 0;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-align: center;\r\n    z-index: 0;\r\n}\r\n#${containerId} .right-nav-button {\r\n    right: 0;\r\n    padding-left: 4px;\r\n}\r\n#${containerId} .left-nav-button::after {\r\n    content: '';\r\n    min-width: 0;\r\n    max-width: 0;\r\n    width: 0;\r\n    height: 0;\r\n    min-height: 0;\r\n    max-height: 0;\r\n    height: 0;\r\n    border-right: 8px solid var(--tab-color);\r\n    border-top: 8px solid transparent;\r\n    border-bottom: 8px solid transparent;\r\n}\r\n#${containerId} .right-nav-button::after {\r\n    content: '';\r\n    min-width: 0;\r\n    max-width: 0;\r\n    width: 0;\r\n    height: 0;\r\n    min-height: 0;\r\n    max-height: 0;\r\n    border-left: 8px solid var(--tab-color);\r\n    border-top: 8px solid transparent;\r\n    border-bottom: 8px solid transparent;\r\n}\r\n#${containerId} .left-nav-button:hover {\r\n    color: cadetblue;\r\n}\r\n#${containerId} .right-nav-button:hover {\r\n    color: cadetblue;\r\n}\r\n\r\n/** Side tabs (Left or Right) CSS */\r\n\r\n#${containerId}.tab-align-left .tab-header,\r\n#${containerId}.tab-align-right .tab-header {\r\n    border-bottom: 1px solid;\r\n}\r\n#${containerId}.tab-align-right .tab-bar,\r\n#${containerId}.tab-align-left .tab-bar {\r\n    position: absolute;\r\n    display: block;\r\n    min-width: 125px;\r\n    max-width: 125px;\r\n    top: calc(var(--header-height) + 0px);\r\n    bottom: var(--footer-height);\r\n    overflow: hidden;\r\n    text-align: center;\r\n    z-index: 1;\r\n}\r\n#${containerId}.tab-align-right .tab-bar .tabs,\r\n#${containerId}.tab-align-left .tab-bar .tabs {\r\n    position: absolute;\r\n    display: block;\r\n    height: auto;\r\n    left: 1px;\r\n    right: 1px;\r\n    top: 32px;\r\n    bottom: 32px;\r\n}\r\n#${containerId}.tab-align-right .left-nav-button,\r\n#${containerId}.tab-align-right .right-nav-button,\r\n#${containerId}.tab-align-left .left-nav-button,\r\n#${containerId}.tab-align-left .right-nav-button {\r\n    position: relative;\r\n    display: block;\r\n    min-width: 125px;\r\n    max-height: 32px;\r\n    float: none;\r\n    height: var(--tab-height);\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n#${containerId}.tab-align-right .tab-bar button,\r\n#${containerId}.tab-align-left .tab-bar button {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: var(--tab-width);\r\n    min-height: auto; \r\n    max-height: var(--tab-height);\r\n    height: var(--tab-height);\r\n    margin-right: 2px;\r\n    cursor: pointer;\r\n    /*border-top: 1px solid var(--tab-border-color);*/\r\n    border-bottom: 1px solid var(--tab-border-color);\r\n}\r\n\r\n#${containerId}.tab-align-right .right-nav-button,\r\n#${containerId}.tab-align-left .right-nav-button {\r\n    position: absolute;\r\n    display: flex;\r\n    bottom: 0;\r\n    top: auto;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 1;\r\n    border: 1px none;\r\n}\r\n#${containerId}.tab-align-right .left-nav-button,\r\n#${containerId}.tab-align-left .left-nav-button {\r\n    position: sticky;\r\n    top: 0;\r\n    justify-content: center;\r\n    align-items: center;\r\n    display: flex;\r\n    border: 1px none;\r\n}\r\n#${containerId}.tab-align-right .left-nav-button::after,\r\n#${containerId}.tab-align-left .left-nav-button::after {\r\n    transform: rotateZ(90deg);\r\n}\r\n#${containerId}.tab-align-right .right-nav-button::after,\r\n#${containerId}.tab-align-left .right-nav-button::after {\r\n    transform: rotateZ(90deg);\r\n}\r\n#${containerId}.tab-align-right > .tab-panel,\r\n#${containerId}.tab-align-left > .tab-panel {\r\n    top: var(--header-height);\r\n    z-index: auto;\r\n}\r\n\r\n/** Right tabs CSS */\r\n\r\n#${containerId}.tab-align-right .tab-bar {\r\n    right: 0;\r\n    left: auto;\r\n    height: auto;\r\n    border-right: 0;\r\n}\r\n#${containerId}.tab-align-right > .tab-panel {\r\n    right: 125px;\r\n    left: 0;\r\n}\r\n#${containerId}.tab-align-right .tab-header {\r\n    margin-right: 0;\r\n    margin-left: 0;\r\n    z-index: 1;\r\n}\r\n#${containerId}.tab-align-right .tab-footer {\r\n    right: 0;\r\n    z-index: 1;\r\n}\r\n#${containerId}.tab-align-right .tabs > button.active {\r\n    border-radius: 0px 0px 0px 0;\r\n    right: 0px;\r\n}\r\n\r\n/** Left tabs CSS */\r\n\r\n#${containerId}.tab-align-left .tab-bar {\r\n    left: 0;\r\n    right: auto;\r\n    height: auto;\r\n   border-left: 0;\r\n}\r\n\r\n#${containerId}.tab-align-left > .tab-panel {\r\n    left: var(--tab-width);\r\n    right: 0;\r\n}\r\n#${containerId}.tab-align-left .tab-header {\r\n    margin-left: 0;\r\n    margin-right: 0;\r\n}\r\n#${containerId}.tab-align-left .tab-footer {\r\n    left: 0;\r\n}\r\n#${containerId}.tab-align-left .tabs > button.active {\r\n    border-radius: 0px 0 0 0px;\r\n    left: 0px;\r\n}\r\n\r\n/** Bottom tabs CSS */\r\n\r\n#${containerId}.tab-align-bottom .tab-bar {\r\n    position: absolute;\r\n    bottom: var(--footer-height);\r\n    top: auto;\r\n}\r\n#${containerId}.tab-align-bottom .tab-bar .tabs > button.active {\r\n    border-radius: 0px 0px 5px 5px;\r\n    right: 1px;\r\n}\r\n#${containerId}.tab-align-bottom > .tab-panel {\r\n    /*bottom: var(--panel-bottom);*/\r\n    /*top: var(--header-height);*/\r\n}\r\n\r\n/**Theme CSS */\r\n\r\n#${containerId} {\r\n    background-color: '';\r\n}\r\n\r\n#${containerId} .tab-bar {\r\n    background-color: var(--tab-bar-bg);\r\n    color: var(--tab-color);\r\n}\r\n#${containerId} .tab-bar > .tabs button {\r\n    background-color: var(--tab-button-bg);\r\n    color: var(--tab-color);\r\n}\r\n#${containerId} .tab-bar > .tabs > button:hover {\r\n    background-color: var(--hover-bg);\r\n    color: var(--hover-color);\r\n}\r\n#${containerId} .tab-bar > .tabs > button.active {\r\n    background-color: var(--active-bg);\r\n    color: var(--active-color);\r\n}\r\n#${containerId} .left-nav-button,\r\n#${containerId} .right-nav-button {\r\n    background-color: var(--tab-bar-bg);\r\n}\r\n#${containerId} .tab-panel {\r\n    background: var(--page-bg);\r\n    color: var(--page-color);\r\n}\r\n#${containerId} .tab-panel .tab-page {\r\n    padding: 8px;\r\n}\r\n#${containerId} .tab-footer{\r\n    background-color: var(--footer-bg);\r\n    color: var(--footer-color);\r\n    padding-left: 14px;\r\n   \r\n}\r\n#${containerId} .tab-header {\r\n    background-color: var(--header-bg);\r\n    color: var(--header-color);\r\n    padding-left: 14px;\r\n}`;\r\n\r\n        let styles = document.createElement('style');\r\n        styles.id = stylesId || 'tabviewStyles';\r\n        styles.append(document.createTextNode(css));\r\n        document.head.appendChild(styles);\r\n        return styles.id;\r\n    };\r\n\r\n    const Emitter = () => {\r\n        return {\r\n            fire(event, data, context, cancelable, bubbles) {\r\n                const cntx = context || document;\r\n                const myEvent = new CustomEvent(event, {\r\n                    detail: data,\r\n                    cancelable: cancelable || true,\r\n                    bubbles: bubbles || false,\r\n                });\r\n                cntx.dispatchEvent(myEvent);\r\n                return myEvent;\r\n            },\r\n            on(event, listener, context) {\r\n                const cntx = context || document;\r\n                cntx.addEventListener(event, listener);\r\n            },\r\n            off(event, listener, context) {\r\n                const cntx = context || document;\r\n                cntx.removeEventListener(event, listener);\r\n            },\r\n        };\r\n    };\r\n    const dnd = {\r\n        allowDrop: (ev) => {\r\n            ev.preventDefault();\r\n        },\r\n\r\n        drag: (ev) => {\r\n            ev.dataTransfer.setData('text/plain', ev.target.id);\r\n        },\r\n        drop: (ev) => {\r\n            ev.preventDefault();\r\n\r\n            const data = ev.dataTransfer.getData('text');\r\n            // do not drop on label wrappers or close button\r\n            let role = ev.target.getAttribute('role');\r\n            var target =\r\n                role === 'tab-button' ? ev.target : ev.target.parentNode; // getLinkTarget(ev.target);\r\n\r\n            const dataEl = document.getElementById(data);\r\n            const dragStartPoint = dataEl.getBoundingClientRect();\r\n            const dragStopPoint = target.getBoundingClientRect();\r\n            if (\r\n                dragStartPoint.x > dragStopPoint.x ||\r\n                dragStartPoint.y > dragStopPoint.y\r\n            ) {\r\n                target.before(dataEl);\r\n            } else {\r\n                target.after(dataEl);\r\n            }\r\n            // handleDrop(newIndex, oldIndex);\r\n            //tabList.insertBefore(document.getElementById(data), node.nextSibling);\r\n        },\r\n    };\r\n    // Returns a function, that, as long as it continues to be invoked, will not\r\n    // be triggered. The function will be called after it stops being called for\r\n    // N milliseconds. If `immediate` is passed, trigger the function on the\r\n    // leading edge, instead of the trailing.\r\n    const debounce = (func, wait, immediate) => {\r\n        let timeout;\r\n        return function () {\r\n            const context = this;\r\n            const args = arguments;\r\n            const later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            const callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    };\r\n\r\n    const isVisible = (elem) => {\r\n        if (!(elem instanceof Element))\r\n            throw Error('DomUtil: elem is not an element.');\r\n        const style = getComputedStyle(elem);\r\n        if (style.display === 'none') return false;\r\n        if (style.visibility !== 'visible') return false;\r\n        if (style.opacity < 0.1) return false;\r\n        if (\r\n            elem.offsetWidth +\r\n                elem.offsetHeight +\r\n                elem.getBoundingClientRect().height +\r\n                elem.getBoundingClientRect().width ===\r\n            0\r\n        ) {\r\n            return false;\r\n        }\r\n        const elemCenter = {\r\n            x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\r\n            y: elem.getBoundingClientRect().top + elem.offsetHeight / 2,\r\n        };\r\n        if (elemCenter.x < 0) return false;\r\n        if (\r\n            elemCenter.x >\r\n            (document.documentElement.clientWidth || window.innerWidth)\r\n        )\r\n            return false;\r\n        if (elemCenter.y < 0) return false;\r\n        if (\r\n            elemCenter.y >\r\n            (document.documentElement.clientHeight || window.innerHeight)\r\n        )\r\n            return false;\r\n        let pointContainer = document.elementFromPoint(\r\n            elemCenter.x,\r\n            elemCenter.y\r\n        );\r\n        do {\r\n            if (pointContainer === elem) return true;\r\n        } while (\r\n            pointContainer &&\r\n            (pointContainer = pointContainer.parentNode)\r\n        );\r\n        return false;\r\n    };\r\n\r\n    const scrollToView = debounce((tabBar, x = 0, y = 0) => {\r\n        tabBar.scroll({\r\n            top: y,\r\n            left: x,\r\n            behavior: 'smooth',\r\n        });\r\n    }, 200);\r\n\r\n    function getVisibleTabs(tabBar) {\r\n        const children = tabBar.children;\r\n        const visibleTabs = [];\r\n        // const invisibleTabs = [];\r\n        for (let child of children) {\r\n            if (isVisible(child)) {\r\n                visibleTabs.push(child);\r\n            } else {\r\n                // invisibleTabs.push(child);\r\n            }\r\n        }\r\n        return visibleTabs;\r\n    }\r\n    function getInVisibleTabs(tabBar) {\r\n        const children = tabBar.children;\r\n        // const visibleTabs = [];\r\n        const invisibleTabs = [];\r\n        for (let i = 0; i < children.length; i++) {\r\n            const child = children[i];\r\n            if (isVisible(child)) {\r\n                // visibleTabs.push(child);\r\n                break;\r\n            } else {\r\n                invisibleTabs.push(child);\r\n            }\r\n        }\r\n        return invisibleTabs;\r\n    }\r\n\r\n    function createLabel(text) {\r\n        const label = document.createElement('span');\r\n        label.append(document.createTextNode(text));\r\n        label.classList.add('tab-label');\r\n        label.style.cursor = 'pointer';\r\n        return label;\r\n    }\r\n    function createCloseButton() {\r\n        let btn = document.createElement('label');\r\n        btn.setAttribute('role', 'close-button');\r\n        btn.classList.add('close-button');\r\n        // btn.style.position = 'absolute';\r\n        // btn.style.right = '4px';\r\n        // btn.style.top = '50%';\r\n        // btn.style.transform = 'translateY(-50%)';\r\n        // btn.textContent = 'X';\r\n        return btn;\r\n    }\r\n    function createIcon(icon, iconColor) {\r\n        let btn = document.createElement('label');\r\n        btn.setAttribute('role', 'tab-icon');\r\n        btn.classList.add('tab-icon');\r\n        btn.style.position = 'absolute';\r\n        // btn.style.left = '4px';\r\n        // btn.style.top = '50%';\r\n        btn.style.color = iconColor || '';\r\n        // btn.style.transform = 'translateY(-50%)';\r\n        btn.textContent = icon || '|' || '❖';\r\n        return btn;\r\n    }\r\n\r\n    function createPage(pageId, content) {\r\n        let page = document.createElement('div');\r\n        page.classList.add('tab-page');\r\n        page.setAttribute('id', pageId);\r\n        // page.textContent = text;\r\n        page.append(content || '');\r\n        return page;\r\n    }\r\n    function getSettings(container, options) {\r\n        const settings = {};\r\n        Object.entries(options).forEach((entry) => {\r\n            let key = entry[0];\r\n            let val = entry[1];\r\n            let attrib = container.getAttribute(key);\r\n            settings[key] = attrib ? attrib : val;\r\n        });\r\n\r\n        /*const setting = {\r\n            header: options.header,\r\n            footer: options.footer,\r\n            alginTab: options.align || container.getAttribute('tabPosition'),\r\n            minTabHeight:\r\n                options.minTabHeight || container.getAttribute('minTabHeight'),\r\n            maxTabWidth:\r\n                options.maxTabWidth || container.getAttribute('maxTabWidth'),\r\n            minTabWidth:\r\n                options.minTabWidth || container.getAttribute('minTabWidth'),\r\n            tabWidth: options.tabWidth || container.getAttribute('tabWidth'),\r\n            tabHeight: options.tabHeight || container.getAttribute('tabHeight'),\r\n            footerHeight:\r\n                options.footerHeight || container.getAttribute('footerHeight'),\r\n            headerHeight:\r\n                options.minTabWidth || container.getAttribute('minTabWidth'),\r\n            infiniteScroll: true,\r\n        };*/\r\n        return settings;\r\n    }\r\n    function createTabs(containerId, options) {\r\n        // let accumulator = 0;\r\n        const container = document.getElementById(containerId);\r\n        const original = container.outerHTML;\r\n        const events = Emitter();\r\n        const tabs = [];\r\n        const draggable =\r\n            options.sortable || container.getAttribute('sortableTabs');\r\n        const align =\r\n            options.tabPosition || container.getAttribute('tabPosition');\r\n        const tabAlignSide =\r\n            align === 'left' || align === 'right' ? true : false;\r\n        const infiniteScroll =\r\n            options.infiniteScroll || container.getAttribute('infiniteScroll');\r\n\r\n        if (align) {\r\n            if (!container.classList.contains('tab-align-' + align)) {\r\n                container.classList.add('tab-align-' + align);\r\n            }\r\n        }\r\n        // delete options.tabPosition;\r\n        delete options.sortable;\r\n        const settings = getSettings(container, options);\r\n        let stylesId = 'tab_css_' + containerId;\r\n        stylesId = addCSS(containerId, stylesId, settings);\r\n        let activeTab = null;\r\n        let tabBar = null; // container.querySelector('.tabs');\r\n        let tabPanel = null;\r\n\r\n        function handleKeypress(e) {\r\n            const code = e.keyCode;\r\n            const link = activeTab.linkButton;\r\n            // eslint-disable-next-line default-case\r\n            if (!link) return;\r\n            switch (code) {\r\n                case 37: // left key\r\n                case 38: // up key\r\n                    scrollRight(e);\r\n                    break;\r\n                case 39: // right key\r\n                case 40: // down key\r\n                    scrollLeft(e);\r\n                    break;\r\n                case 13: // enter key\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        function createButton(tabId, options) {\r\n            let id = tabId || randomId();\r\n            var { text, title, closable, icon, iconcolor } = options;\r\n            title = title || text;\r\n            // let closable = tab.closable;\r\n            icon = icon || '|' || '❖';\r\n            let btn = document.createElement('button');\r\n            btn.setAttribute('id', 'tabview-btn' + id);\r\n            btn.setAttribute('data-target', 'tabview-page-' + id);\r\n            btn.setAttribute('data-tab', id);\r\n            btn.setAttribute('draggable', draggable);\r\n            btn.setAttribute('title', title || text);\r\n            btn.setAttribute('role', 'tab-button');\r\n            // const label = createLabel(text);\r\n            // btn.appendChild(label);\r\n            btn.appendChild(document.createTextNode(text));\r\n            const tabIcon = createIcon(icon, iconcolor);\r\n            btn.appendChild(tabIcon);\r\n\r\n            if (closable) {\r\n                const closeBtn = createCloseButton();\r\n                closeBtn.addEventListener(\r\n                    'click',\r\n                    (event) => {\r\n                        event.preventDefault();\r\n                        event.stopPropagation();\r\n\r\n                        let tabButton = event.target.parentNode;\r\n                        closeTab(tabButton.getAttribute('data-tab'));\r\n                    },\r\n                    false\r\n                );\r\n                btn.appendChild(closeBtn);\r\n            }\r\n\r\n            btn.addEventListener(\r\n                'click',\r\n                (event) => {\r\n                    event.preventDefault();\r\n                    selectTab(btn.getAttribute('data-tab'));\r\n                },\r\n                false\r\n            );\r\n            if (draggable) {\r\n                btn.addEventListener('drop', dnd.drop, true);\r\n                btn.addEventListener('dragover', dnd.allowDrop, true);\r\n                btn.addEventListener('dragstart', dnd.drag);\r\n            }\r\n            return btn;\r\n        }\r\n        function openTab(\r\n            tabId,\r\n            options = { attributes: [], iconColor: 'red' }\r\n        ) {\r\n            const btn = createButton(tabId, options);\r\n            const pageId = btn.getAttribute('data-target');\r\n            const vpage = createPage(pageId, options.content);\r\n            // tab.attributes.forEach((a) => btn.setAttribute(a[0], a[1]));\r\n            // delete options.attributes;\r\n            let tab = Object.create(null);\r\n            tab.id = tabId || randomId();\r\n            tab.linkButton = btn;\r\n            tab.tabPage = vpage;\r\n            tab.options = options;\r\n            tabs.push(tab);\r\n            tabPanel.appendChild(vpage);\r\n            if (activeTab) {\r\n                activeTab.linkButton.after(btn);\r\n            } else {\r\n                tabBar.appendChild(tab.linkButton);\r\n            }\r\n            selectTab(tabId);\r\n            return tab;\r\n        }\r\n        function createTab(\r\n            tabId,\r\n            options = { attributes: [], iconColor: 'red' }\r\n        ) {\r\n            const btn = createButton(tabId, options);\r\n            const pageId = btn.getAttribute('data-target');\r\n            const page = document.getElementById(pageId);\r\n            let vpage = createPage(pageId, options.content);\r\n            if (!page) {\r\n                // const panel = document.querySelector('.tab-panel');\r\n                tabPanel.appendChild(vpage);\r\n            } else {\r\n                page.replaceWith(vpage);\r\n            }\r\n            // options.attributes.forEach((a) => btn.setAttribute(a[0], a[1]));\r\n\r\n            let tab = Object.create(null);\r\n            tab.id = tabId || randomId();\r\n            tab.linkButton = btn;\r\n            tab.tabPage = vpage;\r\n            delete options.attributes;\r\n            tab.options = options;\r\n            tabs.push(tab);\r\n            return tab;\r\n        }\r\n        const closeTab = debounce(\r\n            (tabId) => {\r\n                let tab = tabs.find((t) => t.id === tabId);\r\n                if (!tab) return;\r\n                let ce = events.fire('before-tab-close', tab, tabBar);\r\n                if (ce.defaultPrevented) {\r\n                    return;\r\n                }\r\n                let nextButtonId = null;\r\n                if (tab.linkButton.nextElementSibling) {\r\n                    nextButtonId =\r\n                        tab.linkButton.nextElementSibling.getAttribute(\r\n                            'data-tab'\r\n                        );\r\n                } else if (tab.linkButton.previousElementSibling) {\r\n                    nextButtonId =\r\n                        tab.linkButton.previousElementSibling.getAttribute(\r\n                            'data-tab'\r\n                        );\r\n                }\r\n                tab.tabPage.remove();\r\n                tab.linkButton.remove();\r\n\r\n                selectTab(nextButtonId);\r\n                let index = tabs.findIndex((t) => t.id === tabId);\r\n                tabs.splice(index, 1);\r\n                events.fire('tab-close', tab, tabBar);\r\n            },\r\n            250,\r\n            true\r\n        );\r\n        const selectTab = (tabId) => {\r\n            let tab = tabs.find((t) => t.id === tabId);\r\n            if (!tab) return;\r\n            let ce = events.fire(\r\n                'before-tab-select',\r\n                {\r\n                    oldTab: activeTab,\r\n                    newTab: tab,\r\n                },\r\n                tabBar\r\n            );\r\n            if (ce.defaultPrevented) return;\r\n            if (activeTab) {\r\n                activeTab.tabPage.style.display = 'none';\r\n                activeTab.linkButton.classList.remove('active');\r\n                activeTab.active = false;\r\n            }\r\n\r\n            tab.active = true;\r\n            activeTab = tab;\r\n            selectButton(tab.linkButton.id);\r\n            selectPage(tab.tabPage.id);\r\n            events.fire('tab-select', tab, tabBar);\r\n            // tab.select();\r\n        };\r\n        function setTextContent(tabId, content) {\r\n            let tab = tabs.find((t) => t.id === tabId);\r\n            let linkButton = tab.linkButton;\r\n            let pageId = linkButton.getAttribute('data-target');\r\n            let page = document.getElementById(pageId);\r\n            page.textContent = content;\r\n        }\r\n        function setHtml(tabId, content) {\r\n            let tab = tabs.find((t) => t.id === tabId);\r\n            let linkButton = tab.linkButton;\r\n            let pageId = linkButton.getAttribute('data-target');\r\n            let page = document.getElementById(pageId);\r\n            page.innerHTML = content;\r\n        }\r\n        function selectPage(pageId) {\r\n            // let pageId = target.getAttribute('data-target');\r\n            let page = document.getElementById(pageId);\r\n            // if (activeTab) activeTab.tabPage.style.display = 'none';\r\n            page.style.display = 'block';\r\n            activeTab.tabPage = page;\r\n        }\r\n        const scroButtonToView = () => {\r\n            if (!activeTab) return;\r\n            let tabButton = activeTab.linkButton;\r\n            if (isVisible(tabButton)) return;\r\n\r\n            let visibleTabs = getVisibleTabs(tabBar);\r\n            if (visibleTabs.length > 1) {\r\n                let last = visibleTabs[visibleTabs.length - 1];\r\n                if (last.nextElementSibling) {\r\n                    if (tabAlignSide) {\r\n                        visibleTabs[0].style.marginTop =\r\n                            '-' + visibleTabs[0].clientHeight + 'px';\r\n                    } else {\r\n                        visibleTabs[0].style.marginLeft =\r\n                            '-' + visibleTabs[0].clientWidth + 'px';\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        const scrollToActiveTab = debounce(() => {\r\n            scroButtonToView();\r\n        }, 2);\r\n        function selectButton(id) {\r\n            let el = document.getElementById(id);\r\n            if (!el) return;\r\n            let target =\r\n                el.getAttribute('role') === 'tab-button' ? el : el.parentNode;\r\n            target.classList.add('active');\r\n            activeTab.linkButton = target;\r\n\r\n            scroButtonToView();\r\n        }\r\n\r\n        const scrollLeft = debounce(() => {\r\n            // e.preventDefault();\r\n            // let offsetX = tabAlignSide ? 0 : getLeftScrollOffset(tabBar);\r\n            // let offsetY = tabAlignSide ? getTopScrollOffset(tabBar) : 0;\r\n            let visibleTabs = getVisibleTabs(tabBar);\r\n            let allTabs = tabBar.children;\r\n            if (visibleTabs.length >= 1) {\r\n                let last = visibleTabs[visibleTabs.length - 1];\r\n                // if (last.nextElementSibling) {\r\n                if (infiniteScroll) {\r\n                    allTabs[allTabs.length - 1].after(allTabs[0]);\r\n                } else {\r\n                    if (!last.nextElementSibling) return;\r\n                    if (tabAlignSide) {\r\n                        visibleTabs[0].style.marginTop =\r\n                            '-' + visibleTabs[0].clientHeight + 'px';\r\n                    } else {\r\n                        visibleTabs[0].style.marginLeft =\r\n                            '-' + visibleTabs[0].clientWidth + 'px';\r\n                    }\r\n                }\r\n            }\r\n            // scrollToView(tabBar, offsetX, offsetY);\r\n        }, 50);\r\n        const scrollRight = debounce((e) => {\r\n            // let offsetX = tabAlignSide ? 0 : getRightScrollOffset(tabBar);\r\n            // let offsetY = tabAlignSide ? getBottomScrollOffset(tabBar) : 0;\r\n            // scrollToView(tabBar, offsetX, offsetY);\r\n            let visibleTabs = getVisibleTabs(tabBar);\r\n            if (visibleTabs.length >= 1) {\r\n                let first = visibleTabs[0];\r\n                // if (first.previousElementSibling) {\r\n                if (infiniteScroll) {\r\n                    first.before(visibleTabs[visibleTabs.length - 1]);\r\n                } else {\r\n                    if (!first.previousElementSibling) return;\r\n                    if (tabAlignSide) {\r\n                        if (first.previousElementSibling)\r\n                            first.previousElementSibling.style.marginTop = 0;\r\n                    } else {\r\n                        if (first.previousElementSibling)\r\n                            first.previousElementSibling.style.marginLeft = 0;\r\n                    }\r\n                }\r\n            }\r\n        }, 50);\r\n        function ensureMarkup() {\r\n            let tabBarWrapper = document.createElement('div');\r\n            let tabHeader = container.querySelector('.tab-header');\r\n            let tabFooter = container.querySelector('.tab-footer');\r\n            tabPanel = container.querySelector('.tab-panel');\r\n            tabBar = container.querySelector('.tabs');\r\n            if (!tabBar) {\r\n                tabBar = document.createElement('div');\r\n                tabBar.className = 'tabs';\r\n            } else {\r\n                tabBarWrapper = document.createElement('div');\r\n            }\r\n            tabBarWrapper.className = 'tab-bar';\r\n            tabBarWrapper.appendChild(tabBar);\r\n            container.append(tabBarWrapper);\r\n\r\n            let leftNav = tabBarWrapper.querySelector('.left-nav-button');\r\n            let rightNav = tabBarWrapper.querySelector('.right-nav-button');\r\n\r\n            if (!leftNav) {\r\n                leftNav = document.createElement('div');\r\n                leftNav.className = 'left-nav-button';\r\n                tabBarWrapper.prepend(leftNav);\r\n            }\r\n            if (!rightNav) {\r\n                rightNav = document.createElement('div');\r\n                rightNav.className = 'right-nav-button';\r\n                tabBarWrapper.appendChild(rightNav);\r\n            }\r\n\r\n            if (!tabHeader) {\r\n                tabHeader = document.createElement('div');\r\n                tabHeader.className = 'tab-header';\r\n                container.prepend(tabHeader);\r\n            }\r\n            if (!tabPanel) {\r\n                tabPanel = document.createElement('div');\r\n                tabPanel.className = 'tab-panel';\r\n                container.appendChild(tabPanel);\r\n            }\r\n            if (!tabFooter) {\r\n                tabFooter = document.createElement('div');\r\n                tabFooter.className = 'tab-footer';\r\n                container.appendChild(tabFooter);\r\n            }\r\n            tabFooter.innerHTML = options.footer || '';\r\n            tabHeader.innerHTML = options.header || '';\r\n        }\r\n        function init() {\r\n            ensureMarkup();\r\n            // let tabBarWrapper = container.querySelector('.tab-bar');\r\n            // let tabs = container.querySelector('.tabs');\r\n            let buttons = tabBar.querySelectorAll('[role=tab-button]');\r\n\r\n            for (let i = 0; i < buttons.length; i++) {\r\n                const btn = document.getElementById(buttons[i].id);\r\n                let id = btn.id;\r\n                let text = btn.innerText;\r\n                let closable = btn.getAttribute('closable');\r\n                let icon = btn.getAttribute('icon');\r\n                let attr = btn.getAttributeNames();\r\n                let content = btn.innerHTML;\r\n                const attributes = [];\r\n                const options = {\r\n                    id: id,\r\n                    text: text,\r\n                    closable: closable,\r\n                    icon: icon,\r\n                    content,\r\n                };\r\n                attr.forEach((a) => {\r\n                    attributes.push([a, btn.getAttribute(a)]);\r\n                    let val = btn.getAttribute(a);\r\n                    if (typeof val !== 'function') {\r\n                        options[a] = val;\r\n                    }\r\n                });\r\n                let tab = createTab(id, options);\r\n                btn.replaceWith(tab.linkButton);\r\n                selectTab(tab.id);\r\n            }\r\n\r\n            let rightNavBtn = container.querySelector('.right-nav-button');\r\n            rightNavBtn.addEventListener('click', (e) => scrollLeft(e));\r\n\r\n            let leftNavBtn = container.querySelector('.left-nav-button');\r\n            leftNavBtn.addEventListener('click', (e) => scrollRight(e));\r\n\r\n            tabBar.addEventListener(\r\n                'keyup',\r\n                (event) => {\r\n                    handleKeypress(event);\r\n                },\r\n                true\r\n            );\r\n        }\r\n        function destroy() {\r\n            container.outerHTML = original;\r\n            removeCSS(stylesId);\r\n            events.fire('tab-destroy', container, container);\r\n        }\r\n        function setHeader(text) {\r\n            container.querySelector('.tab-header').textContent = text;\r\n        }\r\n        function setFooterText(text) {\r\n            container.querySelector('.tab-footer').textContent = text;\r\n        }\r\n        function getTab(id) {\r\n            return tabs.find((t) => t.id === id);\r\n        }\r\n        function getTabs() {\r\n            return tabs;\r\n        }\r\n        // Event listeners\r\n        const onSelect = (fn) => events.on('tab-select', fn, tabBar);\r\n        const onBeforeSelect = (fn) =>\r\n            events.on('before-tab-select', fn, tabBar);\r\n        const onClose = (fn) => events.on('tab-close', fn, tabBar);\r\n        const onBeforeClose = (fn) => events.on('before-tab-close', fn, tabBar);\r\n        const onDestroy = (fn) => events.on('tab-destroy', fn, container);\r\n\r\n        window.addEventListener('resize', scrollToActiveTab);\r\n\r\n        init();\r\n\r\n        return {\r\n            onSelect,\r\n            onBeforeSelect,\r\n            onClose,\r\n            onBeforeClose,\r\n            onDestroy,\r\n            openTab,\r\n            closeTab,\r\n            selectTab,\r\n            getTab,\r\n            getTabs,\r\n            setHtml,\r\n            setTextContent,\r\n            setHeader,\r\n            setFooterText,\r\n            destroy,\r\n            COLORS,\r\n        };\r\n    }\r\n    return {\r\n        createTabs,\r\n        debounce,\r\n    };\r\n})();\r\nexport default TabView;\r\n\r\n/*const view = TabView.createTabs('tabview-container', {\r\n    theme: 'green',\r\n    header: false,\r\n    footer: 'Copyright 2021 Ampani Inc',\r\n    header: '<b>Programmable Tabs</b>',\r\n    draggable: true,\r\n    contrastColor: 'red',\r\n    headerColor: '#eee',\r\n    headerBg: 'darkcyan',\r\n    footerBg: 'lavender',\r\n    footerColor: 'blue',\r\n});\r\n// view.destroy();\r\n*/\r\n"],"names":["TabView","randomId","Math","random","toString","slice","COLORS","red","pink","purple","deeppurple","indigo","blue","green","cyan","teal","amber","orange","deeporange","brown","grey","darkgrey","lightgrey","bluegrey","getTheme","theme","name","toLowerCase","color","contrastColor","tabBg","tabColor","tabBorderColor","tabButtonBg","hoverBg","hoverColor","activeBg","activeColor","pageBg","pageColor","headerBg","headerColor","footerBg","footerColor","footerBorderColor","iconColor","DEFAULT_LAYOUT_SETTINGS","header","footer","alginTab","minTabHeight","maxTabWidth","minTabWidth","tabWidth","tabHeight","footerHeight","headerHeight","footerFontSize","headerFontSize","tabFontSize","DEFAULT_THEME_SETTINGS","removeCSS","styleId","document","getElementById","remove","addCSS","containerId","stylesId","options","Object","assign","s","panelTop","tabPosition","panelBottom","css","styles","createElement","id","append","createTextNode","head","appendChild","Emitter","fire","event","data","context","cancelable","bubbles","cntx","myEvent","CustomEvent","detail","dispatchEvent","on","listener","addEventListener","off","removeEventListener","dnd","allowDrop","ev","preventDefault","drag","dataTransfer","setData","target","drop","getData","role","getAttribute","parentNode","dataEl","dragStartPoint","getBoundingClientRect","dragStopPoint","x","y","before","after","debounce","func","wait","immediate","timeout","args","arguments","later","apply","callNow","clearTimeout","setTimeout","isVisible","elem","Element","Error","style","getComputedStyle","display","visibility","opacity","offsetWidth","offsetHeight","height","width","elemCenter","left","top","documentElement","clientWidth","window","innerWidth","clientHeight","innerHeight","pointContainer","elementFromPoint","getVisibleTabs","tabBar","children","visibleTabs","child","push","createCloseButton","btn","setAttribute","classList","add","createIcon","icon","position","textContent","createPage","pageId","content","page","getSettings","container","settings","entries","forEach","entry","key","val","attrib","createTabs","original","outerHTML","events","tabs","draggable","sortable","align","tabAlignSide","infiniteScroll","contains","activeTab","tabPanel","handleKeypress","e","code","keyCode","link","linkButton","scrollRight","scrollLeft","createButton","tabId","text","title","closable","iconcolor","tabIcon","closeBtn","stopPropagation","tabButton","closeTab","selectTab","openTab","attributes","vpage","tab","create","tabPage","createTab","replaceWith","find","t","ce","defaultPrevented","nextButtonId","nextElementSibling","previousElementSibling","index","findIndex","splice","oldTab","newTab","active","selectButton","selectPage","setTextContent","setHtml","innerHTML","scroButtonToView","length","last","marginTop","marginLeft","scrollToActiveTab","el","allTabs","first","ensureMarkup","tabBarWrapper","tabHeader","querySelector","tabFooter","className","leftNav","rightNav","prepend","init","buttons","querySelectorAll","i","innerText","attr","getAttributeNames","a","rightNavBtn","leftNavBtn","destroy","setHeader","setFooterText","getTab","getTabs","onSelect","fn","onBeforeSelect","onClose","onBeforeClose","onDestroy"],"mappings":"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,WAAY;AACpC,6BAA6B6B,CAAC,CAAC5B,iBAAkB;AACjD,iBAAiB4B,CAAC,CAAClC,MAAO;AAC1B,oBAAoBkC,CAAC,CAACjC,SAAU;AAChC,oBAAoBiC,CAAC,CAAC3B,SAAU;AAChC;AACA;AACA;AACA,GAAGsB,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA,GAAGA,WAAY;AACf,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA,GAAGA,WAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAGA,WAAY;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"}