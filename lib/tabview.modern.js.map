{"version":3,"file":"tabview.modern.js","sources":["../index.js"],"sourcesContent":["/* jshint esversion: 8 */\r\nexport default class TabView {\r\n  //  tabs = new Map()\r\n  constructor() {\r\n    this.tabIndex = -1;\r\n    this.currentIndex = 0;\r\n    this.links = {};\r\n    this.tabs = new Map();\r\n    this.buttons = {};\r\n    this.pages = {};\r\n    this.selectedTab = {};\r\n    this.hiddenTabs = [];\r\n  }\r\n\r\n  generateRandomString() {\r\n    return Math.random().toString(36).slice(2);\r\n  }\r\n\r\n  createLinkButton(linkId, tabId, { pageId, style, title }) {\r\n    var linkButton = document.createElement(\"button\");\r\n    linkButton.className = \"tab-link\";\r\n    linkButton.setAttribute(\"href\", \"#!\");\r\n    linkButton.setAttribute(\"id\", linkId);\r\n    linkButton.setAttribute(\"title\", title);\r\n    linkButton.setAttribute(\"name\", \"tab-link\");\r\n    linkButton.setAttribute(\"draggable\", \"true\");\r\n    linkButton.setAttribute(\"data-tab\", tabId);\r\n    linkButton.setAttribute(\"data-target\", pageId);\r\n    linkButton.style.outline = \"none\";\r\n    linkButton.style.height = \"100%\";\r\n    linkButton.style.width = \"auto\";\r\n    linkButton.style.border = \"0 none transparent\";\r\n    linkButton.style.fontSize = \"12px\";\r\n    linkButton.style.fontWeight = \"500\";\r\n    linkButton.style.margin = \"0\";\r\n    linkButton.style.padding = \"0\";\r\n    linkButton.style.boxShadow = \"none\";\r\n    linkButton.style.background = \"inherit\";\r\n    linkButton.style.color = \"inherit\";\r\n    linkButton.style.cursor = \"pointer\";\r\n    linkButton.style.transition = \"background .75s\";\r\n    if (style) {\r\n      linkButton.style.borderRadius = \"8px 1px 0px 0px\";\r\n    } else {\r\n      linkButton.style.borderRadius = \"1px 1px 0px 0px\";\r\n    }\r\n\r\n    return linkButton;\r\n  }\r\n\r\n  createCloseButton() {\r\n    var button = document.createElement(\"a\");\r\n    button.innerHTML = \"&times\";\r\n    button.setAttribute(\"name\", \"close-button\");\r\n    button.setAttribute(\"title\", \"close\");\r\n    button.style.borderRadius = \"50%\";\r\n    button.style.visibility = \"hidden\";\r\n    button.style.height = button.style.width = \"20px\";\r\n    button.style.float = \"right\";\r\n    button.style.marginRight = \"2px\";\r\n    button.style.marginLeft = \"5px\";\r\n    button.style.display = \"flex\";\r\n    button.style.padding = \"2px 0px 0px 4px\";\r\n    button.style.alignContent = \"center\";\r\n    button.style.alignItems = \"center\";\r\n    button.style.fontSize = \"18px\";\r\n    button.style.color = \"#efefef\";\r\n    button.style.fontWeight = \"700\";\r\n    button.style.background = \"transparent\";\r\n    button.addEventListener(\"mouseenter\", function () {\r\n      button.style.background = \"#555\";\r\n    });\r\n    button.addEventListener(\"mouseleave\", function () {\r\n      button.style.background = \"\";\r\n    });\r\n\r\n    return button;\r\n  }\r\n\r\n  createPage(pageId, tabId, linkId, options) {\r\n    var page = document.createElement(\"div\");\r\n    page.setAttribute(\"id\", pageId);\r\n    page.setAttribute(\"data-tab\", tabId);\r\n    page.setAttribute(\"data-trigger\", linkId);\r\n    page.innerHTML = options.text || \"\";\r\n    page.style.position = \"absolute\";\r\n    page.style.padding = \"8px 16px\";\r\n    page.style.visibility = \"hidden\";\r\n    page.style.overflow = \"auto\";\r\n    page.style.top =\r\n      page.style.bottom =\r\n      page.style.left =\r\n      page.style.right =\r\n        \"0\";\r\n    // page.style.top='0'; do not specify top!!!\r\n    page.style.background = options.bg || \"\";\r\n    return page;\r\n  }\r\n\r\n  createPagePanel() {\r\n    var panel = document.createElement(\"div\");\r\n    panel.setAttribute(\"id\", this.generateRandomString());\r\n    panel.style.position = \"relative\";\r\n    panel.className = \"tab-panel\";\r\n    panel.style.width = \"100%\";\r\n    panel.style.height = \"100%\";\r\n    panel.style.overflow = \"hidden\";\r\n    panel.style.margin = \"0\";\r\n    panel.style.top = \"0\";\r\n    panel.style.background = \"\";\r\n    return panel;\r\n  }\r\n\r\n  createLabel(text) {\r\n    var label = document.createElement(\"label\");\r\n    label.setAttribute(\"name\", \"tab-link-label\");\r\n    label.className = \"tab-link-label\";\r\n    label.style.margin = \"0\";\r\n    label.style.paddingRight = \"2px\";\r\n    label.style.paddingLeft = \"2px\";\r\n    label.style.verticalAlign = \"middle\";\r\n    label.style.padding = \"0\";\r\n    label.style.color = \"inherit\";\r\n    label.style.maxWidth = \"80px\";\r\n    label.style.overflow = \"hidden\";\r\n    label.style.whiteSpace = \"nowrap\";\r\n    label.style.background = \"\";\r\n    label.style.cursor = \"pointer\";\r\n    label.style.fontSize = \"inherit\";\r\n    label.style.fontWeight = \"inherit\";\r\n    label.append(document.createTextNode(text));\r\n    // label.setAttribute('title', title || text)\r\n    return label;\r\n  }\r\n\r\n  createTabBarWraper() {\r\n    var tabbarContainer = document.createElement(\"div\");\r\n    tabbarContainer.style.position = \"relative\";\r\n    tabbarContainer.style.height = \"100%\";\r\n    tabbarContainer.style.height = \"100%\";\r\n    tabbarContainer.style.width = \"100%\";\r\n    tabbarContainer.style.border = \"none\";\r\n    tabbarContainer.style.padding = \"none\";\r\n    tabbarContainer.className = \"tabbar-wrapper\";\r\n    return tabbarContainer;\r\n  }\r\n\r\n  createBar() {\r\n    var tabBar = document.createElement(\"div\");\r\n    tabBar.setAttribute(\"id\", this.generateRandomString());\r\n    tabBar.style.position = \"absolute\";\r\n    tabBar.style.top = \"0\";\r\n    tabBar.style.bottom = \"0\";\r\n    tabBar.style.left = \"60px\";\r\n    tabBar.style.right = \"30px\";\r\n    tabBar.style.overflow = \"hidden\";\r\n    tabBar.style.padding = \"0px\";\r\n    tabBar.style.margin = \"0px\";\r\n    tabBar.style.paddingRight = \"7px\";\r\n    tabBar.style.background = \"inherit\";\r\n    tabBar.className = \"tab-bar\";\r\n    return tabBar;\r\n  }\r\n\r\n  createTabButton(name, text, float) {\r\n    const btn = document.createElement(\"button\");\r\n    btn.id = this.generateRandomString();\r\n    btn.setAttribute(\"name\", name);\r\n    btn.style.height = \"100%\";\r\n    btn.style.border = \"0 none transparent\";\r\n    btn.style.background = \"transparent\";\r\n    btn.style.color = \"white\";\r\n    btn.marginRight = btn.marginLeft = \"2px\";\r\n    btn.style.padding = \"2px\";\r\n    btn.style.paddingLeft = btn.style.paddingRight = \"7px\";\r\n    btn.style.cursor = \"pointer\";\r\n    btn.style.fontWeight = \"900\";\r\n    btn.style.fontSize = \"14px\";\r\n    btn.style.float = float || \"none\";\r\n    btn.style.outline = \"none\";\r\n    btn.innerHTML = text;\r\n    btn.style.borderRadius = \"4px 4px\";\r\n    return btn;\r\n  }\r\n\r\n  createImage(options) {\r\n    const img = document.createElement(\"span\");\r\n    img.style.marginRight = \"7px\";\r\n    img.style.color = \"#b00\";\r\n    img.style.fontWeight = \"bold\";\r\n    img.innerHTML = options.icon || \"kb\";\r\n    img.style.float = \"left\";\r\n    return img;\r\n  }\r\n\r\n  createLabelContainer(options) {\r\n    const labelContainer = document.createElement(\"label\");\r\n    labelContainer.setAttribute(\"name\", \"tab-link-label-wraper\");\r\n    labelContainer.style.display = \"flex\";\r\n    labelContainer.style.alignContent = \"center\";\r\n    labelContainer.style.alignItems = \"center\";\r\n    labelContainer.style.padding = \"2px\";\r\n    labelContainer.style.height = \"100%\";\r\n    labelContainer.style.width = \"100%\";\r\n    labelContainer.style.color = \"inherit\";\r\n    labelContainer.style.background = \"transparent\";\r\n    labelContainer.style.cursor = \"pointer\";\r\n    const img = this.createImage(options);\r\n    var closeBtn = this.createCloseButton();\r\n    var label = this.createLabel(options.label, options.title);\r\n    if (!options.closable) {\r\n      closeBtn.style.display = \"none\";\r\n      labelContainer.style.paddingRight = \"7px\";\r\n    }\r\n    labelContainer.append(img);\r\n    labelContainer.append(label);\r\n    labelContainer.append(closeBtn);\r\n    closeBtn.addEventListener(\"click\", () => {\r\n      this.close(\r\n        closeBtn.parentNode.parentElement.getAttribute(\"data-tab\"),\r\n        this\r\n      );\r\n    });\r\n\r\n    return labelContainer;\r\n  }\r\n\r\n  createTable(tabBarWrapper, pagePanel, banner, footer) {\r\n    const doc = document.createDocumentFragment();\r\n    const table = document.createElement(\"table\");\r\n    table.style.width = table.style.height = \"100%\";\r\n    doc.append(table);\r\n\r\n    const thead = document.createElement(\"thead\");\r\n    table.append(thead);\r\n\r\n    const bannerRow = document.createElement(\"tr\");\r\n    bannerRow.style.minHeight = \"0px\";\r\n    bannerRow.style.maxHeight = \"80px\";\r\n    thead.append(bannerRow);\r\n    const th = document.createElement(\"th\");\r\n    // th.setAttribute('colspan',3);\r\n    th.style.textAlign = \"left\";\r\n    th.style.padding = \"0\";\r\n    if (banner) {\r\n      th.append(banner);\r\n    } else {\r\n      bannerRow.style.display = \"none\";\r\n    }\r\n    bannerRow.appendChild(th);\r\n\r\n    const tbody = document.createElement(\"tbody\");\r\n    table.append(tbody);\r\n\r\n    const linkRow = document.createElement(\"tr\");\r\n    linkRow.style.minHeight = \"24px\";\r\n    linkRow.style.height = this.settings.tab_height + \"px\";\r\n    linkRow.style.padding = \"0\";\r\n    tbody.append(linkRow);\r\n\r\n    let td = document.createElement(\"td\");\r\n    td.style.overflow = \"hidden\";\r\n    td.style.whiteSpace = \"nowrap\";\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    td.append(tabBarWrapper);\r\n    linkRow.appendChild(td);\r\n    table.style.borderCollapse =\r\n      linkRow.style.borderCollapse =\r\n      td.style.borderCollapse =\r\n        \"collapse\";\r\n    table.style.border =\r\n      linkRow.style.border =\r\n      td.style.border =\r\n        \"0 none transparent\";\r\n\r\n    const pageRow = document.createElement(\"tr\");\r\n    tbody.append(pageRow);\r\n    td = document.createElement(\"td\");\r\n    td.append(pagePanel);\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    pageRow.appendChild(td);\r\n\r\n    const linkRow2 = document.createElement(\"tr\");\r\n    tbody.append(linkRow2);\r\n    td = document.createElement(\"td\");\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    linkRow2.appendChild(td);\r\n    linkRow2.style.minHeight = \"24px\";\r\n    linkRow2.style.height = this.settings.tab_height + \"px\";\r\n\r\n    const footerRow = document.createElement(\"tr\");\r\n    tbody.append(footerRow);\r\n    td = document.createElement(\"td\");\r\n    footerRow.appendChild(td);\r\n    footerRow.style.maxHeight = \"24px\";\r\n    td = document.createElement(\"td\");\r\n    td.style.padding = \"0\";\r\n    if (footer) {\r\n      td.append(footer || document.createTextNode(\"\"));\r\n    } else {\r\n      footerRow.style.display = \"none\";\r\n    }\r\n    footerRow.appendChild(td);\r\n    td = document.createElement(\"td\");\r\n    td.style.padding = \"0\";\r\n    footerRow.appendChild(td);\r\n    if (this.settings.bottom) {\r\n      linkRow2.firstElementChild.nextSibling.appendChild(tabBarWrapper);\r\n      linkRow.style.display = \"none\";\r\n    } else {\r\n      linkRow2.style.display = \"none\";\r\n    }\r\n    return doc;\r\n  }\r\n\r\n  init(el, options) {\r\n    this.settings = Object.assign({}, options);\r\n    const data = options.loadFromMarkup ? this.loadFromMarkup(el) : null;\r\n    if (data) {\r\n      this.settings = Object.assign(this.settings, data);\r\n    }\r\n    this.applySettings(this.settings);\r\n    const leftBtn = this.createTabButton(\"left-nav-button\", \"&lt;\", \"left\");\r\n    this.leftBtn = leftBtn;\r\n    leftBtn.addEventListener(\"click\", () => {\r\n      this.scroll(false);\r\n    });\r\n\r\n    this.leftNavId = leftBtn.id;\r\n    const addBtn = this.createTabButton(\"add-tab-button\", \"+\", \"left\");\r\n    this.addBtn = addBtn;\r\n    this.addBtnId = addBtn.id;\r\n    if (this.settings.add) {\r\n      this.addBtn.style.visibility = \"visible\";\r\n    } else {\r\n      this.addBtn.style.visibility = \"hidden\";\r\n    }\r\n    this.addBtn.addEventListener(\"click\", () => {\r\n      this.Event.fire(\"add-tab-click\", this.generateRandomString());\r\n    });\r\n    const tabBar = this.createBar();\r\n    const tabBarWraper = this.createTabBarWraper();\r\n    tabBarWraper.append(tabBar);\r\n\r\n    tabBarWraper.appendChild(leftBtn);\r\n    tabBarWraper.appendChild(addBtn);\r\n\r\n    this.tabBarId = tabBar.id;\r\n    this.tabBar = tabBar;\r\n\r\n    const rtBtn = this.createTabButton(\"right-nav-button\", \"&gt;\", \"right\");\r\n    this.rightBtn = rtBtn;\r\n    tabBarWraper.appendChild(rtBtn);\r\n    rtBtn.addEventListener(\"click\", () => {\r\n      this.scroll(true);\r\n    });\r\n    // tabBarWraper.appendChild(rtBtn);\r\n    this.rightNavId = rtBtn.id;\r\n    const pagePanel = this.createPagePanel();\r\n    this.pagePanelId = pagePanel.id;\r\n\r\n    // let tabbar= doc.querySelector('div');\r\n\r\n    let banner, footer;\r\n    if (this.settings.banner) {\r\n      banner = this.addBanner();\r\n    }\r\n    if (this.settings.footer) {\r\n      footer = this.addFooter();\r\n    }\r\n\r\n    const doc = this.createTable(\r\n      tabBar.parentElement,\r\n      pagePanel,\r\n      banner,\r\n      footer\r\n    );\r\n    const container = typeof el === \"object\" ? el : document.getElementById(el);\r\n    this.containerId = container.id;\r\n    container.append(doc);\r\n    // The tabBarWraper and tabPagePanel will be appended to tab container\r\n    // this.mountTab(el, doc, tabPagePanel);\r\n    this.theme = this.settings.theme;\r\n    this.attachDomEventListeners(this);\r\n    if (this.settings.tabs) {\r\n      this.dynamicLoad(this.settings.tabs);\r\n    }\r\n    this.toggleNavigator(this.getLeftNavButton(), false);\r\n    this.toggleNavigator(this.getRightNavButton(), false);\r\n\r\n    return this;\r\n  }\r\n\r\n  applySettings(options) {\r\n    const settings = {\r\n      limit: undefined,\r\n      banner: undefined,\r\n      footer: undefined,\r\n      close_click: undefined,\r\n      infinite_scroll: false,\r\n      style: \"normal\",\r\n      // navigation : true,\r\n      add: false,\r\n      // width   : '100%',\r\n      // height  : '100%',\r\n      theme: \"red\",\r\n      tab_height: 32,\r\n      left_tip: \"&lt;\",\r\n      right_tip: \"&gt;\",\r\n      add_tip: \"+\",\r\n      data: null,\r\n    };\r\n\r\n    this.settings = Object.assign({}, settings, options, arguments[1]);\r\n  }\r\n\r\n  dynamicLoad(tabs) {\r\n    if (!tabs) return;\r\n    let selected = null;\r\n    tabs.forEach((d) => {\r\n      if (d.selected) {\r\n        selected = d.id;\r\n      }\r\n      const tab = this.add(d);\r\n      const page = this.getPage(tab.id);\r\n      // page.parentElement.style.top='80px';\r\n      // page.background='#054';\r\n      page.innerHTML = typeof d.html === \"function\" ? d.html() : d.html;\r\n      page.setAttribute(\"contenteditable\", true);\r\n      page.style.overflow = \"auto\";\r\n      page.style.zIndex = \"100\";\r\n    });\r\n    if (selected) {\r\n      this.select(selected);\r\n    }\r\n  }\r\n\r\n  loadFromMarkup(el, fn) {\r\n    if (typeof el === \"string\") {\r\n      el = document.getElementById(el);\r\n    }\r\n    if (!el || !el.children) throw new Error(\"Invalid element to load markup\");\r\n    const markup = el.children;\r\n    // let doc=document.createDocumentFragment();\r\n    if (!markup || markup.length === 0) return fn();\r\n    const banner = el.querySelector(\".tab-banner\");\r\n    const footer = el.querySelector(\".tab-footer\");\r\n    const links = el.querySelector(\".tab-links\").children;\r\n    const pages = el.querySelector(\".tab-pages\").children;\r\n    const data = {\r\n      banner: banner.innerHTML,\r\n      footer: footer.innerHTML,\r\n      tabs: [],\r\n    };\r\n    if (banner) banner.remove();\r\n    if (footer) footer.remove();\r\n\r\n    while (links.length > 0) {\r\n      const node = links[0];\r\n      const page = pages[0];\r\n      if (!node) continue;\r\n      data.tabs.push({\r\n        id: node.id !== \"\" ? node.id : null,\r\n        label: node.textContent,\r\n        title: node.getAttribute(\"title\"),\r\n        closable: node.getAttribute(\"closable\"),\r\n        target: node.getAttribute(\"data-target\"),\r\n        selected: node.getAttribute(\"selected\"),\r\n        html: page ? page.innerHTML : \"\",\r\n        bg: page ? page.style.background : \"#0bc\",\r\n        style: node.getAttribute(\"tab-style\"),\r\n      });\r\n      node.remove();\r\n      page.remove();\r\n    }\r\n    return data;\r\n  }\r\n\r\n  getPage(id) {\r\n    const tab = this.tabs.get(id);\r\n    return document.getElementById(tab.pageId);\r\n  }\r\n\r\n  getLinkButton(linkId) {\r\n    return document.getElementById(linkId);\r\n  }\r\n\r\n  getCloswButton(id) {\r\n    const linkButton = this.getLinkButton(id);\r\n    return linkButton ? linkButton.lastElementChild() : null;\r\n  }\r\n\r\n  getTabPagePanel() {\r\n    return document.getElementById(this.pagePanelId);\r\n  }\r\n\r\n  getRightNavButton() {\r\n    return this.rightBtn;\r\n  }\r\n\r\n  getLeftNavButton() {\r\n    return this.leftBtn;\r\n  }\r\n\r\n  getAddButton() {\r\n    return this.addBtn;\r\n  }\r\n\r\n  getFooter() {\r\n    return document.getElementById(this.footerId);\r\n  }\r\n\r\n  getBanner() {\r\n    return document.getElementById(this.bannerId);\r\n  }\r\n\r\n  getTabBar() {\r\n    return document.getElementById(this.tabBarId);\r\n  }\r\n\r\n  getContainer() {\r\n    return document.getElementById(this.containerId);\r\n  }\r\n\r\n  hideExtraTabs() {\r\n    const links = Object.values(this.links);\r\n    const numTotal = links.length;\r\n    const numVisible = Math.min(numTotal, this.settings.limit);\r\n    for (var i = 0; i < links.length; i++) {\r\n      links[i].style.display = \"none\"; // hide xo tabs.\r\n    }\r\n    for (var j = 0; j < numVisible; j++) {\r\n      this.links[j].style.display = \"inline\"; // Show visible tabs.\r\n    }\r\n  }\r\n\r\n  getLinkTarget(el) {\r\n    try {\r\n      while (el.name !== \"tab-link\") {\r\n        el = el.parentElement;\r\n      }\r\n      return el;\r\n    } catch (e) {\r\n      // const length = this.tabs.size - 1\r\n      return this.getTabAtIndex(this.tabs.size - 1).linkButton;\r\n      // Object.values(this.tabs)[length].linkButton\r\n    }\r\n  }\r\n\r\n  allowDrop(ev) {\r\n    ev.preventDefault();\r\n  }\r\n\r\n  drag(ev) {\r\n    ev.dataTransfer.setData(\"text\", ev.target.id);\r\n  }\r\n\r\n  drop(ev) {\r\n    ev.preventDefault();\r\n    var data = ev.dataTransfer.getData(\"text\");\r\n    // do not drop on label wrappers or close button\r\n    var target = this.getLinkTarget(ev.target);\r\n    var dataEl = document.getElementById(data);\r\n\r\n    if (this.dragStartPoint > this.dragStopPoint) {\r\n      target.before(dataEl);\r\n    } else {\r\n      target.after(dataEl);\r\n    }\r\n    // target.parentNode.insertBefore(dataEl,this.dragStartPoint>this.dragStopPoint?target:target.nextSibling);\r\n  }\r\n\r\n  addFooter() {\r\n    var footer = document.createElement(\"span\");\r\n    footer.setAttribute(\"name\", \"tab-footer\");\r\n    footer.innerHTML = this.settings.footer;\r\n    footer.className = \"tab-footer\";\r\n    footer.style.left = \"0\";\r\n    footer.style.right = \"0\";\r\n    footer.style.bottom = \"0\";\r\n    footer.style.padding = \"2px\";\r\n    footer.style.display = \"flex\";\r\n    footer.style.justifyContent = \"center\";\r\n    footer.style.alignItems = \"center\";\r\n    // footer.style.background='#030';\r\n    // footer.style.borderTop='1px solid #020';\r\n\r\n    return footer;\r\n  }\r\n\r\n  addBanner() {\r\n    var banner = document.createElement(\"span\");\r\n    banner.setAttribute(\"name\", \"tab-banner\");\r\n    banner.innerHTML =\r\n      typeof this.settings.banner === \"string\"\r\n        ? this.settings.banner\r\n        : this.settings.banner.innerHTML;\r\n    banner.style.display = \"flex\";\r\n    banner.style.padding = \"5px\";\r\n    banner.style.justifyContent = \"center\";\r\n    banner.style.alignItems = \"center\";\r\n    banner.className = \"tab-banner\";\r\n    banner.style.background = \"green\";\r\n\r\n    return banner;\r\n  }\r\n\r\n  mountTab(el, doc, tabPagePanel) {\r\n    const container = typeof el === \"object\" ? el : document.getElementById(el);\r\n    this.containerId = container.id;\r\n    container.appendChild(tabPagePanel);\r\n\r\n    const tabbar = doc.querySelector(\"div\");\r\n    let banner, footer;\r\n    if (this.settings.banner) {\r\n      banner = this.addBanner(container);\r\n      container.prepend(banner);\r\n    }\r\n    if (this.settings.bottom) {\r\n      container.lastChild.after(doc);\r\n    } else {\r\n      container.lastChild.before(doc);\r\n    }\r\n    if (this.settings.footer) {\r\n      footer = this.addFooter(container);\r\n      container.lastChild.after(footer);\r\n    }\r\n    // container.style.height='100%';\r\n    // container.style.width='100%';\r\n    container.style.top =\r\n      container.style.bottom =\r\n      container.style.left =\r\n      container.style.right =\r\n        \"0\";\r\n    const bannerBox = banner ? banner.getBoundingClientRect() : null;\r\n    const bannerBottom = banner ? bannerBox.bottom - bannerBox.top : 0;\r\n\r\n    const footerBox = footer ? footer.getBoundingClientRect() : null;\r\n    const footerTop = footer ? footerBox.bottom - footerBox.top : 0;\r\n\r\n    if (this.settings.bottom) {\r\n      // tab bar is at bottom oftab window\r\n      tabbar.style.bottom = footerTop + \"px\";\r\n    } else {\r\n      tabbar.style.top = bannerBottom + \"px\";\r\n    }\r\n    tabbar.style.border = \"0px none transparent\";\r\n    tabPagePanel.style.border = \"0px none transparent\";\r\n  }\r\n\r\n  getTabAtIndex(index) {\r\n    let tab = null;\r\n    let i = 0;\r\n    for (const value of this.tabs.values()) {\r\n      if (i === index) {\r\n        tab = value;\r\n        break;\r\n      }\r\n      i++;\r\n    }\r\n    return tab;\r\n  }\r\n\r\n  unhide() {\r\n    // const tabs = this.tabs.entries()\r\n    const last = this.getTabAtIndex(this.tabs.size - 1).linkButton;\r\n    const visibles = this.getVisibleTabs();\r\n    const firstVisible = visibles[0];\r\n    if (!firstVisible.previousSibling) return;\r\n    // let lastVisible=visibles[visibles.length-1];\r\n    const lastHidden = firstVisible.previousSibling || firstVisible;\r\n    const width = lastHidden.getBoundingClientRect().width;\r\n    const gap =\r\n      this.tabBar.getBoundingClientRect().right -\r\n      last.getBoundingClientRect().right;\r\n    if (width < gap) {\r\n      this.scrollLinkIntoView(lastHidden);\r\n    }\r\n  }\r\n\r\n  attachDomEventListeners() {\r\n    // let self = this\r\n    const tabBar = this.getTabBar();\r\n    window.addEventListener(\"resize\", () => {\r\n      this.debounce(() => {\r\n        if (!this.tab) return false;\r\n        if (!this.isLinkVisible(this.tab.linkButton)) {\r\n          this.scrollLinkIntoView(this.tab.linkButton);\r\n        } else {\r\n          this.unhide();\r\n          this.scrollLinkIntoView(this.tab.linkButton);\r\n        }\r\n        this.showHideNavButton();\r\n      }, 200)();\r\n    });\r\n\r\n    tabBar.addEventListener(\r\n      \"keyup\",\r\n      (event) => {\r\n        this.handleKeypress(event);\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\r\n      \"drop\",\r\n      (event) => {\r\n        event.preventDefault();\r\n\r\n        this.dragStopPoint = event.clientX;\r\n        this.drop(event);\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\r\n      \"dragover\",\r\n      (event) => {\r\n        event.preventDefault();\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\"dragstart\", (event) => {\r\n      this.dragStartPoint = event.clientX;\r\n      this.drag(event);\r\n    });\r\n  }\r\n\r\n  handleKeypress(e) {\r\n    const code = e.keyCode;\r\n    const link = this.tab.button;\r\n    // eslint-disable-next-line default-case\r\n    if (!link) return;\r\n    switch (code) {\r\n      case 37:\r\n        if (link.previousSibling) {\r\n          this.select(link.previousSibling);\r\n        }\r\n        break; // left key\r\n      case 39:\r\n        if (link.nextSibling) {\r\n          this.select(link.nextSibling);\r\n        }\r\n        break; // right key\r\n      case 38:\r\n        break; // up key\r\n      case 40:\r\n        link.blur();\r\n        break; // down key\r\n      case 13:\r\n        break; // enter key\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  showHideNavButton() {\r\n    // console.log(this.settings);\r\n    if (this.settings.infinite_scroll) {\r\n      return;\r\n    }\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n    if (!firstVisibleButton) return;\r\n    const rBtn = this.getRightNavButton();\r\n    const lBtn = this.getLeftNavButton();\r\n    if (firstVisibleButton.previousSibling) {\r\n      this.toggleNavButton(rBtn, true);\r\n    } else {\r\n      this.toggleNavButton(lBtn, false);\r\n    }\r\n    if (lastVisibleButton.nextSibling) {\r\n      this.toggleNavButton(rBtn, true);\r\n    } else {\r\n      this.toggleNavButton(rBtn, false);\r\n    }\r\n  }\r\n\r\n  toggleNavButton(el, show) {\r\n    if (show) {\r\n      el.style.visibility = \"visible\";\r\n    } else {\r\n      el.style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  toggleAddButton(show) {\r\n    if (show) {\r\n      this.getAddButton().style.visibility = \"visible\";\r\n    } else {\r\n      this.getAddButton().style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  showHideNavigator() {\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n    if (!firstVisibleButton) return;\r\n    if (firstVisibleButton.previousSibling) {\r\n      this.toggleNavigator(this.getLeftNavButton(), true);\r\n    } else {\r\n      this.toggleNavigator(this.getLeftNavButton(), false);\r\n    }\r\n    if (lastVisibleButton.nextSibling) {\r\n      this.toggleNavigator(this.getRightNavButton(), true);\r\n    } else {\r\n      this.toggleNavigator(this.getRightNavButton(), false);\r\n    }\r\n  }\r\n\r\n  applySelection(el) {\r\n    if (!el || !el.parentElement) {\r\n      return;\r\n    }\r\n    var tablinks = el.parentElement.children;\r\n    for (let i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].classList.remove(\"active\");\r\n      tablinks[i].style.background = \"inherit\";\r\n      tablinks[i].style.color = \"inherit\";\r\n      tablinks[i].firstChild.lastChild.style.visibility = \"hidden\";\r\n    }\r\n    el.classList.add(\"active\");\r\n    el.style.background = this.tab_settings.activeBg;\r\n    el.style.color = this.tab_settings.activecolor;\r\n    el.firstChild.lastChild.style.visibility = \"visible\";\r\n    el.firstChild.style.color = this.tab_settings.activecolor;\r\n  }\r\n\r\n  applyTheme() {\r\n    const table = this.getContainer().querySelector(\"table\");\r\n    table.style.background = this.tab_settings.bg;\r\n    table.style.color = this.tab_settings.color;\r\n    this.leftBtn.style.color =\r\n      this.rightBtn.style.color =\r\n      this.addBtn.style.color =\r\n        this.tab_settings.color;\r\n  }\r\n\r\n  // Public API\r\n  /***\r\n   * @param theme String\r\n   * @returns null\r\n   */\r\n  set theme(theme) {\r\n    this.settings.theme = theme;\r\n    let color = \"#ddd\";\r\n    let bg = \"#222\";\r\n    let activecolor = \"#ddd\";\r\n    let activeBg = \"#003355\";\r\n    switch (theme) {\r\n      case \"dark\":\r\n        bg = \"#002255\";\r\n        activeBg = \"#003355\";\r\n        color = \"#fff\";\r\n        break;\r\n      case \"black\":\r\n        bg = \"#111\";\r\n        activeBg = \"#333\";\r\n        color = \"#fff\";\r\n        break;\r\n      case \"blue\":\r\n        bg = \"rgba(8, 68, 117, 1)\";\r\n        activeBg = \"rgba(10, 100, 186, 1)\";\r\n        break;\r\n      case \"green\":\r\n        bg = \"rgba(0, 149, 120, 1)\";\r\n        activeBg = \"rgba(0, 139, 100, 0.9)\";\r\n        break;\r\n      case \"red\":\r\n        bg = \"rgb(120, 0, 30)\";\r\n        activeBg = \"rgb(123, 0, 50)\";\r\n        break;\r\n      case \"white\":\r\n        bg = \"#bcd\";\r\n        color = \"#000\";\r\n        activecolor = \"#eee\";\r\n        break;\r\n      default:\r\n        bg = \"rgba(10, 100, 186, 1)\";\r\n        activeBg = \"rgba(10, 100, 206, 1)\";\r\n        color = \"#fff\";\r\n        break;\r\n    }\r\n    this.page_settings = {\r\n      bg: color,\r\n      color: bg,\r\n    };\r\n    this.tab_settings = {\r\n      bg: bg,\r\n      color: color,\r\n      activecolor: activecolor,\r\n      activeBg: activeBg,\r\n    };\r\n    this.applyTheme();\r\n  }\r\n\r\n  get theme() {\r\n    return this.settings.theme;\r\n  }\r\n\r\n  toggleNavigator(el, show) {\r\n    if (show) {\r\n      el.style.visibility = \"visible\";\r\n    } else {\r\n      el.style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  /* toggleAddButton (show) {\r\n    if (show) { this.addButton.style.visibility = 'visible' } else { this.addButton.style.visibility = 'hidden' }\r\n  } */\r\n\r\n  getSelectedTab() {\r\n    return this.tab;\r\n  }\r\n\r\n  getTab(tabId) {\r\n    return this.tabs.get(tabId);\r\n  }\r\n\r\n  setContent(id, content) {\r\n    const page = this.tabs.get(id).pageId;\r\n    document.getElementById(page).innerHTML = content;\r\n  }\r\n\r\n  setTitle(id, title) {\r\n    const link = this.tabs.get(id).linkId;\r\n    document.getElementById(link).firstElementChild.innerHTML = title;\r\n  }\r\n\r\n  add(options = {}) {\r\n    const length = Object.keys(this.buttons).length;\r\n    const tabId = options.tabId || this.generateRandomString();\r\n    const buttonId = \"link-btn-\" + this.generateRandomString(); // tabId,\r\n    let settings = {\r\n      buttonId: \"link-btn-\" + this.generateRandomString(), // tabId,\r\n      target: \"page-\" + tabId,\r\n      label: \"Tab\" + Number(length + 1),\r\n      title: this.label,\r\n      html: \"\",\r\n      closable: true,\r\n      data: null,\r\n      icon: \"kb\",\r\n      bg: options.bg || \"inherit\",\r\n      color: options.color || \"inherit\",\r\n      style: options.style || \"fancy\",\r\n    };\r\n    options.bg = options.bg === \"transparent\" ? \"\" : options.bg;\r\n    if (options.buttonId === null) {\r\n      delete options.buttonId;\r\n    }\r\n\r\n    this.settings = Object.assign(settings, options);\r\n\r\n    var page = this.createPage(\r\n      this.settings.target,\r\n      tabId,\r\n      buttonId,\r\n      this.settings\r\n    );\r\n\r\n    this.getTabPagePanel().appendChild(page);\r\n\r\n    var linkButton = this.createLinkButton(buttonId, tabId, this.settings);\r\n    this.buttons[linkButton.id] = linkButton;\r\n\r\n    const labelContainer = this.createLabelContainer(this.settings);\r\n    linkButton.append(labelContainer);\r\n    linkButton.addEventListener(\"click\", () => {\r\n      this.select(linkButton);\r\n    });\r\n\r\n    linkButton.addEventListener(\"mouseenter\", () => {\r\n      if (this.tab.linkButton.id === linkButton.id) return;\r\n      linkButton.firstChild.lastChild.style.visibility = \"visible\";\r\n    });\r\n\r\n    linkButton.addEventListener(\"mouseleave\", () => {\r\n      const tab = this.getSelectedTab();\r\n      if (tab.linkButton.id === linkButton.id) return;\r\n      linkButton.firstChild.lastChild.style.visibility = \"hidden\";\r\n    });\r\n    // If there was a selected button already, insert after it\r\n    // otherwise append at the end of tab list\r\n    if (this.tab) {\r\n      // this.tab.selected=false;\r\n      this.tab.linkButton.after(linkButton);\r\n      // this.getLinkButton(this.tab.linkId).after(linkButton);\r\n    } else {\r\n      this.getTabBar().appendChild(linkButton);\r\n    }\r\n    this.tabs.set(tabId, {\r\n      id: tabId,\r\n      label: settings.label,\r\n      text: settings.text,\r\n      title: settings.title,\r\n      linkId: settings.buttonId,\r\n      pageId: settings.target,\r\n      data: settings.data,\r\n      selected: settings.selected,\r\n      linkButton: linkButton,\r\n      page: page,\r\n    });\r\n    this.tab = this.tabs.get(tabId);\r\n\r\n    this.showHideNavButton();\r\n    this.select(linkButton);\r\n    if (settings.selected) {\r\n      return this.tab;\r\n    }\r\n    return this.tab;\r\n  }\r\n\r\n  select(el, before) {\r\n    let linkButton = el;\r\n    if (!el) {\r\n      throw new Error(\"Invalid tab address:\");\r\n    } else if (typeof el === \"string\" || isFinite(el)) {\r\n      linkButton = this.getLinkButton(el);\r\n    } else if (el.id) {\r\n      linkButton = el;\r\n    } else {\r\n      throw new Error(\"Invalid Button or ID\");\r\n    }\r\n\r\n    if (typeof before === \"function\") {\r\n      const result = before();\r\n      if (result === false) return false;\r\n    }\r\n    this.tabs.values.forEach((tab) => {\r\n      if (tab.linkButton.id === linkButton.id) {\r\n        tab.selected = true;\r\n        this.tab = tab;\r\n        document.getElementById(tab.pageId).style.visibility = \"visible\";\r\n      } else {\r\n        tab.selected = false;\r\n        document.getElementById(tab.pageId).style.visibility = \"hidden\";\r\n      }\r\n    });\r\n\r\n    this.applySelection(linkButton);\r\n    if (!this.isLinkVisible(linkButton)) {\r\n      this.scrollLinkIntoView(linkButton);\r\n    }\r\n    this.Event.fire(\"select\", this.tab);\r\n\r\n    return this.tab;\r\n  }\r\n\r\n  close(el) {\r\n    let tabId = el;\r\n    if (!el) {\r\n      throw new Error(\"Invalid tab address:\");\r\n    } else if (typeof id === \"string\") {\r\n      // tab id\r\n    } else if (el.id) {\r\n      tabId = el.id; // .substr(5);//button Element\r\n    }\r\n    const tab = this.tabs.get(tabId);\r\n    const link = tab.linkButton; // this.getLinkButton(tab.linkId);\r\n    const next = link.nextSibling;\r\n    const prev = link.previousSibling;\r\n    this.Event.fire(\"before_close\", tab);\r\n    link.remove();\r\n    document.getElementById(tab.pageId).remove();\r\n    // delete this.links[id];\r\n    delete this.tab;\r\n    this.tabs.delete(tabId);\r\n\r\n    this.Event.fire(\"close\", tab);\r\n    if (next && next.tagName === \"BUTTON\") {\r\n      this.select(next);\r\n    } else if (prev && prev.tagName === \"BUTTON\") {\r\n      this.select(prev);\r\n    }\r\n    this.showHideNavigator();\r\n    this.scroll(true);\r\n    return tabId;\r\n  }\r\n\r\n  isLinkVisible(link) {\r\n    const box = link.getBoundingClientRect();\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return false;\r\n    const box1 = tabbar.getBoundingClientRect();\r\n    return box.left >= box1.left && box.right <= box1.right;\r\n  }\r\n\r\n  getVisibleTabs() {\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return false;\r\n    var links = Array.prototype.slice.call(tabbar.querySelectorAll(\"button\"));\r\n    return links.filter((link) => {\r\n      return this.isLinkVisible(link);\r\n    });\r\n  }\r\n\r\n  getHiddenTabs() {\r\n    var links = Array.prototype.slice.call(\r\n      this.getTabBar().querySelectorAll(\"button\")\r\n    );\r\n    return links.filter((link) => {\r\n      return !this.isLinkVisible(link);\r\n    });\r\n  }\r\n\r\n  scroll(right) {\r\n    if (this.settings.infinite_scroll) {\r\n      this.infiniteScroll(right);\r\n    } else {\r\n      this.finiteScroll(right);\r\n      this.showHideNavigator();\r\n    }\r\n  }\r\n\r\n  scrollLinkIntoView(el) {\r\n    if (this.isLinkVisible(el)) return;\r\n    const max = this.tabs.size;\r\n    let count = 0;\r\n    while (!this.isLinkVisible(el)) {\r\n      this.getRightNavButton().click();\r\n      count++;\r\n      if (count > max) break;\r\n    }\r\n    count = 0;\r\n    while (!this.isLinkVisible(el)) {\r\n      this.getLeftNavButton().click();\r\n      count++;\r\n      if (this.isLinkVisible(el)) return;\r\n      if (count > max) break;\r\n    }\r\n  }\r\n\r\n  finiteScroll(right) {\r\n    this.count = this.count ? this.count : 1;\r\n    this.count++;\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n    if (right && lastVisibleButton && lastVisibleButton.nextSibling) {\r\n      firstVisibleButton.style.display = \"none\";\r\n    } else if (\r\n      !right &&\r\n      firstVisibleButton &&\r\n      firstVisibleButton.previousSibling\r\n    ) {\r\n      firstVisibleButton.previousSibling.style.display = \"\";\r\n    } else {\r\n      const tabbar = this.getTabBar();\r\n      if (!tabbar) return;\r\n      const bts = tabbar.querySelectorAll(\"button\");\r\n      if (bts.length > 0) {\r\n        bts[bts.length - 1].style.display = \"\";\r\n      }\r\n    }\r\n  }\r\n\r\n  infiniteScroll(right) {\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return;\r\n    var links = tabbar.querySelectorAll(\"button\");\r\n    if (links.length > 1) {\r\n      if (right) {\r\n        links[links.length - 1].after(links[0]);\r\n      } else {\r\n        links[0].before(links[links.length - 1]);\r\n      }\r\n    }\r\n  }\r\n\r\n  /* TabView.prototype.fire = function (event, data, cancelable, bubbles){\r\n    let myEvent = new CustomEvent(event, {detail:data, cancelable:cancelable, bubbles:bubbles});\r\n    document.dispatchEvent(myEvent);\r\n  }  ; */\r\n  onBeforeClose(fn, ctx) {\r\n    this.Event.on(\"tab_before_close\", fn, ctx);\r\n  }\r\n\r\n  onClose(fn, ctx) {\r\n    this.Event.on(\"tab_close\", fn, ctx);\r\n  }\r\n\r\n  onSelect(fn, ctx) {\r\n    this.Event.on(\"tab_before_select\", fn, ctx);\r\n  }\r\n\r\n  onBeforeSelect(fn) {\r\n    this.addListener(\"tab_select\", fn);\r\n  }\r\n\r\n  onOpen(fn, ctx) {\r\n    this.Event.on(\"tab_open\", fn, ctx);\r\n  }\r\n\r\n  onBeforeOpen(fn, ctx) {\r\n    this.Event.on(\"tab_before_open\", fn, ctx);\r\n  }\r\n\r\n  destroy() {\r\n    // destroy\r\n    this.removeListeners();\r\n  }\r\n}\r\n// Returns a function, that, as long as it continues to be invoked, will not\r\n// be triggered. The function will be called after it stops being called for\r\n// N milliseconds. If `immediate` is passed, trigger the function on the\r\n// leading edge, instead of the trailing.\r\nTabView.prototype.debounce = function (func, wait, immediate) {\r\n  var timeout;\r\n  return function () {\r\n    var context = this;\r\n    var args = arguments;\r\n    var later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n\r\nTabView.prototype.Emitter = {\r\n  fire(event, data, context, cancelable, bubbles) {\r\n    var cntx = context || document;\r\n    var myEvent = new CustomEvent(event, {\r\n      detail: data,\r\n      cancelable: cancelable || false,\r\n      bubbles: bubbles || false,\r\n    });\r\n    cntx.dispatchEvent(myEvent);\r\n  },\r\n  on(event, listener, context) {\r\n    var cntx = context || document;\r\n    cntx.addEventListener(event, listener);\r\n    // this.off(event, listener, context);\r\n  },\r\n  off(event, listener, context) {\r\n    var cntx = context || document;\r\n    cntx.removeEventListener(event, listener);\r\n  },\r\n};\r\n\r\nTabView.prototype.Event = {\r\n  _listeners: {},\r\n  addListener: function (type, listener) {\r\n    if (typeof this._listeners[type] === \"undefined\") {\r\n      this._listeners[type] = [];\r\n    }\r\n    this._listeners[type].push(listener);\r\n  },\r\n  attach: function (type, listener) {\r\n    this.addListener(type, listener);\r\n  },\r\n  on: function (type, listener) {\r\n    this.addListener(type, listener);\r\n  },\r\n\r\n  fire: function (event, data, target) {\r\n    if (typeof event === \"string\") {\r\n      event = {\r\n        type: event,\r\n        data: data,\r\n        target: target,\r\n      };\r\n    }\r\n    if (!event.target) {\r\n      event.target = this;\r\n    }\r\n    if (!event.type) {\r\n      // falsy\r\n      throw new Error(\"Type error\");\r\n    }\r\n    if (this._listeners[event.type] instanceof Array) {\r\n      const listeners = this._listeners[event.type];\r\n      for (var i = 0, len = listeners.length; i < len; i++) {\r\n        listeners[i].call(this, event);\r\n      }\r\n    }\r\n  },\r\n  trigger: function (type, listener) {\r\n    this.fire(type, listener);\r\n  },\r\n\r\n  removeListener: function (type, listener) {\r\n    if (this._listeners[type] instanceof Array) {\r\n      const listeners = this._listeners[type];\r\n      for (var i = 0, len = listeners.length; i < len; i++) {\r\n        if (listeners[i] === listener) {\r\n          listeners.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  off: function (type, listener) {\r\n    this.removeListener(type, listener);\r\n  },\r\n};\r\n"],"names":["TabView","tabIndex","currentIndex","links","tabs","Map","buttons","pages","selectedTab","hiddenTabs","generateRandomString","Math","random","toString","slice","createLinkButton","linkId","tabId","pageId","style","title","linkButton","document","createElement","className","setAttribute","outline","height","width","border","fontSize","fontWeight","margin","padding","boxShadow","background","color","cursor","transition","borderRadius","createCloseButton","button","innerHTML","visibility","marginRight","marginLeft","display","alignContent","alignItems","addEventListener","createPage","options","page","text","position","overflow","top","bottom","left","right","bg","createPagePanel","panel","createLabel","label","paddingRight","paddingLeft","verticalAlign","maxWidth","whiteSpace","append","createTextNode","createTabBarWraper","tabbarContainer","createBar","tabBar","createTabButton","name","float","btn","id","createImage","img","icon","createLabelContainer","labelContainer","closeBtn","closable","close","parentNode","parentElement","getAttribute","createTable","tabBarWrapper","pagePanel","banner","footer","doc","createDocumentFragment","table","thead","bannerRow","minHeight","maxHeight","th","textAlign","appendChild","tbody","linkRow","settings","tab_height","td","borderCollapse","pageRow","linkRow2","footerRow","firstElementChild","nextSibling","init","el","Object","assign","data","loadFromMarkup","applySettings","leftBtn","scroll","leftNavId","addBtn","addBtnId","add","Event","fire","tabBarWraper","tabBarId","rtBtn","rightBtn","rightNavId","pagePanelId","addBanner","addFooter","container","getElementById","containerId","theme","attachDomEventListeners","dynamicLoad","toggleNavigator","getLeftNavButton","getRightNavButton","limit","undefined","close_click","infinite_scroll","left_tip","right_tip","add_tip","arguments","selected","forEach","d","tab","getPage","html","zIndex","select","fn","children","Error","markup","length","querySelector","remove","node","push","textContent","target","get","getLinkButton","getCloswButton","lastElementChild","getTabPagePanel","getAddButton","getFooter","footerId","getBanner","bannerId","getTabBar","getContainer","hideExtraTabs","values","numTotal","numVisible","min","i","j","getLinkTarget","e","getTabAtIndex","size","allowDrop","ev","preventDefault","drag","dataTransfer","setData","drop","getData","dataEl","dragStartPoint","dragStopPoint","before","after","justifyContent","mountTab","tabPagePanel","tabbar","prepend","lastChild","bannerBox","getBoundingClientRect","bannerBottom","footerBox","footerTop","index","value","unhide","last","visibles","getVisibleTabs","firstVisible","previousSibling","lastHidden","gap","scrollLinkIntoView","window","debounce","isLinkVisible","showHideNavButton","event","handleKeypress","clientX","code","keyCode","link","blur","visibleButtons","firstVisibleButton","lastVisibleButton","rBtn","lBtn","toggleNavButton","show","toggleAddButton","showHideNavigator","applySelection","tablinks","classList","firstChild","tab_settings","activeBg","activecolor","applyTheme","getSelectedTab","getTab","setContent","content","setTitle","keys","buttonId","Number","set","isFinite","result","next","prev","tagName","box","box1","Array","prototype","call","querySelectorAll","filter","getHiddenTabs","infiniteScroll","finiteScroll","max","count","click","bts","onBeforeClose","ctx","on","onClose","onSelect","onBeforeSelect","addListener","onOpen","onBeforeOpen","destroy","removeListeners","page_settings","func","wait","immediate","timeout","context","args","later","apply","callNow","clearTimeout","setTimeout","Emitter","cancelable","bubbles","cntx","myEvent","CustomEvent","detail","dispatchEvent","listener","off","removeEventListener","_listeners","type","attach","listeners","len","trigger","removeListener","splice"],"mappings":"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"}