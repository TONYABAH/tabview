{"version":3,"file":"tabview.umd.js","sources":["../index.js"],"sourcesContent":["/* jshint esversion: 8 */\r\nexport default class TabView {\r\n  //  tabs = new Map()\r\n  constructor() {\r\n    this.tabIndex = -1;\r\n    this.currentIndex = 0;\r\n    this.links = {};\r\n    this.tabs = new Map();\r\n    this.buttons = {};\r\n    this.pages = {};\r\n    this.selectedTab = {};\r\n    this.hiddenTabs = [];\r\n  }\r\n\r\n  generateRandomString() {\r\n    return Math.random().toString(36).slice(2);\r\n  }\r\n\r\n  createLinkButton(linkId, tabId, { pageId, style, title }) {\r\n    var linkButton = document.createElement(\"button\");\r\n    linkButton.className = \"tab-link\";\r\n    linkButton.setAttribute(\"href\", \"#!\");\r\n    linkButton.setAttribute(\"id\", linkId);\r\n    linkButton.setAttribute(\"title\", title);\r\n    linkButton.setAttribute(\"name\", \"tab-link\");\r\n    linkButton.setAttribute(\"draggable\", \"true\");\r\n    linkButton.setAttribute(\"data-tab\", tabId);\r\n    linkButton.setAttribute(\"data-target\", pageId);\r\n    linkButton.style.outline = \"none\";\r\n    linkButton.style.height = \"100%\";\r\n    linkButton.style.width = \"auto\";\r\n    linkButton.style.border = \"0 none transparent\";\r\n    linkButton.style.fontSize = \"12px\";\r\n    linkButton.style.fontWeight = \"500\";\r\n    linkButton.style.margin = \"0\";\r\n    linkButton.style.padding = \"0\";\r\n    linkButton.style.boxShadow = \"none\";\r\n    linkButton.style.background = \"inherit\";\r\n    linkButton.style.color = \"inherit\";\r\n    linkButton.style.cursor = \"pointer\";\r\n    linkButton.style.transition = \"background .75s\";\r\n    if (style) {\r\n      linkButton.style.borderRadius = \"8px 1px 0px 0px\";\r\n    } else {\r\n      linkButton.style.borderRadius = \"1px 1px 0px 0px\";\r\n    }\r\n\r\n    return linkButton;\r\n  }\r\n\r\n  createCloseButton() {\r\n    var button = document.createElement(\"a\");\r\n    button.innerHTML = \"&times\";\r\n    button.setAttribute(\"name\", \"close-button\");\r\n    button.setAttribute(\"title\", \"close\");\r\n    button.style.borderRadius = \"50%\";\r\n    button.style.visibility = \"hidden\";\r\n    button.style.height = button.style.width = \"20px\";\r\n    button.style.float = \"right\";\r\n    button.style.marginRight = \"2px\";\r\n    button.style.marginLeft = \"5px\";\r\n    button.style.display = \"flex\";\r\n    button.style.padding = \"2px 0px 0px 4px\";\r\n    button.style.alignContent = \"center\";\r\n    button.style.alignItems = \"center\";\r\n    button.style.fontSize = \"18px\";\r\n    button.style.color = \"#efefef\";\r\n    button.style.fontWeight = \"700\";\r\n    button.style.background = \"transparent\";\r\n    button.addEventListener(\"mouseenter\", function () {\r\n      button.style.background = \"#555\";\r\n    });\r\n    button.addEventListener(\"mouseleave\", function () {\r\n      button.style.background = \"\";\r\n    });\r\n\r\n    return button;\r\n  }\r\n\r\n  createPage(pageId, tabId, linkId, options) {\r\n    var page = document.createElement(\"div\");\r\n    page.setAttribute(\"id\", pageId);\r\n    page.setAttribute(\"data-tab\", tabId);\r\n    page.setAttribute(\"data-trigger\", linkId);\r\n    page.innerHTML = options.text || \"\";\r\n    page.style.position = \"absolute\";\r\n    page.style.padding = \"8px 16px\";\r\n    page.style.visibility = \"hidden\";\r\n    page.style.overflow = \"auto\";\r\n    page.style.top =\r\n      page.style.bottom =\r\n      page.style.left =\r\n      page.style.right =\r\n        \"0\";\r\n    // page.style.top='0'; do not specify top!!!\r\n    page.style.background = options.bg || \"\";\r\n    return page;\r\n  }\r\n\r\n  createPagePanel() {\r\n    var panel = document.createElement(\"div\");\r\n    panel.setAttribute(\"id\", this.generateRandomString());\r\n    panel.style.position = \"relative\";\r\n    panel.className = \"tab-panel\";\r\n    panel.style.width = \"100%\";\r\n    panel.style.height = \"100%\";\r\n    panel.style.overflow = \"hidden\";\r\n    panel.style.margin = \"0\";\r\n    panel.style.top = \"0\";\r\n    panel.style.background = \"\";\r\n    return panel;\r\n  }\r\n\r\n  createLabel(text) {\r\n    var label = document.createElement(\"label\");\r\n    label.setAttribute(\"name\", \"tab-link-label\");\r\n    label.className = \"tab-link-label\";\r\n    label.style.margin = \"0\";\r\n    label.style.paddingRight = \"2px\";\r\n    label.style.paddingLeft = \"2px\";\r\n    label.style.verticalAlign = \"middle\";\r\n    label.style.padding = \"0\";\r\n    label.style.color = \"inherit\";\r\n    label.style.maxWidth = \"80px\";\r\n    label.style.overflow = \"hidden\";\r\n    label.style.whiteSpace = \"nowrap\";\r\n    label.style.background = \"\";\r\n    label.style.cursor = \"pointer\";\r\n    label.style.fontSize = \"inherit\";\r\n    label.style.fontWeight = \"inherit\";\r\n    label.append(document.createTextNode(text));\r\n    // label.setAttribute('title', title || text)\r\n    return label;\r\n  }\r\n\r\n  createTabBarWraper() {\r\n    var tabbarContainer = document.createElement(\"div\");\r\n    tabbarContainer.style.position = \"relative\";\r\n    tabbarContainer.style.height = \"100%\";\r\n    tabbarContainer.style.height = \"100%\";\r\n    tabbarContainer.style.width = \"100%\";\r\n    tabbarContainer.style.border = \"none\";\r\n    tabbarContainer.style.padding = \"none\";\r\n    tabbarContainer.className = \"tabbar-wrapper\";\r\n    return tabbarContainer;\r\n  }\r\n\r\n  createBar() {\r\n    var tabBar = document.createElement(\"div\");\r\n    tabBar.setAttribute(\"id\", this.generateRandomString());\r\n    tabBar.style.position = \"absolute\";\r\n    tabBar.style.top = \"0\";\r\n    tabBar.style.bottom = \"0\";\r\n    tabBar.style.left = \"60px\";\r\n    tabBar.style.right = \"30px\";\r\n    tabBar.style.overflow = \"hidden\";\r\n    tabBar.style.padding = \"0px\";\r\n    tabBar.style.margin = \"0px\";\r\n    tabBar.style.paddingRight = \"7px\";\r\n    tabBar.style.background = \"inherit\";\r\n    tabBar.className = \"tab-bar\";\r\n    return tabBar;\r\n  }\r\n\r\n  createTabButton(name, text, float) {\r\n    const btn = document.createElement(\"button\");\r\n    btn.id = this.generateRandomString();\r\n    btn.setAttribute(\"name\", name);\r\n    btn.style.height = \"100%\";\r\n    btn.style.border = \"0 none transparent\";\r\n    btn.style.background = \"transparent\";\r\n    btn.style.color = \"white\";\r\n    btn.marginRight = btn.marginLeft = \"2px\";\r\n    btn.style.padding = \"2px\";\r\n    btn.style.paddingLeft = btn.style.paddingRight = \"7px\";\r\n    btn.style.cursor = \"pointer\";\r\n    btn.style.fontWeight = \"900\";\r\n    btn.style.fontSize = \"14px\";\r\n    btn.style.float = float || \"none\";\r\n    btn.style.outline = \"none\";\r\n    btn.innerHTML = text;\r\n    btn.style.borderRadius = \"4px 4px\";\r\n    return btn;\r\n  }\r\n\r\n  createImage(options) {\r\n    const img = document.createElement(\"span\");\r\n    img.style.marginRight = \"7px\";\r\n    img.style.color = \"#b00\";\r\n    img.style.fontWeight = \"bold\";\r\n    img.innerHTML = options.icon || \"kb\";\r\n    img.style.float = \"left\";\r\n    return img;\r\n  }\r\n\r\n  createLabelContainer(options) {\r\n    const labelContainer = document.createElement(\"label\");\r\n    labelContainer.setAttribute(\"name\", \"tab-link-label-wraper\");\r\n    labelContainer.style.display = \"flex\";\r\n    labelContainer.style.alignContent = \"center\";\r\n    labelContainer.style.alignItems = \"center\";\r\n    labelContainer.style.padding = \"2px\";\r\n    labelContainer.style.height = \"100%\";\r\n    labelContainer.style.width = \"100%\";\r\n    labelContainer.style.color = \"inherit\";\r\n    labelContainer.style.background = \"transparent\";\r\n    labelContainer.style.cursor = \"pointer\";\r\n    const img = this.createImage(options);\r\n    var closeBtn = this.createCloseButton();\r\n    var label = this.createLabel(options.label, options.title);\r\n    if (!options.closable) {\r\n      closeBtn.style.display = \"none\";\r\n      labelContainer.style.paddingRight = \"7px\";\r\n    }\r\n    labelContainer.append(img);\r\n    labelContainer.append(label);\r\n    labelContainer.append(closeBtn);\r\n    closeBtn.addEventListener(\"click\", () => {\r\n      this.close(\r\n        closeBtn.parentNode.parentElement.getAttribute(\"data-tab\"),\r\n        this\r\n      );\r\n    });\r\n\r\n    return labelContainer;\r\n  }\r\n\r\n  createTable(tabBarWrapper, pagePanel, banner, footer) {\r\n    const doc = document.createDocumentFragment();\r\n    const table = document.createElement(\"table\");\r\n    table.style.width = table.style.height = \"100%\";\r\n    doc.append(table);\r\n\r\n    const thead = document.createElement(\"thead\");\r\n    table.append(thead);\r\n\r\n    const bannerRow = document.createElement(\"tr\");\r\n    bannerRow.style.minHeight = \"0px\";\r\n    bannerRow.style.maxHeight = \"80px\";\r\n    thead.append(bannerRow);\r\n    const th = document.createElement(\"th\");\r\n    // th.setAttribute('colspan',3);\r\n    th.style.textAlign = \"left\";\r\n    th.style.padding = \"0\";\r\n    if (banner) {\r\n      th.append(banner);\r\n    } else {\r\n      bannerRow.style.display = \"none\";\r\n    }\r\n    bannerRow.appendChild(th);\r\n\r\n    const tbody = document.createElement(\"tbody\");\r\n    table.append(tbody);\r\n\r\n    const linkRow = document.createElement(\"tr\");\r\n    linkRow.style.minHeight = \"24px\";\r\n    linkRow.style.height = this.settings.tab_height + \"px\";\r\n    linkRow.style.padding = \"0\";\r\n    tbody.append(linkRow);\r\n\r\n    let td = document.createElement(\"td\");\r\n    td.style.overflow = \"hidden\";\r\n    td.style.whiteSpace = \"nowrap\";\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    td.append(tabBarWrapper);\r\n    linkRow.appendChild(td);\r\n    table.style.borderCollapse =\r\n      linkRow.style.borderCollapse =\r\n      td.style.borderCollapse =\r\n        \"collapse\";\r\n    table.style.border =\r\n      linkRow.style.border =\r\n      td.style.border =\r\n        \"0 none transparent\";\r\n\r\n    const pageRow = document.createElement(\"tr\");\r\n    tbody.append(pageRow);\r\n    td = document.createElement(\"td\");\r\n    td.append(pagePanel);\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    pageRow.appendChild(td);\r\n\r\n    const linkRow2 = document.createElement(\"tr\");\r\n    tbody.append(linkRow2);\r\n    td = document.createElement(\"td\");\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    linkRow2.appendChild(td);\r\n    linkRow2.style.minHeight = \"24px\";\r\n    linkRow2.style.height = this.settings.tab_height + \"px\";\r\n\r\n    const footerRow = document.createElement(\"tr\");\r\n    tbody.append(footerRow);\r\n    td = document.createElement(\"td\");\r\n    footerRow.appendChild(td);\r\n    footerRow.style.maxHeight = \"24px\";\r\n    td = document.createElement(\"td\");\r\n    td.style.padding = \"0\";\r\n    if (footer) {\r\n      td.append(footer || document.createTextNode(\"\"));\r\n    } else {\r\n      footerRow.style.display = \"none\";\r\n    }\r\n    footerRow.appendChild(td);\r\n    td = document.createElement(\"td\");\r\n    td.style.padding = \"0\";\r\n    footerRow.appendChild(td);\r\n    if (this.settings.bottom) {\r\n      linkRow2.firstElementChild.nextSibling.appendChild(tabBarWrapper);\r\n      linkRow.style.display = \"none\";\r\n    } else {\r\n      linkRow2.style.display = \"none\";\r\n    }\r\n    return doc;\r\n  }\r\n\r\n  init(el, options) {\r\n    this.settings = Object.assign({}, options);\r\n    const data = options.loadFromMarkup ? this.loadFromMarkup(el) : null;\r\n    if (data) {\r\n      this.settings = Object.assign(this.settings, data);\r\n    }\r\n    this.applySettings(this.settings);\r\n    const leftBtn = this.createTabButton(\"left-nav-button\", \"&lt;\", \"left\");\r\n    this.leftBtn = leftBtn;\r\n    leftBtn.addEventListener(\"click\", () => {\r\n      this.scroll(false);\r\n    });\r\n\r\n    this.leftNavId = leftBtn.id;\r\n    const addBtn = this.createTabButton(\"add-tab-button\", \"+\", \"left\");\r\n    this.addBtn = addBtn;\r\n    this.addBtnId = addBtn.id;\r\n    if (this.settings.add) {\r\n      this.addBtn.style.visibility = \"visible\";\r\n    } else {\r\n      this.addBtn.style.visibility = \"hidden\";\r\n    }\r\n    this.addBtn.addEventListener(\"click\", () => {\r\n      this.Event.fire(\"add-tab-click\", this.generateRandomString());\r\n    });\r\n    const tabBar = this.createBar();\r\n    const tabBarWraper = this.createTabBarWraper();\r\n    tabBarWraper.append(tabBar);\r\n\r\n    tabBarWraper.appendChild(leftBtn);\r\n    tabBarWraper.appendChild(addBtn);\r\n\r\n    this.tabBarId = tabBar.id;\r\n    this.tabBar = tabBar;\r\n\r\n    const rtBtn = this.createTabButton(\"right-nav-button\", \"&gt;\", \"right\");\r\n    this.rightBtn = rtBtn;\r\n    tabBarWraper.appendChild(rtBtn);\r\n    rtBtn.addEventListener(\"click\", () => {\r\n      this.scroll(true);\r\n    });\r\n    // tabBarWraper.appendChild(rtBtn);\r\n    this.rightNavId = rtBtn.id;\r\n    const pagePanel = this.createPagePanel();\r\n    this.pagePanelId = pagePanel.id;\r\n\r\n    // let tabbar= doc.querySelector('div');\r\n\r\n    let banner, footer;\r\n    if (this.settings.banner) {\r\n      banner = this.addBanner();\r\n    }\r\n    if (this.settings.footer) {\r\n      footer = this.addFooter();\r\n    }\r\n\r\n    const doc = this.createTable(\r\n      tabBar.parentElement,\r\n      pagePanel,\r\n      banner,\r\n      footer\r\n    );\r\n    const container = typeof el === \"object\" ? el : document.getElementById(el);\r\n    this.containerId = container.id;\r\n    container.append(doc);\r\n    // The tabBarWraper and tabPagePanel will be appended to tab container\r\n    // this.mountTab(el, doc, tabPagePanel);\r\n    this.theme = this.settings.theme;\r\n    this.attachDomEventListeners(this);\r\n    if (this.settings.tabs) {\r\n      this.dynamicLoad(this.settings.tabs);\r\n    }\r\n    this.toggleNavigator(this.getLeftNavButton(), false);\r\n    this.toggleNavigator(this.getRightNavButton(), false);\r\n\r\n    return this;\r\n  }\r\n\r\n  applySettings(options) {\r\n    const settings = {\r\n      limit: undefined,\r\n      banner: undefined,\r\n      footer: undefined,\r\n      close_click: undefined,\r\n      infinite_scroll: false,\r\n      style: \"normal\",\r\n      // navigation : true,\r\n      add: false,\r\n      // width   : '100%',\r\n      // height  : '100%',\r\n      theme: \"red\",\r\n      tab_height: 32,\r\n      left_tip: \"&lt;\",\r\n      right_tip: \"&gt;\",\r\n      add_tip: \"+\",\r\n      data: null,\r\n    };\r\n\r\n    this.settings = Object.assign({}, settings, options, arguments[1]);\r\n  }\r\n\r\n  dynamicLoad(tabs) {\r\n    if (!tabs) return;\r\n    let selected = null;\r\n    tabs.forEach((d) => {\r\n      if (d.selected) {\r\n        selected = d.id;\r\n      }\r\n      const tab = this.add(d);\r\n      const page = this.getPage(tab.id);\r\n      // page.parentElement.style.top='80px';\r\n      // page.background='#054';\r\n      page.innerHTML = typeof d.html === \"function\" ? d.html() : d.html;\r\n      page.setAttribute(\"contenteditable\", true);\r\n      page.style.overflow = \"auto\";\r\n      page.style.zIndex = \"100\";\r\n    });\r\n    if (selected) {\r\n      this.select(selected);\r\n    }\r\n  }\r\n\r\n  loadFromMarkup(el, fn) {\r\n    if (typeof el === \"string\") {\r\n      el = document.getElementById(el);\r\n    }\r\n    if (!el || !el.children) throw new Error(\"Invalid element to load markup\");\r\n    const markup = el.children;\r\n    // let doc=document.createDocumentFragment();\r\n    if (!markup || markup.length === 0) return fn();\r\n    const banner = el.querySelector(\".tab-banner\");\r\n    const footer = el.querySelector(\".tab-footer\");\r\n    const links = el.querySelector(\".tab-links\").children;\r\n    const pages = el.querySelector(\".tab-pages\").children;\r\n    const data = {\r\n      banner: banner.innerHTML,\r\n      footer: footer.innerHTML,\r\n      tabs: [],\r\n    };\r\n    if (banner) banner.remove();\r\n    if (footer) footer.remove();\r\n\r\n    while (links.length > 0) {\r\n      const node = links[0];\r\n      const page = pages[0];\r\n      if (!node) continue;\r\n      data.tabs.push({\r\n        id: node.id !== \"\" ? node.id : null,\r\n        label: node.textContent,\r\n        title: node.getAttribute(\"title\"),\r\n        closable: node.getAttribute(\"closable\"),\r\n        target: node.getAttribute(\"data-target\"),\r\n        selected: node.getAttribute(\"selected\"),\r\n        html: page ? page.innerHTML : \"\",\r\n        bg: page ? page.style.background : \"#0bc\",\r\n        style: node.getAttribute(\"tab-style\"),\r\n      });\r\n      node.remove();\r\n      page.remove();\r\n    }\r\n    return data;\r\n  }\r\n\r\n  getPage(id) {\r\n    const tab = this.tabs.get(id);\r\n    return document.getElementById(tab.pageId);\r\n  }\r\n\r\n  getLinkButton(linkId) {\r\n    return document.getElementById(linkId);\r\n  }\r\n\r\n  getCloswButton(id) {\r\n    const linkButton = this.getLinkButton(id);\r\n    return linkButton ? linkButton.lastElementChild() : null;\r\n  }\r\n\r\n  getTabPagePanel() {\r\n    return document.getElementById(this.pagePanelId);\r\n  }\r\n\r\n  getRightNavButton() {\r\n    return this.rightBtn;\r\n  }\r\n\r\n  getLeftNavButton() {\r\n    return this.leftBtn;\r\n  }\r\n\r\n  getAddButton() {\r\n    return this.addBtn;\r\n  }\r\n\r\n  getFooter() {\r\n    return document.getElementById(this.footerId);\r\n  }\r\n\r\n  getBanner() {\r\n    return document.getElementById(this.bannerId);\r\n  }\r\n\r\n  getTabBar() {\r\n    return document.getElementById(this.tabBarId);\r\n  }\r\n\r\n  getContainer() {\r\n    return document.getElementById(this.containerId);\r\n  }\r\n\r\n  hideExtraTabs() {\r\n    const links = Object.values(this.links);\r\n    const numTotal = links.length;\r\n    const numVisible = Math.min(numTotal, this.settings.limit);\r\n    for (var i = 0; i < links.length; i++) {\r\n      links[i].style.display = \"none\"; // hide xo tabs.\r\n    }\r\n    for (var j = 0; j < numVisible; j++) {\r\n      this.links[j].style.display = \"inline\"; // Show visible tabs.\r\n    }\r\n  }\r\n\r\n  getLinkTarget(el) {\r\n    try {\r\n      while (el.name !== \"tab-link\") {\r\n        el = el.parentElement;\r\n      }\r\n      return el;\r\n    } catch (e) {\r\n      // const length = this.tabs.size - 1\r\n      return this.getTabAtIndex(this.tabs.size - 1).linkButton;\r\n      // Object.values(this.tabs)[length].linkButton\r\n    }\r\n  }\r\n\r\n  allowDrop(ev) {\r\n    ev.preventDefault();\r\n  }\r\n\r\n  drag(ev) {\r\n    ev.dataTransfer.setData(\"text\", ev.target.id);\r\n  }\r\n\r\n  drop(ev) {\r\n    ev.preventDefault();\r\n    var data = ev.dataTransfer.getData(\"text\");\r\n    // do not drop on label wrappers or close button\r\n    var target = this.getLinkTarget(ev.target);\r\n    var dataEl = document.getElementById(data);\r\n\r\n    if (this.dragStartPoint > this.dragStopPoint) {\r\n      target.before(dataEl);\r\n    } else {\r\n      target.after(dataEl);\r\n    }\r\n    // target.parentNode.insertBefore(dataEl,this.dragStartPoint>this.dragStopPoint?target:target.nextSibling);\r\n  }\r\n\r\n  addFooter() {\r\n    var footer = document.createElement(\"span\");\r\n    footer.setAttribute(\"name\", \"tab-footer\");\r\n    footer.innerHTML = this.settings.footer;\r\n    footer.className = \"tab-footer\";\r\n    footer.style.left = \"0\";\r\n    footer.style.right = \"0\";\r\n    footer.style.bottom = \"0\";\r\n    footer.style.padding = \"2px\";\r\n    footer.style.display = \"flex\";\r\n    footer.style.justifyContent = \"center\";\r\n    footer.style.alignItems = \"center\";\r\n    // footer.style.background='#030';\r\n    // footer.style.borderTop='1px solid #020';\r\n\r\n    return footer;\r\n  }\r\n\r\n  addBanner() {\r\n    var banner = document.createElement(\"span\");\r\n    banner.setAttribute(\"name\", \"tab-banner\");\r\n    banner.innerHTML =\r\n      typeof this.settings.banner === \"string\"\r\n        ? this.settings.banner\r\n        : this.settings.banner.innerHTML;\r\n    banner.style.display = \"flex\";\r\n    banner.style.padding = \"5px\";\r\n    banner.style.justifyContent = \"center\";\r\n    banner.style.alignItems = \"center\";\r\n    banner.className = \"tab-banner\";\r\n    banner.style.background = \"green\";\r\n\r\n    return banner;\r\n  }\r\n\r\n  mountTab(el, doc, tabPagePanel) {\r\n    const container = typeof el === \"object\" ? el : document.getElementById(el);\r\n    this.containerId = container.id;\r\n    container.appendChild(tabPagePanel);\r\n\r\n    const tabbar = doc.querySelector(\"div\");\r\n    let banner, footer;\r\n    if (this.settings.banner) {\r\n      banner = this.addBanner(container);\r\n      container.prepend(banner);\r\n    }\r\n    if (this.settings.bottom) {\r\n      container.lastChild.after(doc);\r\n    } else {\r\n      container.lastChild.before(doc);\r\n    }\r\n    if (this.settings.footer) {\r\n      footer = this.addFooter(container);\r\n      container.lastChild.after(footer);\r\n    }\r\n    // container.style.height='100%';\r\n    // container.style.width='100%';\r\n    container.style.top =\r\n      container.style.bottom =\r\n      container.style.left =\r\n      container.style.right =\r\n        \"0\";\r\n    const bannerBox = banner ? banner.getBoundingClientRect() : null;\r\n    const bannerBottom = banner ? bannerBox.bottom - bannerBox.top : 0;\r\n\r\n    const footerBox = footer ? footer.getBoundingClientRect() : null;\r\n    const footerTop = footer ? footerBox.bottom - footerBox.top : 0;\r\n\r\n    if (this.settings.bottom) {\r\n      // tab bar is at bottom oftab window\r\n      tabbar.style.bottom = footerTop + \"px\";\r\n    } else {\r\n      tabbar.style.top = bannerBottom + \"px\";\r\n    }\r\n    tabbar.style.border = \"0px none transparent\";\r\n    tabPagePanel.style.border = \"0px none transparent\";\r\n  }\r\n\r\n  getTabAtIndex(index) {\r\n    let tab = null;\r\n    let i = 0;\r\n    for (const value of this.tabs.values()) {\r\n      if (i === index) {\r\n        tab = value;\r\n        break;\r\n      }\r\n      i++;\r\n    }\r\n    return tab;\r\n  }\r\n\r\n  unhide() {\r\n    // const tabs = this.tabs.entries()\r\n    const last = this.getTabAtIndex(this.tabs.size - 1).linkButton;\r\n    const visibles = this.getVisibleTabs();\r\n    const firstVisible = visibles[0];\r\n    if (!firstVisible.previousSibling) return;\r\n    // let lastVisible=visibles[visibles.length-1];\r\n    const lastHidden = firstVisible.previousSibling || firstVisible;\r\n    const width = lastHidden.getBoundingClientRect().width;\r\n    const gap =\r\n      this.tabBar.getBoundingClientRect().right -\r\n      last.getBoundingClientRect().right;\r\n    if (width < gap) {\r\n      this.scrollLinkIntoView(lastHidden);\r\n    }\r\n  }\r\n\r\n  attachDomEventListeners() {\r\n    // let self = this\r\n    const tabBar = this.getTabBar();\r\n    window.addEventListener(\"resize\", () => {\r\n      this.debounce(() => {\r\n        if (!this.tab) return false;\r\n        if (!this.isLinkVisible(this.tab.linkButton)) {\r\n          this.scrollLinkIntoView(this.tab.linkButton);\r\n        } else {\r\n          this.unhide();\r\n          this.scrollLinkIntoView(this.tab.linkButton);\r\n        }\r\n        this.showHideNavButton();\r\n      }, 200)();\r\n    });\r\n\r\n    tabBar.addEventListener(\r\n      \"keyup\",\r\n      (event) => {\r\n        this.handleKeypress(event);\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\r\n      \"drop\",\r\n      (event) => {\r\n        event.preventDefault();\r\n\r\n        this.dragStopPoint = event.clientX;\r\n        this.drop(event);\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\r\n      \"dragover\",\r\n      (event) => {\r\n        event.preventDefault();\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\"dragstart\", (event) => {\r\n      this.dragStartPoint = event.clientX;\r\n      this.drag(event);\r\n    });\r\n  }\r\n\r\n  handleKeypress(e) {\r\n    const code = e.keyCode;\r\n    const link = this.tab.button;\r\n    // eslint-disable-next-line default-case\r\n    if (!link) return;\r\n    switch (code) {\r\n      case 37:\r\n        if (link.previousSibling) {\r\n          this.select(link.previousSibling);\r\n        }\r\n        break; // left key\r\n      case 39:\r\n        if (link.nextSibling) {\r\n          this.select(link.nextSibling);\r\n        }\r\n        break; // right key\r\n      case 38:\r\n        break; // up key\r\n      case 40:\r\n        link.blur();\r\n        break; // down key\r\n      case 13:\r\n        break; // enter key\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  showHideNavButton() {\r\n    // console.log(this.settings);\r\n    if (this.settings.infinite_scroll) {\r\n      return;\r\n    }\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n    if (!firstVisibleButton) return;\r\n    const rBtn = this.getRightNavButton();\r\n    const lBtn = this.getLeftNavButton();\r\n    if (firstVisibleButton.previousSibling) {\r\n      this.toggleNavButton(rBtn, true);\r\n    } else {\r\n      this.toggleNavButton(lBtn, false);\r\n    }\r\n    if (lastVisibleButton.nextSibling) {\r\n      this.toggleNavButton(rBtn, true);\r\n    } else {\r\n      this.toggleNavButton(rBtn, false);\r\n    }\r\n  }\r\n\r\n  toggleNavButton(el, show) {\r\n    if (show) {\r\n      el.style.visibility = \"visible\";\r\n    } else {\r\n      el.style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  toggleAddButton(show) {\r\n    if (show) {\r\n      this.getAddButton().style.visibility = \"visible\";\r\n    } else {\r\n      this.getAddButton().style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  showHideNavigator() {\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n    if (!firstVisibleButton) return;\r\n    if (firstVisibleButton.previousSibling) {\r\n      this.toggleNavigator(this.getLeftNavButton(), true);\r\n    } else {\r\n      this.toggleNavigator(this.getLeftNavButton(), false);\r\n    }\r\n    if (lastVisibleButton.nextSibling) {\r\n      this.toggleNavigator(this.getRightNavButton(), true);\r\n    } else {\r\n      this.toggleNavigator(this.getRightNavButton(), false);\r\n    }\r\n  }\r\n\r\n  applySelection(el) {\r\n    if (!el || !el.parentElement) {\r\n      return;\r\n    }\r\n    var tablinks = el.parentElement.children;\r\n    for (let i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].classList.remove(\"active\");\r\n      tablinks[i].style.background = \"inherit\";\r\n      tablinks[i].style.color = \"inherit\";\r\n      tablinks[i].firstChild.lastChild.style.visibility = \"hidden\";\r\n    }\r\n    el.classList.add(\"active\");\r\n    el.style.background = this.tab_settings.activeBg;\r\n    el.style.color = this.tab_settings.activecolor;\r\n    el.firstChild.lastChild.style.visibility = \"visible\";\r\n    el.firstChild.style.color = this.tab_settings.activecolor;\r\n  }\r\n\r\n  applyTheme() {\r\n    const table = this.getContainer().querySelector(\"table\");\r\n    table.style.background = this.tab_settings.bg;\r\n    table.style.color = this.tab_settings.color;\r\n    this.leftBtn.style.color =\r\n      this.rightBtn.style.color =\r\n      this.addBtn.style.color =\r\n        this.tab_settings.color;\r\n  }\r\n\r\n  // Public API\r\n  /***\r\n   * @param theme String\r\n   * @returns null\r\n   */\r\n  set theme(theme) {\r\n    this.settings.theme = theme;\r\n    let color = \"#ddd\";\r\n    let bg = \"#222\";\r\n    let activecolor = \"#ddd\";\r\n    let activeBg = \"#003355\";\r\n    switch (theme) {\r\n      case \"dark\":\r\n        bg = \"#002255\";\r\n        activeBg = \"#003355\";\r\n        color = \"#fff\";\r\n        break;\r\n      case \"black\":\r\n        bg = \"#111\";\r\n        activeBg = \"#333\";\r\n        color = \"#fff\";\r\n        break;\r\n      case \"blue\":\r\n        bg = \"rgba(8, 68, 117, 1)\";\r\n        activeBg = \"rgba(10, 100, 186, 1)\";\r\n        break;\r\n      case \"green\":\r\n        bg = \"rgba(0, 149, 120, 1)\";\r\n        activeBg = \"rgba(0, 139, 100, 0.9)\";\r\n        break;\r\n      case \"red\":\r\n        bg = \"rgb(120, 0, 30)\";\r\n        activeBg = \"rgb(123, 0, 50)\";\r\n        break;\r\n      case \"white\":\r\n        bg = \"#bcd\";\r\n        color = \"#000\";\r\n        activecolor = \"#eee\";\r\n        break;\r\n      default:\r\n        bg = \"rgba(10, 100, 186, 1)\";\r\n        activeBg = \"rgba(10, 100, 206, 1)\";\r\n        color = \"#fff\";\r\n        break;\r\n    }\r\n    this.page_settings = {\r\n      bg: color,\r\n      color: bg,\r\n    };\r\n    this.tab_settings = {\r\n      bg: bg,\r\n      color: color,\r\n      activecolor: activecolor,\r\n      activeBg: activeBg,\r\n    };\r\n    this.applyTheme();\r\n  }\r\n\r\n  get theme() {\r\n    return this.settings.theme;\r\n  }\r\n\r\n  toggleNavigator(el, show) {\r\n    if (show) {\r\n      el.style.visibility = \"visible\";\r\n    } else {\r\n      el.style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  /* toggleAddButton (show) {\r\n    if (show) { this.addButton.style.visibility = 'visible' } else { this.addButton.style.visibility = 'hidden' }\r\n  } */\r\n\r\n  getSelectedTab() {\r\n    return this.tab;\r\n  }\r\n\r\n  getTab(tabId) {\r\n    return this.tabs.get(tabId);\r\n  }\r\n\r\n  setContent(id, content) {\r\n    const page = this.tabs.get(id).pageId;\r\n    document.getElementById(page).innerHTML = content;\r\n  }\r\n\r\n  setTitle(id, title) {\r\n    const link = this.tabs.get(id).linkId;\r\n    document.getElementById(link).firstElementChild.innerHTML = title;\r\n  }\r\n\r\n  add(options = {}) {\r\n    const length = Object.keys(this.buttons).length;\r\n    const tabId = options.tabId || this.generateRandomString();\r\n    const buttonId = \"link-btn-\" + this.generateRandomString(); // tabId,\r\n    let settings = {\r\n      buttonId: \"link-btn-\" + this.generateRandomString(), // tabId,\r\n      target: \"page-\" + tabId,\r\n      label: \"Tab\" + Number(length + 1),\r\n      title: this.label,\r\n      html: \"\",\r\n      closable: true,\r\n      data: null,\r\n      icon: \"kb\",\r\n      bg: options.bg || \"inherit\",\r\n      color: options.color || \"inherit\",\r\n      style: options.style || \"fancy\",\r\n    };\r\n    options.bg = options.bg === \"transparent\" ? \"\" : options.bg;\r\n    if (options.buttonId === null) {\r\n      delete options.buttonId;\r\n    }\r\n\r\n    this.settings = Object.assign(settings, options);\r\n\r\n    var page = this.createPage(this.settings.target, tabId, buttonId, this.settings);\r\n\r\n    this.getTabPagePanel().appendChild(page);\r\n\r\n    var linkButton = this.createLinkButton(buttonId, tabId, this.settings);\r\n    this.buttons[linkButton.id] = linkButton;\r\n\r\n    const labelContainer = this.createLabelContainer(this.settings);\r\n    linkButton.append(labelContainer);\r\n    linkButton.addEventListener(\"click\", () => {\r\n      this.select(linkButton);\r\n    });\r\n\r\n    linkButton.addEventListener(\"mouseenter\", () => {\r\n      if (this.tab.linkButton.id === linkButton.id) return;\r\n      linkButton.firstChild.lastChild.style.visibility = \"visible\";\r\n    });\r\n\r\n    linkButton.addEventListener(\"mouseleave\", () => {\r\n      const tab = this.getSelectedTab();\r\n      if (tab.linkButton.id === linkButton.id) return;\r\n      linkButton.firstChild.lastChild.style.visibility = \"hidden\";\r\n    });\r\n    // If there was a selected button already, insert after it\r\n    // otherwise append at the end of tab list\r\n    if (this.tab) {\r\n      // this.tab.selected=false;\r\n      this.tab.linkButton.after(linkButton);\r\n      // this.getLinkButton(this.tab.linkId).after(linkButton);\r\n    } else {\r\n      this.getTabBar().appendChild(linkButton);\r\n    }\r\n    this.tabs.set(tabId, {\r\n      id: tabId,\r\n      label: settings.label,\r\n      text: settings.text,\r\n      title: settings.title,\r\n      linkId: settings.buttonId,\r\n      pageId: settings.target,\r\n      data: settings.data,\r\n      selected: settings.selected,\r\n      linkButton: linkButton,\r\n      page: page,\r\n    });\r\n    this.tab = this.tabs.get(tabId);\r\n\r\n    this.showHideNavButton();\r\n    this.select(linkButton);\r\n    if (settings.selected) {\r\n      return this.tab;\r\n    }\r\n    return this.tab;\r\n  }\r\n\r\n  select(el, before) {\r\n    let linkButton = el;\r\n    if (!el) {\r\n      throw new Error(\"Invalid tab address:\");\r\n    } else if (typeof el === \"string\" || isFinite(el)) {\r\n      linkButton = this.getLinkButton(el);\r\n    } else if (el.id) {\r\n      linkButton = el;\r\n    } else {\r\n      throw new Error(\"Invalid Button or ID\");\r\n    }\r\n\r\n    if (typeof before === \"function\") {\r\n      const result = before();\r\n      if (result === false) return false;\r\n    }\r\n    this.tabs.forEach((tab) => {\r\n      if (tab.linkButton.id === linkButton.id) {\r\n        tab.selected = true;\r\n        this.tab = tab;\r\n        document.getElementById(tab.pageId).style.visibility = \"visible\";\r\n      } else {\r\n        tab.selected = false;\r\n        document.getElementById(tab.pageId).style.visibility = \"hidden\";\r\n      }\r\n    });\r\n\r\n    this.applySelection(linkButton);\r\n    if (!this.isLinkVisible(linkButton)) {\r\n      this.scrollLinkIntoView(linkButton);\r\n    }\r\n    this.Event.fire(\"select\", this.tab);\r\n\r\n    return this.tab;\r\n  }\r\n\r\n  close(el) {\r\n    let tabId = el;\r\n    if (!el) {\r\n      throw new Error(\"Invalid tab address:\");\r\n    } else if (typeof id === \"string\") {\r\n      // tab id\r\n    } else if (el.id) {\r\n      tabId = el.id; // .substr(5);//button Element\r\n    }\r\n    const tab = this.tabs.get(tabId);\r\n    const link = tab.linkButton; // this.getLinkButton(tab.linkId);\r\n    const next = link.nextSibling;\r\n    const prev = link.previousSibling;\r\n    this.Event.fire(\"before_close\", tab);\r\n    link.remove();\r\n    document.getElementById(tab.pageId).remove();\r\n    // delete this.links[id];\r\n    delete this.tab;\r\n    this.tabs.delete(tabId);\r\n\r\n    this.Event.fire(\"close\", tab);\r\n    if (next && next.tagName === \"BUTTON\") {\r\n      this.select(next);\r\n    } else if (prev && prev.tagName === \"BUTTON\") {\r\n      this.select(prev);\r\n    }\r\n    this.showHideNavigator();\r\n    this.scroll(true);\r\n    return tabId;\r\n  }\r\n\r\n  isLinkVisible(link) {\r\n    const box = link.getBoundingClientRect();\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return false;\r\n    const box1 = tabbar.getBoundingClientRect();\r\n    return box.left >= box1.left && box.right <= box1.right;\r\n  }\r\n\r\n  getVisibleTabs() {\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return false;\r\n    var links = Array.prototype.slice.call(tabbar.querySelectorAll(\"button\"));\r\n    return links.filter((link) => {\r\n      return this.isLinkVisible(link);\r\n    });\r\n  }\r\n\r\n  getHiddenTabs() {\r\n    var links = Array.prototype.slice.call(\r\n      this.getTabBar().querySelectorAll(\"button\")\r\n    );\r\n    return links.filter((link) => {\r\n      return !this.isLinkVisible(link);\r\n    });\r\n  }\r\n\r\n  scroll(right) {\r\n    if (this.settings.infinite_scroll) {\r\n      this.infiniteScroll(right);\r\n    } else {\r\n      this.finiteScroll(right);\r\n      this.showHideNavigator();\r\n    }\r\n  }\r\n\r\n  scrollLinkIntoView(el) {\r\n    if (this.isLinkVisible(el)) return;\r\n    const max = this.tabs.size;\r\n    let count = 0;\r\n    while (!this.isLinkVisible(el)) {\r\n      this.getRightNavButton().click();\r\n      count++;\r\n      if (count > max) break;\r\n    }\r\n    count = 0;\r\n    while (!this.isLinkVisible(el)) {\r\n      this.getLeftNavButton().click();\r\n      count++;\r\n      if (this.isLinkVisible(el)) return;\r\n      if (count > max) break;\r\n    }\r\n  }\r\n\r\n  finiteScroll(right) {\r\n    this.count = this.count ? this.count : 1;\r\n    this.count++;\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n    if (right && lastVisibleButton && lastVisibleButton.nextSibling) {\r\n      firstVisibleButton.style.display = \"none\";\r\n    } else if (\r\n      !right &&\r\n      firstVisibleButton &&\r\n      firstVisibleButton.previousSibling\r\n    ) {\r\n      firstVisibleButton.previousSibling.style.display = \"\";\r\n    } else {\r\n      const tabbar = this.getTabBar();\r\n      if (!tabbar) return;\r\n      const bts = tabbar.querySelectorAll(\"button\");\r\n      if (bts.length > 0) {\r\n        bts[bts.length - 1].style.display = \"\";\r\n      }\r\n    }\r\n  }\r\n\r\n  infiniteScroll(right) {\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return;\r\n    var links = tabbar.querySelectorAll(\"button\");\r\n    if (links.length > 1) {\r\n      if (right) {\r\n        links[links.length - 1].after(links[0]);\r\n      } else {\r\n        links[0].before(links[links.length - 1]);\r\n      }\r\n    }\r\n  }\r\n\r\n  /* TabView.prototype.fire = function (event, data, cancelable, bubbles){\r\n    let myEvent = new CustomEvent(event, {detail:data, cancelable:cancelable, bubbles:bubbles});\r\n    document.dispatchEvent(myEvent);\r\n  }  ; */\r\n  onBeforeClose(fn, ctx) {\r\n    this.Event.on(\"tab_before_close\", fn, ctx);\r\n  }\r\n\r\n  onClose(fn, ctx) {\r\n    this.Event.on(\"tab_close\", fn, ctx);\r\n  }\r\n\r\n  onSelect(fn, ctx) {\r\n    this.Event.on(\"tab_before_select\", fn, ctx);\r\n  }\r\n\r\n  onBeforeSelect(fn) {\r\n    this.addListener(\"tab_select\", fn);\r\n  }\r\n\r\n  onOpen(fn, ctx) {\r\n    this.Event.on(\"tab_open\", fn, ctx);\r\n  }\r\n\r\n  onBeforeOpen(fn, ctx) {\r\n    this.Event.on(\"tab_before_open\", fn, ctx);\r\n  }\r\n\r\n  destroy() {\r\n    // destroy\r\n    this.removeListeners();\r\n  }\r\n}\r\n// Returns a function, that, as long as it continues to be invoked, will not\r\n// be triggered. The function will be called after it stops being called for\r\n// N milliseconds. If `immediate` is passed, trigger the function on the\r\n// leading edge, instead of the trailing.\r\nTabView.prototype.debounce = function (func, wait, immediate) {\r\n  var timeout;\r\n  return function () {\r\n    var context = this;\r\n    var args = arguments;\r\n    var later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n\r\nTabView.prototype.Emitter = {\r\n  fire(event, data, context, cancelable, bubbles) {\r\n    var cntx = context || document;\r\n    var myEvent = new CustomEvent(event, {\r\n      detail: data,\r\n      cancelable: cancelable || false,\r\n      bubbles: bubbles || false,\r\n    });\r\n    cntx.dispatchEvent(myEvent);\r\n  },\r\n  on(event, listener, context) {\r\n    var cntx = context || document;\r\n    cntx.addEventListener(event, listener);\r\n    // this.off(event, listener, context);\r\n  },\r\n  off(event, listener, context) {\r\n    var cntx = context || document;\r\n    cntx.removeEventListener(event, listener);\r\n  },\r\n};\r\n\r\nTabView.prototype.Event = {\r\n  _listeners: {},\r\n  addListener: function (type, listener) {\r\n    if (typeof this._listeners[type] === \"undefined\") {\r\n      this._listeners[type] = [];\r\n    }\r\n    this._listeners[type].push(listener);\r\n  },\r\n  attach: function (type, listener) {\r\n    this.addListener(type, listener);\r\n  },\r\n  on: function (type, listener) {\r\n    this.addListener(type, listener);\r\n  },\r\n\r\n  fire: function (event, data, target) {\r\n    if (typeof event === \"string\") {\r\n      event = {\r\n        type: event,\r\n        data: data,\r\n        target: target,\r\n      };\r\n    }\r\n    if (!event.target) {\r\n      event.target = this;\r\n    }\r\n    if (!event.type) {\r\n      // falsy\r\n      throw new Error(\"Type error\");\r\n    }\r\n    if (this._listeners[event.type] instanceof Array) {\r\n      const listeners = this._listeners[event.type];\r\n      for (var i = 0, len = listeners.length; i < len; i++) {\r\n        listeners[i].call(this, event);\r\n      }\r\n    }\r\n  },\r\n  trigger: function (type, listener) {\r\n    this.fire(type, listener);\r\n  },\r\n\r\n  removeListener: function (type, listener) {\r\n    if (this._listeners[type] instanceof Array) {\r\n      const listeners = this._listeners[type];\r\n      for (var i = 0, len = listeners.length; i < len; i++) {\r\n        if (listeners[i] === listener) {\r\n          listeners.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  off: function (type, listener) {\r\n    this.removeListener(type, listener);\r\n  },\r\n};\r\n"],"names":["TabView","tabIndex","currentIndex","links","tabs","Map","buttons","pages","selectedTab","hiddenTabs","generateRandomString","Math","random","toString","slice","createLinkButton","linkId","tabId","pageId","style","title","linkButton","document","createElement","className","setAttribute","outline","height","width","border","fontSize","fontWeight","margin","padding","boxShadow","background","color","cursor","transition","borderRadius","createCloseButton","button","innerHTML","visibility","marginRight","marginLeft","display","alignContent","alignItems","addEventListener","createPage","options","page","text","position","overflow","top","bottom","left","right","bg","createPagePanel","panel","createLabel","label","paddingRight","paddingLeft","verticalAlign","maxWidth","whiteSpace","append","createTextNode","createTabBarWraper","tabbarContainer","createBar","tabBar","createTabButton","name","float","btn","id","createImage","img","icon","createLabelContainer","labelContainer","closeBtn","closable","close","parentNode","parentElement","getAttribute","createTable","tabBarWrapper","pagePanel","banner","footer","doc","createDocumentFragment","table","thead","bannerRow","minHeight","maxHeight","th","textAlign","appendChild","tbody","linkRow","settings","tab_height","td","borderCollapse","pageRow","linkRow2","footerRow","firstElementChild","nextSibling","init","el","Object","assign","data","loadFromMarkup","applySettings","leftBtn","scroll","leftNavId","addBtn","addBtnId","add","Event","fire","tabBarWraper","tabBarId","rtBtn","rightBtn","rightNavId","pagePanelId","addBanner","addFooter","container","getElementById","containerId","theme","attachDomEventListeners","dynamicLoad","toggleNavigator","getLeftNavButton","getRightNavButton","limit","undefined","close_click","infinite_scroll","left_tip","right_tip","add_tip","arguments","selected","forEach","d","tab","getPage","html","zIndex","select","fn","children","Error","markup","length","querySelector","remove","node","push","textContent","target","get","getLinkButton","getCloswButton","lastElementChild","getTabPagePanel","getAddButton","getFooter","footerId","getBanner","bannerId","getTabBar","getContainer","hideExtraTabs","values","numTotal","numVisible","min","i","j","getLinkTarget","e","getTabAtIndex","size","allowDrop","ev","preventDefault","drag","dataTransfer","setData","drop","getData","dataEl","dragStartPoint","dragStopPoint","before","after","justifyContent","mountTab","tabPagePanel","tabbar","prepend","lastChild","bannerBox","getBoundingClientRect","bannerBottom","footerBox","footerTop","index","value","unhide","last","visibles","getVisibleTabs","firstVisible","previousSibling","lastHidden","gap","scrollLinkIntoView","window","debounce","isLinkVisible","showHideNavButton","event","handleKeypress","clientX","code","keyCode","link","blur","visibleButtons","firstVisibleButton","lastVisibleButton","rBtn","lBtn","toggleNavButton","show","toggleAddButton","showHideNavigator","applySelection","tablinks","classList","firstChild","tab_settings","activeBg","activecolor","applyTheme","getSelectedTab","getTab","setContent","content","setTitle","keys","buttonId","Number","set","isFinite","result","next","prev","tagName","box","box1","Array","prototype","call","querySelectorAll","filter","getHiddenTabs","infiniteScroll","finiteScroll","max","count","click","bts","onBeforeClose","ctx","on","onClose","onSelect","onBeforeSelect","addListener","onOpen","onBeforeOpen","destroy","removeListeners","page_settings","func","wait","immediate","timeout","context","args","later","apply","callNow","clearTimeout","setTimeout","Emitter","cancelable","bubbles","cntx","myEvent","CustomEvent","detail","dispatchEvent","listener","off","removeEventListener","_listeners","type","attach","listeners","len","trigger","removeListener","splice"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;MACqBA;EACnB;EACA,qBAAc;EACZ,SAAKC,QAAL,GAAgB,CAAC,CAAjB;EACA,SAAKC,YAAL,GAAoB,CAApB;EACA,SAAKC,KAAL,GAAa,EAAb;EACA,SAAKC,IAAL,GAAY,IAAIC,GAAJ,EAAZ;EACA,SAAKC,OAAL,GAAe,EAAf;EACA,SAAKC,KAAL,GAAa,EAAb;EACA,SAAKC,WAAL,GAAmB,EAAnB;EACA,SAAKC,UAAL,GAAkB,EAAlB;EACD;;;;WAEDC,uBAAA,gCAAuB;EACrB,WAAOC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAP;EACD;;WAEDC,mBAAA,0BAAiBC,MAAjB,EAAyBC,KAAzB,QAA0D;EAAA,QAAxBC,MAAwB,QAAxBA,MAAwB;EAAA,QAAhBC,KAAgB,QAAhBA,KAAgB;EAAA,QAATC,KAAS,QAATA,KAAS;EACxD,QAAIC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAjB;EACAF,IAAAA,UAAU,CAACG,SAAX,GAAuB,UAAvB;EACAH,IAAAA,UAAU,CAACI,YAAX,CAAwB,MAAxB,EAAgC,IAAhC;EACAJ,IAAAA,UAAU,CAACI,YAAX,CAAwB,IAAxB,EAA8BT,MAA9B;EACAK,IAAAA,UAAU,CAACI,YAAX,CAAwB,OAAxB,EAAiCL,KAAjC;EACAC,IAAAA,UAAU,CAACI,YAAX,CAAwB,MAAxB,EAAgC,UAAhC;EACAJ,IAAAA,UAAU,CAACI,YAAX,CAAwB,WAAxB,EAAqC,MAArC;EACAJ,IAAAA,UAAU,CAACI,YAAX,CAAwB,UAAxB,EAAoCR,KAApC;EACAI,IAAAA,UAAU,CAACI,YAAX,CAAwB,aAAxB,EAAuCP,MAAvC;EACAG,IAAAA,UAAU,CAACF,KAAX,CAAiBO,OAAjB,GAA2B,MAA3B;EACAL,IAAAA,UAAU,CAACF,KAAX,CAAiBQ,MAAjB,GAA0B,MAA1B;EACAN,IAAAA,UAAU,CAACF,KAAX,CAAiBS,KAAjB,GAAyB,MAAzB;EACAP,IAAAA,UAAU,CAACF,KAAX,CAAiBU,MAAjB,GAA0B,oBAA1B;EACAR,IAAAA,UAAU,CAACF,KAAX,CAAiBW,QAAjB,GAA4B,MAA5B;EACAT,IAAAA,UAAU,CAACF,KAAX,CAAiBY,UAAjB,GAA8B,KAA9B;EACAV,IAAAA,UAAU,CAACF,KAAX,CAAiBa,MAAjB,GAA0B,GAA1B;EACAX,IAAAA,UAAU,CAACF,KAAX,CAAiBc,OAAjB,GAA2B,GAA3B;EACAZ,IAAAA,UAAU,CAACF,KAAX,CAAiBe,SAAjB,GAA6B,MAA7B;EACAb,IAAAA,UAAU,CAACF,KAAX,CAAiBgB,UAAjB,GAA8B,SAA9B;EACAd,IAAAA,UAAU,CAACF,KAAX,CAAiBiB,KAAjB,GAAyB,SAAzB;EACAf,IAAAA,UAAU,CAACF,KAAX,CAAiBkB,MAAjB,GAA0B,SAA1B;EACAhB,IAAAA,UAAU,CAACF,KAAX,CAAiBmB,UAAjB,GAA8B,iBAA9B;;EACA,QAAInB,KAAJ,EAAW;EACTE,MAAAA,UAAU,CAACF,KAAX,CAAiBoB,YAAjB,GAAgC,iBAAhC;EACD,KAFD,MAEO;EACLlB,MAAAA,UAAU,CAACF,KAAX,CAAiBoB,YAAjB,GAAgC,iBAAhC;EACD;;EAED,WAAOlB,UAAP;EACD;;WAEDmB,oBAAA,6BAAoB;EAClB,QAAIC,MAAM,GAAGnB,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;EACAkB,IAAAA,MAAM,CAACC,SAAP,GAAmB,QAAnB;EACAD,IAAAA,MAAM,CAAChB,YAAP,CAAoB,MAApB,EAA4B,cAA5B;EACAgB,IAAAA,MAAM,CAAChB,YAAP,CAAoB,OAApB,EAA6B,OAA7B;EACAgB,IAAAA,MAAM,CAACtB,KAAP,CAAaoB,YAAb,GAA4B,KAA5B;EACAE,IAAAA,MAAM,CAACtB,KAAP,CAAawB,UAAb,GAA0B,QAA1B;EACAF,IAAAA,MAAM,CAACtB,KAAP,CAAaQ,MAAb,GAAsBc,MAAM,CAACtB,KAAP,CAAaS,KAAb,GAAqB,MAA3C;EACAa,IAAAA,MAAM,CAACtB,KAAP,YAAqB,OAArB;EACAsB,IAAAA,MAAM,CAACtB,KAAP,CAAayB,WAAb,GAA2B,KAA3B;EACAH,IAAAA,MAAM,CAACtB,KAAP,CAAa0B,UAAb,GAA0B,KAA1B;EACAJ,IAAAA,MAAM,CAACtB,KAAP,CAAa2B,OAAb,GAAuB,MAAvB;EACAL,IAAAA,MAAM,CAACtB,KAAP,CAAac,OAAb,GAAuB,iBAAvB;EACAQ,IAAAA,MAAM,CAACtB,KAAP,CAAa4B,YAAb,GAA4B,QAA5B;EACAN,IAAAA,MAAM,CAACtB,KAAP,CAAa6B,UAAb,GAA0B,QAA1B;EACAP,IAAAA,MAAM,CAACtB,KAAP,CAAaW,QAAb,GAAwB,MAAxB;EACAW,IAAAA,MAAM,CAACtB,KAAP,CAAaiB,KAAb,GAAqB,SAArB;EACAK,IAAAA,MAAM,CAACtB,KAAP,CAAaY,UAAb,GAA0B,KAA1B;EACAU,IAAAA,MAAM,CAACtB,KAAP,CAAagB,UAAb,GAA0B,aAA1B;EACAM,IAAAA,MAAM,CAACQ,gBAAP,CAAwB,YAAxB,EAAsC,YAAY;EAChDR,MAAAA,MAAM,CAACtB,KAAP,CAAagB,UAAb,GAA0B,MAA1B;EACD,KAFD;EAGAM,IAAAA,MAAM,CAACQ,gBAAP,CAAwB,YAAxB,EAAsC,YAAY;EAChDR,MAAAA,MAAM,CAACtB,KAAP,CAAagB,UAAb,GAA0B,EAA1B;EACD,KAFD;EAIA,WAAOM,MAAP;EACD;;WAEDS,aAAA,oBAAWhC,MAAX,EAAmBD,KAAnB,EAA0BD,MAA1B,EAAkCmC,OAAlC,EAA2C;EACzC,QAAIC,IAAI,GAAG9B,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;EACA6B,IAAAA,IAAI,CAAC3B,YAAL,CAAkB,IAAlB,EAAwBP,MAAxB;EACAkC,IAAAA,IAAI,CAAC3B,YAAL,CAAkB,UAAlB,EAA8BR,KAA9B;EACAmC,IAAAA,IAAI,CAAC3B,YAAL,CAAkB,cAAlB,EAAkCT,MAAlC;EACAoC,IAAAA,IAAI,CAACV,SAAL,GAAiBS,OAAO,CAACE,IAAR,IAAgB,EAAjC;EACAD,IAAAA,IAAI,CAACjC,KAAL,CAAWmC,QAAX,GAAsB,UAAtB;EACAF,IAAAA,IAAI,CAACjC,KAAL,CAAWc,OAAX,GAAqB,UAArB;EACAmB,IAAAA,IAAI,CAACjC,KAAL,CAAWwB,UAAX,GAAwB,QAAxB;EACAS,IAAAA,IAAI,CAACjC,KAAL,CAAWoC,QAAX,GAAsB,MAAtB;EACAH,IAAAA,IAAI,CAACjC,KAAL,CAAWqC,GAAX,GACEJ,IAAI,CAACjC,KAAL,CAAWsC,MAAX,GACAL,IAAI,CAACjC,KAAL,CAAWuC,IAAX,GACAN,IAAI,CAACjC,KAAL,CAAWwC,KAAX,GACE,GAJJ,CAVyC;;EAgBzCP,IAAAA,IAAI,CAACjC,KAAL,CAAWgB,UAAX,GAAwBgB,OAAO,CAACS,EAAR,IAAc,EAAtC;EACA,WAAOR,IAAP;EACD;;WAEDS,kBAAA,2BAAkB;EAChB,QAAIC,KAAK,GAAGxC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;EACAuC,IAAAA,KAAK,CAACrC,YAAN,CAAmB,IAAnB,EAAyB,KAAKf,oBAAL,EAAzB;EACAoD,IAAAA,KAAK,CAAC3C,KAAN,CAAYmC,QAAZ,GAAuB,UAAvB;EACAQ,IAAAA,KAAK,CAACtC,SAAN,GAAkB,WAAlB;EACAsC,IAAAA,KAAK,CAAC3C,KAAN,CAAYS,KAAZ,GAAoB,MAApB;EACAkC,IAAAA,KAAK,CAAC3C,KAAN,CAAYQ,MAAZ,GAAqB,MAArB;EACAmC,IAAAA,KAAK,CAAC3C,KAAN,CAAYoC,QAAZ,GAAuB,QAAvB;EACAO,IAAAA,KAAK,CAAC3C,KAAN,CAAYa,MAAZ,GAAqB,GAArB;EACA8B,IAAAA,KAAK,CAAC3C,KAAN,CAAYqC,GAAZ,GAAkB,GAAlB;EACAM,IAAAA,KAAK,CAAC3C,KAAN,CAAYgB,UAAZ,GAAyB,EAAzB;EACA,WAAO2B,KAAP;EACD;;WAEDC,cAAA,qBAAYV,IAAZ,EAAkB;EAChB,QAAIW,KAAK,GAAG1C,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ;EACAyC,IAAAA,KAAK,CAACvC,YAAN,CAAmB,MAAnB,EAA2B,gBAA3B;EACAuC,IAAAA,KAAK,CAACxC,SAAN,GAAkB,gBAAlB;EACAwC,IAAAA,KAAK,CAAC7C,KAAN,CAAYa,MAAZ,GAAqB,GAArB;EACAgC,IAAAA,KAAK,CAAC7C,KAAN,CAAY8C,YAAZ,GAA2B,KAA3B;EACAD,IAAAA,KAAK,CAAC7C,KAAN,CAAY+C,WAAZ,GAA0B,KAA1B;EACAF,IAAAA,KAAK,CAAC7C,KAAN,CAAYgD,aAAZ,GAA4B,QAA5B;EACAH,IAAAA,KAAK,CAAC7C,KAAN,CAAYc,OAAZ,GAAsB,GAAtB;EACA+B,IAAAA,KAAK,CAAC7C,KAAN,CAAYiB,KAAZ,GAAoB,SAApB;EACA4B,IAAAA,KAAK,CAAC7C,KAAN,CAAYiD,QAAZ,GAAuB,MAAvB;EACAJ,IAAAA,KAAK,CAAC7C,KAAN,CAAYoC,QAAZ,GAAuB,QAAvB;EACAS,IAAAA,KAAK,CAAC7C,KAAN,CAAYkD,UAAZ,GAAyB,QAAzB;EACAL,IAAAA,KAAK,CAAC7C,KAAN,CAAYgB,UAAZ,GAAyB,EAAzB;EACA6B,IAAAA,KAAK,CAAC7C,KAAN,CAAYkB,MAAZ,GAAqB,SAArB;EACA2B,IAAAA,KAAK,CAAC7C,KAAN,CAAYW,QAAZ,GAAuB,SAAvB;EACAkC,IAAAA,KAAK,CAAC7C,KAAN,CAAYY,UAAZ,GAAyB,SAAzB;EACAiC,IAAAA,KAAK,CAACM,MAAN,CAAahD,QAAQ,CAACiD,cAAT,CAAwBlB,IAAxB,CAAb,EAjBgB;;EAmBhB,WAAOW,KAAP;EACD;;WAEDQ,qBAAA,8BAAqB;EACnB,QAAIC,eAAe,GAAGnD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;EACAkD,IAAAA,eAAe,CAACtD,KAAhB,CAAsBmC,QAAtB,GAAiC,UAAjC;EACAmB,IAAAA,eAAe,CAACtD,KAAhB,CAAsBQ,MAAtB,GAA+B,MAA/B;EACA8C,IAAAA,eAAe,CAACtD,KAAhB,CAAsBQ,MAAtB,GAA+B,MAA/B;EACA8C,IAAAA,eAAe,CAACtD,KAAhB,CAAsBS,KAAtB,GAA8B,MAA9B;EACA6C,IAAAA,eAAe,CAACtD,KAAhB,CAAsBU,MAAtB,GAA+B,MAA/B;EACA4C,IAAAA,eAAe,CAACtD,KAAhB,CAAsBc,OAAtB,GAAgC,MAAhC;EACAwC,IAAAA,eAAe,CAACjD,SAAhB,GAA4B,gBAA5B;EACA,WAAOiD,eAAP;EACD;;WAEDC,YAAA,qBAAY;EACV,QAAIC,MAAM,GAAGrD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAb;EACAoD,IAAAA,MAAM,CAAClD,YAAP,CAAoB,IAApB,EAA0B,KAAKf,oBAAL,EAA1B;EACAiE,IAAAA,MAAM,CAACxD,KAAP,CAAamC,QAAb,GAAwB,UAAxB;EACAqB,IAAAA,MAAM,CAACxD,KAAP,CAAaqC,GAAb,GAAmB,GAAnB;EACAmB,IAAAA,MAAM,CAACxD,KAAP,CAAasC,MAAb,GAAsB,GAAtB;EACAkB,IAAAA,MAAM,CAACxD,KAAP,CAAauC,IAAb,GAAoB,MAApB;EACAiB,IAAAA,MAAM,CAACxD,KAAP,CAAawC,KAAb,GAAqB,MAArB;EACAgB,IAAAA,MAAM,CAACxD,KAAP,CAAaoC,QAAb,GAAwB,QAAxB;EACAoB,IAAAA,MAAM,CAACxD,KAAP,CAAac,OAAb,GAAuB,KAAvB;EACA0C,IAAAA,MAAM,CAACxD,KAAP,CAAaa,MAAb,GAAsB,KAAtB;EACA2C,IAAAA,MAAM,CAACxD,KAAP,CAAa8C,YAAb,GAA4B,KAA5B;EACAU,IAAAA,MAAM,CAACxD,KAAP,CAAagB,UAAb,GAA0B,SAA1B;EACAwC,IAAAA,MAAM,CAACnD,SAAP,GAAmB,SAAnB;EACA,WAAOmD,MAAP;EACD;;WAEDC,kBAAA,yBAAgBC,IAAhB,EAAsBxB,IAAtB,EAA4ByB,MAA5B,EAAmC;EACjC,QAAMC,GAAG,GAAGzD,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAZ;EACAwD,IAAAA,GAAG,CAACC,EAAJ,GAAS,KAAKtE,oBAAL,EAAT;EACAqE,IAAAA,GAAG,CAACtD,YAAJ,CAAiB,MAAjB,EAAyBoD,IAAzB;EACAE,IAAAA,GAAG,CAAC5D,KAAJ,CAAUQ,MAAV,GAAmB,MAAnB;EACAoD,IAAAA,GAAG,CAAC5D,KAAJ,CAAUU,MAAV,GAAmB,oBAAnB;EACAkD,IAAAA,GAAG,CAAC5D,KAAJ,CAAUgB,UAAV,GAAuB,aAAvB;EACA4C,IAAAA,GAAG,CAAC5D,KAAJ,CAAUiB,KAAV,GAAkB,OAAlB;EACA2C,IAAAA,GAAG,CAACnC,WAAJ,GAAkBmC,GAAG,CAAClC,UAAJ,GAAiB,KAAnC;EACAkC,IAAAA,GAAG,CAAC5D,KAAJ,CAAUc,OAAV,GAAoB,KAApB;EACA8C,IAAAA,GAAG,CAAC5D,KAAJ,CAAU+C,WAAV,GAAwBa,GAAG,CAAC5D,KAAJ,CAAU8C,YAAV,GAAyB,KAAjD;EACAc,IAAAA,GAAG,CAAC5D,KAAJ,CAAUkB,MAAV,GAAmB,SAAnB;EACA0C,IAAAA,GAAG,CAAC5D,KAAJ,CAAUY,UAAV,GAAuB,KAAvB;EACAgD,IAAAA,GAAG,CAAC5D,KAAJ,CAAUW,QAAV,GAAqB,MAArB;EACAiD,IAAAA,GAAG,CAAC5D,KAAJ,YAAkB2D,MAAK,IAAI,MAA3B;EACAC,IAAAA,GAAG,CAAC5D,KAAJ,CAAUO,OAAV,GAAoB,MAApB;EACAqD,IAAAA,GAAG,CAACrC,SAAJ,GAAgBW,IAAhB;EACA0B,IAAAA,GAAG,CAAC5D,KAAJ,CAAUoB,YAAV,GAAyB,SAAzB;EACA,WAAOwC,GAAP;EACD;;WAEDE,cAAA,qBAAY9B,OAAZ,EAAqB;EACnB,QAAM+B,GAAG,GAAG5D,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAZ;EACA2D,IAAAA,GAAG,CAAC/D,KAAJ,CAAUyB,WAAV,GAAwB,KAAxB;EACAsC,IAAAA,GAAG,CAAC/D,KAAJ,CAAUiB,KAAV,GAAkB,MAAlB;EACA8C,IAAAA,GAAG,CAAC/D,KAAJ,CAAUY,UAAV,GAAuB,MAAvB;EACAmD,IAAAA,GAAG,CAACxC,SAAJ,GAAgBS,OAAO,CAACgC,IAAR,IAAgB,IAAhC;EACAD,IAAAA,GAAG,CAAC/D,KAAJ,YAAkB,MAAlB;EACA,WAAO+D,GAAP;EACD;;WAEDE,uBAAA,8BAAqBjC,OAArB,EAA8B;EAAA;;EAC5B,QAAMkC,cAAc,GAAG/D,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAvB;EACA8D,IAAAA,cAAc,CAAC5D,YAAf,CAA4B,MAA5B,EAAoC,uBAApC;EACA4D,IAAAA,cAAc,CAAClE,KAAf,CAAqB2B,OAArB,GAA+B,MAA/B;EACAuC,IAAAA,cAAc,CAAClE,KAAf,CAAqB4B,YAArB,GAAoC,QAApC;EACAsC,IAAAA,cAAc,CAAClE,KAAf,CAAqB6B,UAArB,GAAkC,QAAlC;EACAqC,IAAAA,cAAc,CAAClE,KAAf,CAAqBc,OAArB,GAA+B,KAA/B;EACAoD,IAAAA,cAAc,CAAClE,KAAf,CAAqBQ,MAArB,GAA8B,MAA9B;EACA0D,IAAAA,cAAc,CAAClE,KAAf,CAAqBS,KAArB,GAA6B,MAA7B;EACAyD,IAAAA,cAAc,CAAClE,KAAf,CAAqBiB,KAArB,GAA6B,SAA7B;EACAiD,IAAAA,cAAc,CAAClE,KAAf,CAAqBgB,UAArB,GAAkC,aAAlC;EACAkD,IAAAA,cAAc,CAAClE,KAAf,CAAqBkB,MAArB,GAA8B,SAA9B;EACA,QAAM6C,GAAG,GAAG,KAAKD,WAAL,CAAiB9B,OAAjB,CAAZ;EACA,QAAImC,QAAQ,GAAG,KAAK9C,iBAAL,EAAf;EACA,QAAIwB,KAAK,GAAG,KAAKD,WAAL,CAAiBZ,OAAO,CAACa,KAAzB,EAAgCb,OAAO,CAAC/B,KAAxC,CAAZ;;EACA,QAAI,CAAC+B,OAAO,CAACoC,QAAb,EAAuB;EACrBD,MAAAA,QAAQ,CAACnE,KAAT,CAAe2B,OAAf,GAAyB,MAAzB;EACAuC,MAAAA,cAAc,CAAClE,KAAf,CAAqB8C,YAArB,GAAoC,KAApC;EACD;;EACDoB,IAAAA,cAAc,CAACf,MAAf,CAAsBY,GAAtB;EACAG,IAAAA,cAAc,CAACf,MAAf,CAAsBN,KAAtB;EACAqB,IAAAA,cAAc,CAACf,MAAf,CAAsBgB,QAAtB;EACAA,IAAAA,QAAQ,CAACrC,gBAAT,CAA0B,OAA1B,EAAmC,YAAM;EACvC,MAAA,KAAI,CAACuC,KAAL,CACEF,QAAQ,CAACG,UAAT,CAAoBC,aAApB,CAAkCC,YAAlC,CAA+C,UAA/C,CADF,EAEE,KAFF;EAID,KALD;EAOA,WAAON,cAAP;EACD;;WAEDO,cAAA,qBAAYC,aAAZ,EAA2BC,SAA3B,EAAsCC,MAAtC,EAA8CC,MAA9C,EAAsD;EACpD,QAAMC,GAAG,GAAG3E,QAAQ,CAAC4E,sBAAT,EAAZ;EACA,QAAMC,KAAK,GAAG7E,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;EACA4E,IAAAA,KAAK,CAAChF,KAAN,CAAYS,KAAZ,GAAoBuE,KAAK,CAAChF,KAAN,CAAYQ,MAAZ,GAAqB,MAAzC;EACAsE,IAAAA,GAAG,CAAC3B,MAAJ,CAAW6B,KAAX;EAEA,QAAMC,KAAK,GAAG9E,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;EACA4E,IAAAA,KAAK,CAAC7B,MAAN,CAAa8B,KAAb;EAEA,QAAMC,SAAS,GAAG/E,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAlB;EACA8E,IAAAA,SAAS,CAAClF,KAAV,CAAgBmF,SAAhB,GAA4B,KAA5B;EACAD,IAAAA,SAAS,CAAClF,KAAV,CAAgBoF,SAAhB,GAA4B,MAA5B;EACAH,IAAAA,KAAK,CAAC9B,MAAN,CAAa+B,SAAb;EACA,QAAMG,EAAE,GAAGlF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX,CAboD;;EAepDiF,IAAAA,EAAE,CAACrF,KAAH,CAASsF,SAAT,GAAqB,MAArB;EACAD,IAAAA,EAAE,CAACrF,KAAH,CAASc,OAAT,GAAmB,GAAnB;;EACA,QAAI8D,MAAJ,EAAY;EACVS,MAAAA,EAAE,CAAClC,MAAH,CAAUyB,MAAV;EACD,KAFD,MAEO;EACLM,MAAAA,SAAS,CAAClF,KAAV,CAAgB2B,OAAhB,GAA0B,MAA1B;EACD;;EACDuD,IAAAA,SAAS,CAACK,WAAV,CAAsBF,EAAtB;EAEA,QAAMG,KAAK,GAAGrF,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;EACA4E,IAAAA,KAAK,CAAC7B,MAAN,CAAaqC,KAAb;EAEA,QAAMC,OAAO,GAAGtF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAhB;EACAqF,IAAAA,OAAO,CAACzF,KAAR,CAAcmF,SAAd,GAA0B,MAA1B;EACAM,IAAAA,OAAO,CAACzF,KAAR,CAAcQ,MAAd,GAAuB,KAAKkF,QAAL,CAAcC,UAAd,GAA2B,IAAlD;EACAF,IAAAA,OAAO,CAACzF,KAAR,CAAcc,OAAd,GAAwB,GAAxB;EACA0E,IAAAA,KAAK,CAACrC,MAAN,CAAasC,OAAb;EAEA,QAAIG,EAAE,GAAGzF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAT;EACAwF,IAAAA,EAAE,CAAC5F,KAAH,CAASoC,QAAT,GAAoB,QAApB;EACAwD,IAAAA,EAAE,CAAC5F,KAAH,CAASkD,UAAT,GAAsB,QAAtB;EACA0C,IAAAA,EAAE,CAAC5F,KAAH,CAASsF,SAAT,GAAqB,MAArB;EACAM,IAAAA,EAAE,CAAC5F,KAAH,CAASc,OAAT,GAAmB,GAAnB;EACA8E,IAAAA,EAAE,CAACzC,MAAH,CAAUuB,aAAV;EACAe,IAAAA,OAAO,CAACF,WAAR,CAAoBK,EAApB;EACAZ,IAAAA,KAAK,CAAChF,KAAN,CAAY6F,cAAZ,GACEJ,OAAO,CAACzF,KAAR,CAAc6F,cAAd,GACAD,EAAE,CAAC5F,KAAH,CAAS6F,cAAT,GACE,UAHJ;EAIAb,IAAAA,KAAK,CAAChF,KAAN,CAAYU,MAAZ,GACE+E,OAAO,CAACzF,KAAR,CAAcU,MAAd,GACAkF,EAAE,CAAC5F,KAAH,CAASU,MAAT,GACE,oBAHJ;EAKA,QAAMoF,OAAO,GAAG3F,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAhB;EACAoF,IAAAA,KAAK,CAACrC,MAAN,CAAa2C,OAAb;EACAF,IAAAA,EAAE,GAAGzF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAL;EACAwF,IAAAA,EAAE,CAACzC,MAAH,CAAUwB,SAAV;EACAiB,IAAAA,EAAE,CAAC5F,KAAH,CAASsF,SAAT,GAAqB,MAArB;EACAM,IAAAA,EAAE,CAAC5F,KAAH,CAASc,OAAT,GAAmB,GAAnB;EACAgF,IAAAA,OAAO,CAACP,WAAR,CAAoBK,EAApB;EAEA,QAAMG,QAAQ,GAAG5F,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAjB;EACAoF,IAAAA,KAAK,CAACrC,MAAN,CAAa4C,QAAb;EACAH,IAAAA,EAAE,GAAGzF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAL;EACAwF,IAAAA,EAAE,CAAC5F,KAAH,CAASsF,SAAT,GAAqB,MAArB;EACAM,IAAAA,EAAE,CAAC5F,KAAH,CAASc,OAAT,GAAmB,GAAnB;EACAiF,IAAAA,QAAQ,CAACR,WAAT,CAAqBK,EAArB;EACAG,IAAAA,QAAQ,CAAC/F,KAAT,CAAemF,SAAf,GAA2B,MAA3B;EACAY,IAAAA,QAAQ,CAAC/F,KAAT,CAAeQ,MAAf,GAAwB,KAAKkF,QAAL,CAAcC,UAAd,GAA2B,IAAnD;EAEA,QAAMK,SAAS,GAAG7F,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAlB;EACAoF,IAAAA,KAAK,CAACrC,MAAN,CAAa6C,SAAb;EACAJ,IAAAA,EAAE,GAAGzF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAL;EACA4F,IAAAA,SAAS,CAACT,WAAV,CAAsBK,EAAtB;EACAI,IAAAA,SAAS,CAAChG,KAAV,CAAgBoF,SAAhB,GAA4B,MAA5B;EACAQ,IAAAA,EAAE,GAAGzF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAL;EACAwF,IAAAA,EAAE,CAAC5F,KAAH,CAASc,OAAT,GAAmB,GAAnB;;EACA,QAAI+D,MAAJ,EAAY;EACVe,MAAAA,EAAE,CAACzC,MAAH,CAAU0B,MAAM,IAAI1E,QAAQ,CAACiD,cAAT,CAAwB,EAAxB,CAApB;EACD,KAFD,MAEO;EACL4C,MAAAA,SAAS,CAAChG,KAAV,CAAgB2B,OAAhB,GAA0B,MAA1B;EACD;;EACDqE,IAAAA,SAAS,CAACT,WAAV,CAAsBK,EAAtB;EACAA,IAAAA,EAAE,GAAGzF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAL;EACAwF,IAAAA,EAAE,CAAC5F,KAAH,CAASc,OAAT,GAAmB,GAAnB;EACAkF,IAAAA,SAAS,CAACT,WAAV,CAAsBK,EAAtB;;EACA,QAAI,KAAKF,QAAL,CAAcpD,MAAlB,EAA0B;EACxByD,MAAAA,QAAQ,CAACE,iBAAT,CAA2BC,WAA3B,CAAuCX,WAAvC,CAAmDb,aAAnD;EACAe,MAAAA,OAAO,CAACzF,KAAR,CAAc2B,OAAd,GAAwB,MAAxB;EACD,KAHD,MAGO;EACLoE,MAAAA,QAAQ,CAAC/F,KAAT,CAAe2B,OAAf,GAAyB,MAAzB;EACD;;EACD,WAAOmD,GAAP;EACD;;WAEDqB,OAAA,cAAKC,EAAL,EAASpE,OAAT,EAAkB;EAAA;;EAChB,SAAK0D,QAAL,GAAgBW,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBtE,OAAlB,CAAhB;EACA,QAAMuE,IAAI,GAAGvE,OAAO,CAACwE,cAAR,GAAyB,KAAKA,cAAL,CAAoBJ,EAApB,CAAzB,GAAmD,IAAhE;;EACA,QAAIG,IAAJ,EAAU;EACR,WAAKb,QAAL,GAAgBW,MAAM,CAACC,MAAP,CAAc,KAAKZ,QAAnB,EAA6Ba,IAA7B,CAAhB;EACD;;EACD,SAAKE,aAAL,CAAmB,KAAKf,QAAxB;EACA,QAAMgB,OAAO,GAAG,KAAKjD,eAAL,CAAqB,iBAArB,EAAwC,MAAxC,EAAgD,MAAhD,CAAhB;EACA,SAAKiD,OAAL,GAAeA,OAAf;EACAA,IAAAA,OAAO,CAAC5E,gBAAR,CAAyB,OAAzB,EAAkC,YAAM;EACtC,MAAA,MAAI,CAAC6E,MAAL,CAAY,KAAZ;EACD,KAFD;EAIA,SAAKC,SAAL,GAAiBF,OAAO,CAAC7C,EAAzB;EACA,QAAMgD,MAAM,GAAG,KAAKpD,eAAL,CAAqB,gBAArB,EAAuC,GAAvC,EAA4C,MAA5C,CAAf;EACA,SAAKoD,MAAL,GAAcA,MAAd;EACA,SAAKC,QAAL,GAAgBD,MAAM,CAAChD,EAAvB;;EACA,QAAI,KAAK6B,QAAL,CAAcqB,GAAlB,EAAuB;EACrB,WAAKF,MAAL,CAAY7G,KAAZ,CAAkBwB,UAAlB,GAA+B,SAA/B;EACD,KAFD,MAEO;EACL,WAAKqF,MAAL,CAAY7G,KAAZ,CAAkBwB,UAAlB,GAA+B,QAA/B;EACD;;EACD,SAAKqF,MAAL,CAAY/E,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;EAC1C,MAAA,MAAI,CAACkF,KAAL,CAAWC,IAAX,CAAgB,eAAhB,EAAiC,MAAI,CAAC1H,oBAAL,EAAjC;EACD,KAFD;EAGA,QAAMiE,MAAM,GAAG,KAAKD,SAAL,EAAf;EACA,QAAM2D,YAAY,GAAG,KAAK7D,kBAAL,EAArB;EACA6D,IAAAA,YAAY,CAAC/D,MAAb,CAAoBK,MAApB;EAEA0D,IAAAA,YAAY,CAAC3B,WAAb,CAAyBmB,OAAzB;EACAQ,IAAAA,YAAY,CAAC3B,WAAb,CAAyBsB,MAAzB;EAEA,SAAKM,QAAL,GAAgB3D,MAAM,CAACK,EAAvB;EACA,SAAKL,MAAL,GAAcA,MAAd;EAEA,QAAM4D,KAAK,GAAG,KAAK3D,eAAL,CAAqB,kBAArB,EAAyC,MAAzC,EAAiD,OAAjD,CAAd;EACA,SAAK4D,QAAL,GAAgBD,KAAhB;EACAF,IAAAA,YAAY,CAAC3B,WAAb,CAAyB6B,KAAzB;EACAA,IAAAA,KAAK,CAACtF,gBAAN,CAAuB,OAAvB,EAAgC,YAAM;EACpC,MAAA,MAAI,CAAC6E,MAAL,CAAY,IAAZ;EACD,KAFD,EAtCgB;;EA0ChB,SAAKW,UAAL,GAAkBF,KAAK,CAACvD,EAAxB;EACA,QAAMc,SAAS,GAAG,KAAKjC,eAAL,EAAlB;EACA,SAAK6E,WAAL,GAAmB5C,SAAS,CAACd,EAA7B,CA5CgB;;EAgDhB,QAAIe,MAAJ,EAAYC,MAAZ;;EACA,QAAI,KAAKa,QAAL,CAAcd,MAAlB,EAA0B;EACxBA,MAAAA,MAAM,GAAG,KAAK4C,SAAL,EAAT;EACD;;EACD,QAAI,KAAK9B,QAAL,CAAcb,MAAlB,EAA0B;EACxBA,MAAAA,MAAM,GAAG,KAAK4C,SAAL,EAAT;EACD;;EAED,QAAM3C,GAAG,GAAG,KAAKL,WAAL,CACVjB,MAAM,CAACe,aADG,EAEVI,SAFU,EAGVC,MAHU,EAIVC,MAJU,CAAZ;EAMA,QAAM6C,SAAS,GAAG,OAAOtB,EAAP,KAAc,QAAd,GAAyBA,EAAzB,GAA8BjG,QAAQ,CAACwH,cAAT,CAAwBvB,EAAxB,CAAhD;EACA,SAAKwB,WAAL,GAAmBF,SAAS,CAAC7D,EAA7B;EACA6D,IAAAA,SAAS,CAACvE,MAAV,CAAiB2B,GAAjB,EAhEgB;EAkEhB;;EACA,SAAK+C,KAAL,GAAa,KAAKnC,QAAL,CAAcmC,KAA3B;EACA,SAAKC,uBAAL,CAA6B,IAA7B;;EACA,QAAI,KAAKpC,QAAL,CAAczG,IAAlB,EAAwB;EACtB,WAAK8I,WAAL,CAAiB,KAAKrC,QAAL,CAAczG,IAA/B;EACD;;EACD,SAAK+I,eAAL,CAAqB,KAAKC,gBAAL,EAArB,EAA8C,KAA9C;EACA,SAAKD,eAAL,CAAqB,KAAKE,iBAAL,EAArB,EAA+C,KAA/C;EAEA,WAAO,IAAP;EACD;;WAEDzB,gBAAA,uBAAczE,OAAd,EAAuB;EACrB,QAAM0D,QAAQ,GAAG;EACfyC,MAAAA,KAAK,EAAEC,SADQ;EAEfxD,MAAAA,MAAM,EAAEwD,SAFO;EAGfvD,MAAAA,MAAM,EAAEuD,SAHO;EAIfC,MAAAA,WAAW,EAAED,SAJE;EAKfE,MAAAA,eAAe,EAAE,KALF;EAMftI,MAAAA,KAAK,EAAE,QANQ;EAOf;EACA+G,MAAAA,GAAG,EAAE,KARU;EASf;EACA;EACAc,MAAAA,KAAK,EAAE,KAXQ;EAYflC,MAAAA,UAAU,EAAE,EAZG;EAaf4C,MAAAA,QAAQ,EAAE,MAbK;EAcfC,MAAAA,SAAS,EAAE,MAdI;EAefC,MAAAA,OAAO,EAAE,GAfM;EAgBflC,MAAAA,IAAI,EAAE;EAhBS,KAAjB;EAmBA,SAAKb,QAAL,GAAgBW,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBZ,QAAlB,EAA4B1D,OAA5B,EAAqC0G,SAAS,CAAC,CAAD,CAA9C,CAAhB;EACD;;WAEDX,cAAA,qBAAY9I,IAAZ,EAAkB;EAAA;;EAChB,QAAI,CAACA,IAAL,EAAW;EACX,QAAI0J,QAAQ,GAAG,IAAf;EACA1J,IAAAA,IAAI,CAAC2J,OAAL,CAAa,UAACC,CAAD,EAAO;EAClB,UAAIA,CAAC,CAACF,QAAN,EAAgB;EACdA,QAAAA,QAAQ,GAAGE,CAAC,CAAChF,EAAb;EACD;;EACD,UAAMiF,GAAG,GAAG,MAAI,CAAC/B,GAAL,CAAS8B,CAAT,CAAZ;;EACA,UAAM5G,IAAI,GAAG,MAAI,CAAC8G,OAAL,CAAaD,GAAG,CAACjF,EAAjB,CAAb,CALkB;EAOlB;;;EACA5B,MAAAA,IAAI,CAACV,SAAL,GAAiB,OAAOsH,CAAC,CAACG,IAAT,KAAkB,UAAlB,GAA+BH,CAAC,CAACG,IAAF,EAA/B,GAA0CH,CAAC,CAACG,IAA7D;EACA/G,MAAAA,IAAI,CAAC3B,YAAL,CAAkB,iBAAlB,EAAqC,IAArC;EACA2B,MAAAA,IAAI,CAACjC,KAAL,CAAWoC,QAAX,GAAsB,MAAtB;EACAH,MAAAA,IAAI,CAACjC,KAAL,CAAWiJ,MAAX,GAAoB,KAApB;EACD,KAZD;;EAaA,QAAIN,QAAJ,EAAc;EACZ,WAAKO,MAAL,CAAYP,QAAZ;EACD;EACF;;WAEDnC,iBAAA,wBAAeJ,EAAf,EAAmB+C,EAAnB,EAAuB;EACrB,QAAI,OAAO/C,EAAP,KAAc,QAAlB,EAA4B;EAC1BA,MAAAA,EAAE,GAAGjG,QAAQ,CAACwH,cAAT,CAAwBvB,EAAxB,CAAL;EACD;;EACD,QAAI,CAACA,EAAD,IAAO,CAACA,EAAE,CAACgD,QAAf,EAAyB,MAAM,IAAIC,KAAJ,CAAU,gCAAV,CAAN;EACzB,QAAMC,MAAM,GAAGlD,EAAE,CAACgD,QAAlB,CALqB;;EAOrB,QAAI,CAACE,MAAD,IAAWA,MAAM,CAACC,MAAP,KAAkB,CAAjC,EAAoC,OAAOJ,EAAE,EAAT;EACpC,QAAMvE,MAAM,GAAGwB,EAAE,CAACoD,aAAH,CAAiB,aAAjB,CAAf;EACA,QAAM3E,MAAM,GAAGuB,EAAE,CAACoD,aAAH,CAAiB,aAAjB,CAAf;EACA,QAAMxK,KAAK,GAAGoH,EAAE,CAACoD,aAAH,CAAiB,YAAjB,EAA+BJ,QAA7C;EACA,QAAMhK,KAAK,GAAGgH,EAAE,CAACoD,aAAH,CAAiB,YAAjB,EAA+BJ,QAA7C;EACA,QAAM7C,IAAI,GAAG;EACX3B,MAAAA,MAAM,EAAEA,MAAM,CAACrD,SADJ;EAEXsD,MAAAA,MAAM,EAAEA,MAAM,CAACtD,SAFJ;EAGXtC,MAAAA,IAAI,EAAE;EAHK,KAAb;EAKA,QAAI2F,MAAJ,EAAYA,MAAM,CAAC6E,MAAP;EACZ,QAAI5E,MAAJ,EAAYA,MAAM,CAAC4E,MAAP;;EAEZ,WAAOzK,KAAK,CAACuK,MAAN,GAAe,CAAtB,EAAyB;EACvB,UAAMG,IAAI,GAAG1K,KAAK,CAAC,CAAD,CAAlB;EACA,UAAMiD,IAAI,GAAG7C,KAAK,CAAC,CAAD,CAAlB;EACA,UAAI,CAACsK,IAAL,EAAW;EACXnD,MAAAA,IAAI,CAACtH,IAAL,CAAU0K,IAAV,CAAe;EACb9F,QAAAA,EAAE,EAAE6F,IAAI,CAAC7F,EAAL,KAAY,EAAZ,GAAiB6F,IAAI,CAAC7F,EAAtB,GAA2B,IADlB;EAEbhB,QAAAA,KAAK,EAAE6G,IAAI,CAACE,WAFC;EAGb3J,QAAAA,KAAK,EAAEyJ,IAAI,CAAClF,YAAL,CAAkB,OAAlB,CAHM;EAIbJ,QAAAA,QAAQ,EAAEsF,IAAI,CAAClF,YAAL,CAAkB,UAAlB,CAJG;EAKbqF,QAAAA,MAAM,EAAEH,IAAI,CAAClF,YAAL,CAAkB,aAAlB,CALK;EAMbmE,QAAAA,QAAQ,EAAEe,IAAI,CAAClF,YAAL,CAAkB,UAAlB,CANG;EAObwE,QAAAA,IAAI,EAAE/G,IAAI,GAAGA,IAAI,CAACV,SAAR,GAAoB,EAPjB;EAQbkB,QAAAA,EAAE,EAAER,IAAI,GAAGA,IAAI,CAACjC,KAAL,CAAWgB,UAAd,GAA2B,MARtB;EASbhB,QAAAA,KAAK,EAAE0J,IAAI,CAAClF,YAAL,CAAkB,WAAlB;EATM,OAAf;EAWAkF,MAAAA,IAAI,CAACD,MAAL;EACAxH,MAAAA,IAAI,CAACwH,MAAL;EACD;;EACD,WAAOlD,IAAP;EACD;;WAEDwC,UAAA,iBAAQlF,EAAR,EAAY;EACV,QAAMiF,GAAG,GAAG,KAAK7J,IAAL,CAAU6K,GAAV,CAAcjG,EAAd,CAAZ;EACA,WAAO1D,QAAQ,CAACwH,cAAT,CAAwBmB,GAAG,CAAC/I,MAA5B,CAAP;EACD;;WAEDgK,gBAAA,uBAAclK,MAAd,EAAsB;EACpB,WAAOM,QAAQ,CAACwH,cAAT,CAAwB9H,MAAxB,CAAP;EACD;;WAEDmK,iBAAA,wBAAenG,EAAf,EAAmB;EACjB,QAAM3D,UAAU,GAAG,KAAK6J,aAAL,CAAmBlG,EAAnB,CAAnB;EACA,WAAO3D,UAAU,GAAGA,UAAU,CAAC+J,gBAAX,EAAH,GAAmC,IAApD;EACD;;WAEDC,kBAAA,2BAAkB;EAChB,WAAO/J,QAAQ,CAACwH,cAAT,CAAwB,KAAKJ,WAA7B,CAAP;EACD;;WAEDW,oBAAA,6BAAoB;EAClB,WAAO,KAAKb,QAAZ;EACD;;WAEDY,mBAAA,4BAAmB;EACjB,WAAO,KAAKvB,OAAZ;EACD;;WAEDyD,eAAA,wBAAe;EACb,WAAO,KAAKtD,MAAZ;EACD;;WAEDuD,YAAA,qBAAY;EACV,WAAOjK,QAAQ,CAACwH,cAAT,CAAwB,KAAK0C,QAA7B,CAAP;EACD;;WAEDC,YAAA,qBAAY;EACV,WAAOnK,QAAQ,CAACwH,cAAT,CAAwB,KAAK4C,QAA7B,CAAP;EACD;;WAEDC,YAAA,qBAAY;EACV,WAAOrK,QAAQ,CAACwH,cAAT,CAAwB,KAAKR,QAA7B,CAAP;EACD;;WAEDsD,eAAA,wBAAe;EACb,WAAOtK,QAAQ,CAACwH,cAAT,CAAwB,KAAKC,WAA7B,CAAP;EACD;;WAED8C,gBAAA,yBAAgB;EACd,QAAM1L,KAAK,GAAGqH,MAAM,CAACsE,MAAP,CAAc,KAAK3L,KAAnB,CAAd;EACA,QAAM4L,QAAQ,GAAG5L,KAAK,CAACuK,MAAvB;EACA,QAAMsB,UAAU,GAAGrL,IAAI,CAACsL,GAAL,CAASF,QAAT,EAAmB,KAAKlF,QAAL,CAAcyC,KAAjC,CAAnB;;EACA,SAAK,IAAI4C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/L,KAAK,CAACuK,MAA1B,EAAkCwB,CAAC,EAAnC,EAAuC;EACrC/L,MAAAA,KAAK,CAAC+L,CAAD,CAAL,CAAS/K,KAAT,CAAe2B,OAAf,GAAyB,MAAzB,CADqC;EAEtC;;EACD,SAAK,IAAIqJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,UAApB,EAAgCG,CAAC,EAAjC,EAAqC;EACnC,WAAKhM,KAAL,CAAWgM,CAAX,EAAchL,KAAd,CAAoB2B,OAApB,GAA8B,QAA9B,CADmC;EAEpC;EACF;;WAEDsJ,gBAAA,uBAAc7E,EAAd,EAAkB;EAChB,QAAI;EACF,aAAOA,EAAE,CAAC1C,IAAH,KAAY,UAAnB,EAA+B;EAC7B0C,QAAAA,EAAE,GAAGA,EAAE,CAAC7B,aAAR;EACD;;EACD,aAAO6B,EAAP;EACD,KALD,CAKE,OAAO8E,CAAP,EAAU;EACV;EACA,aAAO,KAAKC,aAAL,CAAmB,KAAKlM,IAAL,CAAUmM,IAAV,GAAiB,CAApC,EAAuClL,UAA9C,CAFU;EAIX;EACF;;WAEDmL,YAAA,mBAAUC,EAAV,EAAc;EACZA,IAAAA,EAAE,CAACC,cAAH;EACD;;WAEDC,OAAA,cAAKF,EAAL,EAAS;EACPA,IAAAA,EAAE,CAACG,YAAH,CAAgBC,OAAhB,CAAwB,MAAxB,EAAgCJ,EAAE,CAACzB,MAAH,CAAUhG,EAA1C;EACD;;WAED8H,OAAA,cAAKL,EAAL,EAAS;EACPA,IAAAA,EAAE,CAACC,cAAH;EACA,QAAIhF,IAAI,GAAG+E,EAAE,CAACG,YAAH,CAAgBG,OAAhB,CAAwB,MAAxB,CAAX,CAFO;;EAIP,QAAI/B,MAAM,GAAG,KAAKoB,aAAL,CAAmBK,EAAE,CAACzB,MAAtB,CAAb;EACA,QAAIgC,MAAM,GAAG1L,QAAQ,CAACwH,cAAT,CAAwBpB,IAAxB,CAAb;;EAEA,QAAI,KAAKuF,cAAL,GAAsB,KAAKC,aAA/B,EAA8C;EAC5ClC,MAAAA,MAAM,CAACmC,MAAP,CAAcH,MAAd;EACD,KAFD,MAEO;EACLhC,MAAAA,MAAM,CAACoC,KAAP,CAAaJ,MAAb;EACD,KAXM;;EAaR;;WAEDpE,YAAA,qBAAY;EACV,QAAI5C,MAAM,GAAG1E,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;EACAyE,IAAAA,MAAM,CAACvE,YAAP,CAAoB,MAApB,EAA4B,YAA5B;EACAuE,IAAAA,MAAM,CAACtD,SAAP,GAAmB,KAAKmE,QAAL,CAAcb,MAAjC;EACAA,IAAAA,MAAM,CAACxE,SAAP,GAAmB,YAAnB;EACAwE,IAAAA,MAAM,CAAC7E,KAAP,CAAauC,IAAb,GAAoB,GAApB;EACAsC,IAAAA,MAAM,CAAC7E,KAAP,CAAawC,KAAb,GAAqB,GAArB;EACAqC,IAAAA,MAAM,CAAC7E,KAAP,CAAasC,MAAb,GAAsB,GAAtB;EACAuC,IAAAA,MAAM,CAAC7E,KAAP,CAAac,OAAb,GAAuB,KAAvB;EACA+D,IAAAA,MAAM,CAAC7E,KAAP,CAAa2B,OAAb,GAAuB,MAAvB;EACAkD,IAAAA,MAAM,CAAC7E,KAAP,CAAakM,cAAb,GAA8B,QAA9B;EACArH,IAAAA,MAAM,CAAC7E,KAAP,CAAa6B,UAAb,GAA0B,QAA1B,CAXU;EAaV;;EAEA,WAAOgD,MAAP;EACD;;WAED2C,YAAA,qBAAY;EACV,QAAI5C,MAAM,GAAGzE,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;EACAwE,IAAAA,MAAM,CAACtE,YAAP,CAAoB,MAApB,EAA4B,YAA5B;EACAsE,IAAAA,MAAM,CAACrD,SAAP,GACE,OAAO,KAAKmE,QAAL,CAAcd,MAArB,KAAgC,QAAhC,GACI,KAAKc,QAAL,CAAcd,MADlB,GAEI,KAAKc,QAAL,CAAcd,MAAd,CAAqBrD,SAH3B;EAIAqD,IAAAA,MAAM,CAAC5E,KAAP,CAAa2B,OAAb,GAAuB,MAAvB;EACAiD,IAAAA,MAAM,CAAC5E,KAAP,CAAac,OAAb,GAAuB,KAAvB;EACA8D,IAAAA,MAAM,CAAC5E,KAAP,CAAakM,cAAb,GAA8B,QAA9B;EACAtH,IAAAA,MAAM,CAAC5E,KAAP,CAAa6B,UAAb,GAA0B,QAA1B;EACA+C,IAAAA,MAAM,CAACvE,SAAP,GAAmB,YAAnB;EACAuE,IAAAA,MAAM,CAAC5E,KAAP,CAAagB,UAAb,GAA0B,OAA1B;EAEA,WAAO4D,MAAP;EACD;;WAEDuH,WAAA,kBAAS/F,EAAT,EAAatB,GAAb,EAAkBsH,YAAlB,EAAgC;EAC9B,QAAM1E,SAAS,GAAG,OAAOtB,EAAP,KAAc,QAAd,GAAyBA,EAAzB,GAA8BjG,QAAQ,CAACwH,cAAT,CAAwBvB,EAAxB,CAAhD;EACA,SAAKwB,WAAL,GAAmBF,SAAS,CAAC7D,EAA7B;EACA6D,IAAAA,SAAS,CAACnC,WAAV,CAAsB6G,YAAtB;EAEA,QAAMC,MAAM,GAAGvH,GAAG,CAAC0E,aAAJ,CAAkB,KAAlB,CAAf;EACA,QAAI5E,MAAJ,EAAYC,MAAZ;;EACA,QAAI,KAAKa,QAAL,CAAcd,MAAlB,EAA0B;EACxBA,MAAAA,MAAM,GAAG,KAAK4C,SAAL,CAAeE,SAAf,CAAT;EACAA,MAAAA,SAAS,CAAC4E,OAAV,CAAkB1H,MAAlB;EACD;;EACD,QAAI,KAAKc,QAAL,CAAcpD,MAAlB,EAA0B;EACxBoF,MAAAA,SAAS,CAAC6E,SAAV,CAAoBN,KAApB,CAA0BnH,GAA1B;EACD,KAFD,MAEO;EACL4C,MAAAA,SAAS,CAAC6E,SAAV,CAAoBP,MAApB,CAA2BlH,GAA3B;EACD;;EACD,QAAI,KAAKY,QAAL,CAAcb,MAAlB,EAA0B;EACxBA,MAAAA,MAAM,GAAG,KAAK4C,SAAL,CAAeC,SAAf,CAAT;EACAA,MAAAA,SAAS,CAAC6E,SAAV,CAAoBN,KAApB,CAA0BpH,MAA1B;EACD,KAnB6B;EAqB9B;;;EACA6C,IAAAA,SAAS,CAAC1H,KAAV,CAAgBqC,GAAhB,GACEqF,SAAS,CAAC1H,KAAV,CAAgBsC,MAAhB,GACAoF,SAAS,CAAC1H,KAAV,CAAgBuC,IAAhB,GACAmF,SAAS,CAAC1H,KAAV,CAAgBwC,KAAhB,GACE,GAJJ;EAKA,QAAMgK,SAAS,GAAG5H,MAAM,GAAGA,MAAM,CAAC6H,qBAAP,EAAH,GAAoC,IAA5D;EACA,QAAMC,YAAY,GAAG9H,MAAM,GAAG4H,SAAS,CAAClK,MAAV,GAAmBkK,SAAS,CAACnK,GAAhC,GAAsC,CAAjE;EAEA,QAAMsK,SAAS,GAAG9H,MAAM,GAAGA,MAAM,CAAC4H,qBAAP,EAAH,GAAoC,IAA5D;EACA,QAAMG,SAAS,GAAG/H,MAAM,GAAG8H,SAAS,CAACrK,MAAV,GAAmBqK,SAAS,CAACtK,GAAhC,GAAsC,CAA9D;;EAEA,QAAI,KAAKqD,QAAL,CAAcpD,MAAlB,EAA0B;EACxB;EACA+J,MAAAA,MAAM,CAACrM,KAAP,CAAasC,MAAb,GAAsBsK,SAAS,GAAG,IAAlC;EACD,KAHD,MAGO;EACLP,MAAAA,MAAM,CAACrM,KAAP,CAAaqC,GAAb,GAAmBqK,YAAY,GAAG,IAAlC;EACD;;EACDL,IAAAA,MAAM,CAACrM,KAAP,CAAaU,MAAb,GAAsB,sBAAtB;EACA0L,IAAAA,YAAY,CAACpM,KAAb,CAAmBU,MAAnB,GAA4B,sBAA5B;EACD;;WAEDyK,gBAAA,uBAAc0B,KAAd,EAAqB;EACnB,QAAI/D,GAAG,GAAG,IAAV;EACA,QAAIiC,CAAC,GAAG,CAAR;;EACA,yDAAoB,KAAK9L,IAAL,CAAU0L,MAAV,EAApB,wCAAwC;EAAA,UAA7BmC,KAA6B;;EACtC,UAAI/B,CAAC,KAAK8B,KAAV,EAAiB;EACf/D,QAAAA,GAAG,GAAGgE,KAAN;EACA;EACD;;EACD/B,MAAAA,CAAC;EACF;;EACD,WAAOjC,GAAP;EACD;;WAEDiE,SAAA,kBAAS;EACP;EACA,QAAMC,IAAI,GAAG,KAAK7B,aAAL,CAAmB,KAAKlM,IAAL,CAAUmM,IAAV,GAAiB,CAApC,EAAuClL,UAApD;EACA,QAAM+M,QAAQ,GAAG,KAAKC,cAAL,EAAjB;EACA,QAAMC,YAAY,GAAGF,QAAQ,CAAC,CAAD,CAA7B;EACA,QAAI,CAACE,YAAY,CAACC,eAAlB,EAAmC,OAL5B;;EAOP,QAAMC,UAAU,GAAGF,YAAY,CAACC,eAAb,IAAgCD,YAAnD;EACA,QAAM1M,KAAK,GAAG4M,UAAU,CAACZ,qBAAX,GAAmChM,KAAjD;EACA,QAAM6M,GAAG,GACP,KAAK9J,MAAL,CAAYiJ,qBAAZ,GAAoCjK,KAApC,GACAwK,IAAI,CAACP,qBAAL,GAA6BjK,KAF/B;;EAGA,QAAI/B,KAAK,GAAG6M,GAAZ,EAAiB;EACf,WAAKC,kBAAL,CAAwBF,UAAxB;EACD;EACF;;WAEDvF,0BAAA,mCAA0B;EAAA;;EACxB;EACA,QAAMtE,MAAM,GAAG,KAAKgH,SAAL,EAAf;EACAgD,IAAAA,MAAM,CAAC1L,gBAAP,CAAwB,QAAxB,EAAkC,YAAM;EACtC,MAAA,MAAI,CAAC2L,QAAL,CAAc,YAAM;EAClB,YAAI,CAAC,MAAI,CAAC3E,GAAV,EAAe,OAAO,KAAP;;EACf,YAAI,CAAC,MAAI,CAAC4E,aAAL,CAAmB,MAAI,CAAC5E,GAAL,CAAS5I,UAA5B,CAAL,EAA8C;EAC5C,UAAA,MAAI,CAACqN,kBAAL,CAAwB,MAAI,CAACzE,GAAL,CAAS5I,UAAjC;EACD,SAFD,MAEO;EACL,UAAA,MAAI,CAAC6M,MAAL;;EACA,UAAA,MAAI,CAACQ,kBAAL,CAAwB,MAAI,CAACzE,GAAL,CAAS5I,UAAjC;EACD;;EACD,QAAA,MAAI,CAACyN,iBAAL;EACD,OATD,EASG,GATH;EAUD,KAXD;EAaAnK,IAAAA,MAAM,CAAC1B,gBAAP,CACE,OADF,EAEE,UAAC8L,KAAD,EAAW;EACT,MAAA,MAAI,CAACC,cAAL,CAAoBD,KAApB;EACD,KAJH,EAKE,IALF;EAQApK,IAAAA,MAAM,CAAC1B,gBAAP,CACE,MADF,EAEE,UAAC8L,KAAD,EAAW;EACTA,MAAAA,KAAK,CAACrC,cAAN;EAEA,MAAA,MAAI,CAACQ,aAAL,GAAqB6B,KAAK,CAACE,OAA3B;;EACA,MAAA,MAAI,CAACnC,IAAL,CAAUiC,KAAV;EACD,KAPH,EAQE,IARF;EAWApK,IAAAA,MAAM,CAAC1B,gBAAP,CACE,UADF,EAEE,UAAC8L,KAAD,EAAW;EACTA,MAAAA,KAAK,CAACrC,cAAN;EACD,KAJH,EAKE,IALF;EAQA/H,IAAAA,MAAM,CAAC1B,gBAAP,CAAwB,WAAxB,EAAqC,UAAC8L,KAAD,EAAW;EAC9C,MAAA,MAAI,CAAC9B,cAAL,GAAsB8B,KAAK,CAACE,OAA5B;;EACA,MAAA,MAAI,CAACtC,IAAL,CAAUoC,KAAV;EACD,KAHD;EAID;;WAEDC,iBAAA,wBAAe3C,CAAf,EAAkB;EAChB,QAAM6C,IAAI,GAAG7C,CAAC,CAAC8C,OAAf;EACA,QAAMC,IAAI,GAAG,KAAKnF,GAAL,CAASxH,MAAtB,CAFgB;;EAIhB,QAAI,CAAC2M,IAAL,EAAW;;EACX,YAAQF,IAAR;EACE,WAAK,EAAL;EACE,YAAIE,IAAI,CAACb,eAAT,EAA0B;EACxB,eAAKlE,MAAL,CAAY+E,IAAI,CAACb,eAAjB;EACD;;EACD;EAAO;;EACT,WAAK,EAAL;EACE,YAAIa,IAAI,CAAC/H,WAAT,EAAsB;EACpB,eAAKgD,MAAL,CAAY+E,IAAI,CAAC/H,WAAjB;EACD;;EACD;EAAO;;EACT,WAAK,EAAL;EACE;EAAO;;EACT,WAAK,EAAL;EACE+H,QAAAA,IAAI,CAACC,IAAL;EACA;EAfJ;EAqBD;;WAEDP,oBAAA,6BAAoB;EAClB;EACA,QAAI,KAAKjI,QAAL,CAAc4C,eAAlB,EAAmC;EACjC;EACD;;EACD,QAAM6F,cAAc,GAAG,KAAKjB,cAAL,EAAvB;EACA,QAAIkB,kBAAkB,GAAGD,cAAc,CAAC,CAAD,CAAvC;EACA,QAAIE,iBAAiB,GAAGF,cAAc,CAACA,cAAc,CAAC5E,MAAf,GAAwB,CAAzB,CAAtC;EAEA,QAAI,CAAC6E,kBAAL,EAAyB;EACzB,QAAME,IAAI,GAAG,KAAKpG,iBAAL,EAAb;EACA,QAAMqG,IAAI,GAAG,KAAKtG,gBAAL,EAAb;;EACA,QAAImG,kBAAkB,CAAChB,eAAvB,EAAwC;EACtC,WAAKoB,eAAL,CAAqBF,IAArB,EAA2B,IAA3B;EACD,KAFD,MAEO;EACL,WAAKE,eAAL,CAAqBD,IAArB,EAA2B,KAA3B;EACD;;EACD,QAAIF,iBAAiB,CAACnI,WAAtB,EAAmC;EACjC,WAAKsI,eAAL,CAAqBF,IAArB,EAA2B,IAA3B;EACD,KAFD,MAEO;EACL,WAAKE,eAAL,CAAqBF,IAArB,EAA2B,KAA3B;EACD;EACF;;WAEDE,kBAAA,yBAAgBpI,EAAhB,EAAoBqI,IAApB,EAA0B;EACxB,QAAIA,IAAJ,EAAU;EACRrI,MAAAA,EAAE,CAACpG,KAAH,CAASwB,UAAT,GAAsB,SAAtB;EACD,KAFD,MAEO;EACL4E,MAAAA,EAAE,CAACpG,KAAH,CAASwB,UAAT,GAAsB,QAAtB;EACD;EACF;;WAEDkN,kBAAA,yBAAgBD,IAAhB,EAAsB;EACpB,QAAIA,IAAJ,EAAU;EACR,WAAKtE,YAAL,GAAoBnK,KAApB,CAA0BwB,UAA1B,GAAuC,SAAvC;EACD,KAFD,MAEO;EACL,WAAK2I,YAAL,GAAoBnK,KAApB,CAA0BwB,UAA1B,GAAuC,QAAvC;EACD;EACF;;WAEDmN,oBAAA,6BAAoB;EAClB,QAAMR,cAAc,GAAG,KAAKjB,cAAL,EAAvB;EACA,QAAIkB,kBAAkB,GAAGD,cAAc,CAAC,CAAD,CAAvC;EACA,QAAIE,iBAAiB,GAAGF,cAAc,CAACA,cAAc,CAAC5E,MAAf,GAAwB,CAAzB,CAAtC;EAEA,QAAI,CAAC6E,kBAAL,EAAyB;;EACzB,QAAIA,kBAAkB,CAAChB,eAAvB,EAAwC;EACtC,WAAKpF,eAAL,CAAqB,KAAKC,gBAAL,EAArB,EAA8C,IAA9C;EACD,KAFD,MAEO;EACL,WAAKD,eAAL,CAAqB,KAAKC,gBAAL,EAArB,EAA8C,KAA9C;EACD;;EACD,QAAIoG,iBAAiB,CAACnI,WAAtB,EAAmC;EACjC,WAAK8B,eAAL,CAAqB,KAAKE,iBAAL,EAArB,EAA+C,IAA/C;EACD,KAFD,MAEO;EACL,WAAKF,eAAL,CAAqB,KAAKE,iBAAL,EAArB,EAA+C,KAA/C;EACD;EACF;;WAED0G,iBAAA,wBAAexI,EAAf,EAAmB;EACjB,QAAI,CAACA,EAAD,IAAO,CAACA,EAAE,CAAC7B,aAAf,EAA8B;EAC5B;EACD;;EACD,QAAIsK,QAAQ,GAAGzI,EAAE,CAAC7B,aAAH,CAAiB6E,QAAhC;;EACA,SAAK,IAAI2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8D,QAAQ,CAACtF,MAA7B,EAAqCwB,CAAC,EAAtC,EAA0C;EACxC8D,MAAAA,QAAQ,CAAC9D,CAAD,CAAR,CAAY+D,SAAZ,CAAsBrF,MAAtB,CAA6B,QAA7B;EACAoF,MAAAA,QAAQ,CAAC9D,CAAD,CAAR,CAAY/K,KAAZ,CAAkBgB,UAAlB,GAA+B,SAA/B;EACA6N,MAAAA,QAAQ,CAAC9D,CAAD,CAAR,CAAY/K,KAAZ,CAAkBiB,KAAlB,GAA0B,SAA1B;EACA4N,MAAAA,QAAQ,CAAC9D,CAAD,CAAR,CAAYgE,UAAZ,CAAuBxC,SAAvB,CAAiCvM,KAAjC,CAAuCwB,UAAvC,GAAoD,QAApD;EACD;;EACD4E,IAAAA,EAAE,CAAC0I,SAAH,CAAa/H,GAAb,CAAiB,QAAjB;EACAX,IAAAA,EAAE,CAACpG,KAAH,CAASgB,UAAT,GAAsB,KAAKgO,YAAL,CAAkBC,QAAxC;EACA7I,IAAAA,EAAE,CAACpG,KAAH,CAASiB,KAAT,GAAiB,KAAK+N,YAAL,CAAkBE,WAAnC;EACA9I,IAAAA,EAAE,CAAC2I,UAAH,CAAcxC,SAAd,CAAwBvM,KAAxB,CAA8BwB,UAA9B,GAA2C,SAA3C;EACA4E,IAAAA,EAAE,CAAC2I,UAAH,CAAc/O,KAAd,CAAoBiB,KAApB,GAA4B,KAAK+N,YAAL,CAAkBE,WAA9C;EACD;;WAEDC,aAAA,sBAAa;EACX,QAAMnK,KAAK,GAAG,KAAKyF,YAAL,GAAoBjB,aAApB,CAAkC,OAAlC,CAAd;EACAxE,IAAAA,KAAK,CAAChF,KAAN,CAAYgB,UAAZ,GAAyB,KAAKgO,YAAL,CAAkBvM,EAA3C;EACAuC,IAAAA,KAAK,CAAChF,KAAN,CAAYiB,KAAZ,GAAoB,KAAK+N,YAAL,CAAkB/N,KAAtC;EACA,SAAKyF,OAAL,CAAa1G,KAAb,CAAmBiB,KAAnB,GACE,KAAKoG,QAAL,CAAcrH,KAAd,CAAoBiB,KAApB,GACA,KAAK4F,MAAL,CAAY7G,KAAZ,CAAkBiB,KAAlB,GACE,KAAK+N,YAAL,CAAkB/N,KAHtB;EAID;;EAGD;EACF;EACA;EACA;;;WA0DE+G,kBAAA,yBAAgB5B,EAAhB,EAAoBqI,IAApB,EAA0B;EACxB,QAAIA,IAAJ,EAAU;EACRrI,MAAAA,EAAE,CAACpG,KAAH,CAASwB,UAAT,GAAsB,SAAtB;EACD,KAFD,MAEO;EACL4E,MAAAA,EAAE,CAACpG,KAAH,CAASwB,UAAT,GAAsB,QAAtB;EACD;EACF;EAED;EACF;EACA;;;WAEE4N,iBAAA,0BAAiB;EACf,WAAO,KAAKtG,GAAZ;EACD;;WAEDuG,SAAA,gBAAOvP,KAAP,EAAc;EACZ,WAAO,KAAKb,IAAL,CAAU6K,GAAV,CAAchK,KAAd,CAAP;EACD;;WAEDwP,aAAA,oBAAWzL,EAAX,EAAe0L,OAAf,EAAwB;EACtB,QAAMtN,IAAI,GAAG,KAAKhD,IAAL,CAAU6K,GAAV,CAAcjG,EAAd,EAAkB9D,MAA/B;EACAI,IAAAA,QAAQ,CAACwH,cAAT,CAAwB1F,IAAxB,EAA8BV,SAA9B,GAA0CgO,OAA1C;EACD;;WAEDC,WAAA,kBAAS3L,EAAT,EAAa5D,KAAb,EAAoB;EAClB,QAAMgO,IAAI,GAAG,KAAKhP,IAAL,CAAU6K,GAAV,CAAcjG,EAAd,EAAkBhE,MAA/B;EACAM,IAAAA,QAAQ,CAACwH,cAAT,CAAwBsG,IAAxB,EAA8BhI,iBAA9B,CAAgD1E,SAAhD,GAA4DtB,KAA5D;EACD;;WAED8G,MAAA,aAAI/E,OAAJ,EAAkB;EAAA;;EAAA,QAAdA,OAAc;EAAdA,MAAAA,OAAc,GAAJ,EAAI;EAAA;;EAChB,QAAMuH,MAAM,GAAGlD,MAAM,CAACoJ,IAAP,CAAY,KAAKtQ,OAAjB,EAA0BoK,MAAzC;EACA,QAAMzJ,KAAK,GAAGkC,OAAO,CAAClC,KAAR,IAAiB,KAAKP,oBAAL,EAA/B;EACA,QAAMmQ,QAAQ,GAAG,cAAc,KAAKnQ,oBAAL,EAA/B,CAHgB;;EAIhB,QAAImG,QAAQ,GAAG;EACbgK,MAAAA,QAAQ,EAAE,cAAc,KAAKnQ,oBAAL,EADX;EACwC;EACrDsK,MAAAA,MAAM,EAAE,UAAU/J,KAFL;EAGb+C,MAAAA,KAAK,EAAE,QAAQ8M,MAAM,CAACpG,MAAM,GAAG,CAAV,CAHR;EAIbtJ,MAAAA,KAAK,EAAE,KAAK4C,KAJC;EAKbmG,MAAAA,IAAI,EAAE,EALO;EAMb5E,MAAAA,QAAQ,EAAE,IANG;EAObmC,MAAAA,IAAI,EAAE,IAPO;EAQbvC,MAAAA,IAAI,EAAE,IARO;EASbvB,MAAAA,EAAE,EAAET,OAAO,CAACS,EAAR,IAAc,SATL;EAUbxB,MAAAA,KAAK,EAAEe,OAAO,CAACf,KAAR,IAAiB,SAVX;EAWbjB,MAAAA,KAAK,EAAEgC,OAAO,CAAChC,KAAR,IAAiB;EAXX,KAAf;EAaAgC,IAAAA,OAAO,CAACS,EAAR,GAAaT,OAAO,CAACS,EAAR,KAAe,aAAf,GAA+B,EAA/B,GAAoCT,OAAO,CAACS,EAAzD;;EACA,QAAIT,OAAO,CAAC0N,QAAR,KAAqB,IAAzB,EAA+B;EAC7B,aAAO1N,OAAO,CAAC0N,QAAf;EACD;;EAED,SAAKhK,QAAL,GAAgBW,MAAM,CAACC,MAAP,CAAcZ,QAAd,EAAwB1D,OAAxB,CAAhB;EAEA,QAAIC,IAAI,GAAG,KAAKF,UAAL,CAAgB,KAAK2D,QAAL,CAAcmE,MAA9B,EAAsC/J,KAAtC,EAA6C4P,QAA7C,EAAuD,KAAKhK,QAA5D,CAAX;EAEA,SAAKwE,eAAL,GAAuB3E,WAAvB,CAAmCtD,IAAnC;EAEA,QAAI/B,UAAU,GAAG,KAAKN,gBAAL,CAAsB8P,QAAtB,EAAgC5P,KAAhC,EAAuC,KAAK4F,QAA5C,CAAjB;EACA,SAAKvG,OAAL,CAAae,UAAU,CAAC2D,EAAxB,IAA8B3D,UAA9B;EAEA,QAAMgE,cAAc,GAAG,KAAKD,oBAAL,CAA0B,KAAKyB,QAA/B,CAAvB;EACAxF,IAAAA,UAAU,CAACiD,MAAX,CAAkBe,cAAlB;EACAhE,IAAAA,UAAU,CAAC4B,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;EACzC,MAAA,MAAI,CAACoH,MAAL,CAAYhJ,UAAZ;EACD,KAFD;EAIAA,IAAAA,UAAU,CAAC4B,gBAAX,CAA4B,YAA5B,EAA0C,YAAM;EAC9C,UAAI,MAAI,CAACgH,GAAL,CAAS5I,UAAT,CAAoB2D,EAApB,KAA2B3D,UAAU,CAAC2D,EAA1C,EAA8C;EAC9C3D,MAAAA,UAAU,CAAC6O,UAAX,CAAsBxC,SAAtB,CAAgCvM,KAAhC,CAAsCwB,UAAtC,GAAmD,SAAnD;EACD,KAHD;EAKAtB,IAAAA,UAAU,CAAC4B,gBAAX,CAA4B,YAA5B,EAA0C,YAAM;EAC9C,UAAMgH,GAAG,GAAG,MAAI,CAACsG,cAAL,EAAZ;;EACA,UAAItG,GAAG,CAAC5I,UAAJ,CAAe2D,EAAf,KAAsB3D,UAAU,CAAC2D,EAArC,EAAyC;EACzC3D,MAAAA,UAAU,CAAC6O,UAAX,CAAsBxC,SAAtB,CAAgCvM,KAAhC,CAAsCwB,UAAtC,GAAmD,QAAnD;EACD,KAJD,EA1CgB;EAgDhB;;EACA,QAAI,KAAKsH,GAAT,EAAc;EACZ;EACA,WAAKA,GAAL,CAAS5I,UAAT,CAAoB+L,KAApB,CAA0B/L,UAA1B,EAFY;EAIb,KAJD,MAIO;EACL,WAAKsK,SAAL,GAAiBjF,WAAjB,CAA6BrF,UAA7B;EACD;;EACD,SAAKjB,IAAL,CAAU2Q,GAAV,CAAc9P,KAAd,EAAqB;EACnB+D,MAAAA,EAAE,EAAE/D,KADe;EAEnB+C,MAAAA,KAAK,EAAE6C,QAAQ,CAAC7C,KAFG;EAGnBX,MAAAA,IAAI,EAAEwD,QAAQ,CAACxD,IAHI;EAInBjC,MAAAA,KAAK,EAAEyF,QAAQ,CAACzF,KAJG;EAKnBJ,MAAAA,MAAM,EAAE6F,QAAQ,CAACgK,QALE;EAMnB3P,MAAAA,MAAM,EAAE2F,QAAQ,CAACmE,MANE;EAOnBtD,MAAAA,IAAI,EAAEb,QAAQ,CAACa,IAPI;EAQnBoC,MAAAA,QAAQ,EAAEjD,QAAQ,CAACiD,QARA;EASnBzI,MAAAA,UAAU,EAAEA,UATO;EAUnB+B,MAAAA,IAAI,EAAEA;EAVa,KAArB;EAYA,SAAK6G,GAAL,GAAW,KAAK7J,IAAL,CAAU6K,GAAV,CAAchK,KAAd,CAAX;EAEA,SAAK6N,iBAAL;EACA,SAAKzE,MAAL,CAAYhJ,UAAZ;;EACA,QAAIwF,QAAQ,CAACiD,QAAb,EAAuB;EACrB,aAAO,KAAKG,GAAZ;EACD;;EACD,WAAO,KAAKA,GAAZ;EACD;;WAEDI,SAAA,gBAAO9C,EAAP,EAAW4F,MAAX,EAAmB;EAAA;;EACjB,QAAI9L,UAAU,GAAGkG,EAAjB;;EACA,QAAI,CAACA,EAAL,EAAS;EACP,YAAM,IAAIiD,KAAJ,CAAU,sBAAV,CAAN;EACD,KAFD,MAEO,IAAI,OAAOjD,EAAP,KAAc,QAAd,IAA0ByJ,QAAQ,CAACzJ,EAAD,CAAtC,EAA4C;EACjDlG,MAAAA,UAAU,GAAG,KAAK6J,aAAL,CAAmB3D,EAAnB,CAAb;EACD,KAFM,MAEA,IAAIA,EAAE,CAACvC,EAAP,EAAW;EAChB3D,MAAAA,UAAU,GAAGkG,EAAb;EACD,KAFM,MAEA;EACL,YAAM,IAAIiD,KAAJ,CAAU,sBAAV,CAAN;EACD;;EAED,QAAI,OAAO2C,MAAP,KAAkB,UAAtB,EAAkC;EAChC,UAAM8D,MAAM,GAAG9D,MAAM,EAArB;EACA,UAAI8D,MAAM,KAAK,KAAf,EAAsB,OAAO,KAAP;EACvB;;EACD,SAAK7Q,IAAL,CAAU2J,OAAV,CAAkB,UAACE,GAAD,EAAS;EACzB,UAAIA,GAAG,CAAC5I,UAAJ,CAAe2D,EAAf,KAAsB3D,UAAU,CAAC2D,EAArC,EAAyC;EACvCiF,QAAAA,GAAG,CAACH,QAAJ,GAAe,IAAf;EACA,QAAA,MAAI,CAACG,GAAL,GAAWA,GAAX;EACA3I,QAAAA,QAAQ,CAACwH,cAAT,CAAwBmB,GAAG,CAAC/I,MAA5B,EAAoCC,KAApC,CAA0CwB,UAA1C,GAAuD,SAAvD;EACD,OAJD,MAIO;EACLsH,QAAAA,GAAG,CAACH,QAAJ,GAAe,KAAf;EACAxI,QAAAA,QAAQ,CAACwH,cAAT,CAAwBmB,GAAG,CAAC/I,MAA5B,EAAoCC,KAApC,CAA0CwB,UAA1C,GAAuD,QAAvD;EACD;EACF,KATD;EAWA,SAAKoN,cAAL,CAAoB1O,UAApB;;EACA,QAAI,CAAC,KAAKwN,aAAL,CAAmBxN,UAAnB,CAAL,EAAqC;EACnC,WAAKqN,kBAAL,CAAwBrN,UAAxB;EACD;;EACD,SAAK8G,KAAL,CAAWC,IAAX,CAAgB,QAAhB,EAA0B,KAAK6B,GAA/B;EAEA,WAAO,KAAKA,GAAZ;EACD;;WAEDzE,QAAA,eAAM+B,EAAN,EAAU;EACR,QAAItG,KAAK,GAAGsG,EAAZ;;EACA,QAAI,CAACA,EAAL,EAAS;EACP,YAAM,IAAIiD,KAAJ,CAAU,sBAAV,CAAN;EACD,KAFD,MAEO,IAAI,OAAOxF,EAAP,KAAc,QAAlB,EAA4B,CAA5B,MAEA,IAAIuC,EAAE,CAACvC,EAAP,EAAW;EAChB/D,MAAAA,KAAK,GAAGsG,EAAE,CAACvC,EAAX,CADgB;EAEjB;;EACD,QAAMiF,GAAG,GAAG,KAAK7J,IAAL,CAAU6K,GAAV,CAAchK,KAAd,CAAZ;EACA,QAAMmO,IAAI,GAAGnF,GAAG,CAAC5I,UAAjB,CAVQ;;EAWR,QAAM6P,IAAI,GAAG9B,IAAI,CAAC/H,WAAlB;EACA,QAAM8J,IAAI,GAAG/B,IAAI,CAACb,eAAlB;EACA,SAAKpG,KAAL,CAAWC,IAAX,CAAgB,cAAhB,EAAgC6B,GAAhC;EACAmF,IAAAA,IAAI,CAACxE,MAAL;EACAtJ,IAAAA,QAAQ,CAACwH,cAAT,CAAwBmB,GAAG,CAAC/I,MAA5B,EAAoC0J,MAApC,GAfQ;;EAiBR,WAAO,KAAKX,GAAZ;EACA,SAAK7J,IAAL,WAAiBa,KAAjB;EAEA,SAAKkH,KAAL,CAAWC,IAAX,CAAgB,OAAhB,EAAyB6B,GAAzB;;EACA,QAAIiH,IAAI,IAAIA,IAAI,CAACE,OAAL,KAAiB,QAA7B,EAAuC;EACrC,WAAK/G,MAAL,CAAY6G,IAAZ;EACD,KAFD,MAEO,IAAIC,IAAI,IAAIA,IAAI,CAACC,OAAL,KAAiB,QAA7B,EAAuC;EAC5C,WAAK/G,MAAL,CAAY8G,IAAZ;EACD;;EACD,SAAKrB,iBAAL;EACA,SAAKhI,MAAL,CAAY,IAAZ;EACA,WAAO7G,KAAP;EACD;;WAED4N,gBAAA,uBAAcO,IAAd,EAAoB;EAClB,QAAMiC,GAAG,GAAGjC,IAAI,CAACxB,qBAAL,EAAZ;EACA,QAAMJ,MAAM,GAAG,KAAK7B,SAAL,EAAf;EACA,QAAI,CAAC6B,MAAL,EAAa,OAAO,KAAP;EACb,QAAM8D,IAAI,GAAG9D,MAAM,CAACI,qBAAP,EAAb;EACA,WAAOyD,GAAG,CAAC3N,IAAJ,IAAY4N,IAAI,CAAC5N,IAAjB,IAAyB2N,GAAG,CAAC1N,KAAJ,IAAa2N,IAAI,CAAC3N,KAAlD;EACD;;WAED0K,iBAAA,0BAAiB;EAAA;;EACf,QAAMb,MAAM,GAAG,KAAK7B,SAAL,EAAf;EACA,QAAI,CAAC6B,MAAL,EAAa,OAAO,KAAP;EACb,QAAIrN,KAAK,GAAGoR,KAAK,CAACC,SAAN,CAAgB1Q,KAAhB,CAAsB2Q,IAAtB,CAA2BjE,MAAM,CAACkE,gBAAP,CAAwB,QAAxB,CAA3B,CAAZ;EACA,WAAOvR,KAAK,CAACwR,MAAN,CAAa,UAACvC,IAAD,EAAU;EAC5B,aAAO,MAAI,CAACP,aAAL,CAAmBO,IAAnB,CAAP;EACD,KAFM,CAAP;EAGD;;WAEDwC,gBAAA,yBAAgB;EAAA;;EACd,QAAIzR,KAAK,GAAGoR,KAAK,CAACC,SAAN,CAAgB1Q,KAAhB,CAAsB2Q,IAAtB,CACV,KAAK9F,SAAL,GAAiB+F,gBAAjB,CAAkC,QAAlC,CADU,CAAZ;EAGA,WAAOvR,KAAK,CAACwR,MAAN,CAAa,UAACvC,IAAD,EAAU;EAC5B,aAAO,CAAC,MAAI,CAACP,aAAL,CAAmBO,IAAnB,CAAR;EACD,KAFM,CAAP;EAGD;;WAEDtH,SAAA,gBAAOnE,KAAP,EAAc;EACZ,QAAI,KAAKkD,QAAL,CAAc4C,eAAlB,EAAmC;EACjC,WAAKoI,cAAL,CAAoBlO,KAApB;EACD,KAFD,MAEO;EACL,WAAKmO,YAAL,CAAkBnO,KAAlB;EACA,WAAKmM,iBAAL;EACD;EACF;;WAEDpB,qBAAA,4BAAmBnH,EAAnB,EAAuB;EACrB,QAAI,KAAKsH,aAAL,CAAmBtH,EAAnB,CAAJ,EAA4B;EAC5B,QAAMwK,GAAG,GAAG,KAAK3R,IAAL,CAAUmM,IAAtB;EACA,QAAIyF,KAAK,GAAG,CAAZ;;EACA,WAAO,CAAC,KAAKnD,aAAL,CAAmBtH,EAAnB,CAAR,EAAgC;EAC9B,WAAK8B,iBAAL,GAAyB4I,KAAzB;EACAD,MAAAA,KAAK;EACL,UAAIA,KAAK,GAAGD,GAAZ,EAAiB;EAClB;;EACDC,IAAAA,KAAK,GAAG,CAAR;;EACA,WAAO,CAAC,KAAKnD,aAAL,CAAmBtH,EAAnB,CAAR,EAAgC;EAC9B,WAAK6B,gBAAL,GAAwB6I,KAAxB;EACAD,MAAAA,KAAK;EACL,UAAI,KAAKnD,aAAL,CAAmBtH,EAAnB,CAAJ,EAA4B;EAC5B,UAAIyK,KAAK,GAAGD,GAAZ,EAAiB;EAClB;EACF;;WAEDD,eAAA,sBAAanO,KAAb,EAAoB;EAClB,SAAKqO,KAAL,GAAa,KAAKA,KAAL,GAAa,KAAKA,KAAlB,GAA0B,CAAvC;EACA,SAAKA,KAAL;EACA,QAAM1C,cAAc,GAAG,KAAKjB,cAAL,EAAvB;EACA,QAAIkB,kBAAkB,GAAGD,cAAc,CAAC,CAAD,CAAvC;EACA,QAAIE,iBAAiB,GAAGF,cAAc,CAACA,cAAc,CAAC5E,MAAf,GAAwB,CAAzB,CAAtC;;EACA,QAAI/G,KAAK,IAAI6L,iBAAT,IAA8BA,iBAAiB,CAACnI,WAApD,EAAiE;EAC/DkI,MAAAA,kBAAkB,CAACpO,KAAnB,CAAyB2B,OAAzB,GAAmC,MAAnC;EACD,KAFD,MAEO,IACL,CAACa,KAAD,IACA4L,kBADA,IAEAA,kBAAkB,CAAChB,eAHd,EAIL;EACAgB,MAAAA,kBAAkB,CAAChB,eAAnB,CAAmCpN,KAAnC,CAAyC2B,OAAzC,GAAmD,EAAnD;EACD,KANM,MAMA;EACL,UAAM0K,MAAM,GAAG,KAAK7B,SAAL,EAAf;EACA,UAAI,CAAC6B,MAAL,EAAa;EACb,UAAM0E,GAAG,GAAG1E,MAAM,CAACkE,gBAAP,CAAwB,QAAxB,CAAZ;;EACA,UAAIQ,GAAG,CAACxH,MAAJ,GAAa,CAAjB,EAAoB;EAClBwH,QAAAA,GAAG,CAACA,GAAG,CAACxH,MAAJ,GAAa,CAAd,CAAH,CAAoBvJ,KAApB,CAA0B2B,OAA1B,GAAoC,EAApC;EACD;EACF;EACF;;WAED+O,iBAAA,wBAAelO,KAAf,EAAsB;EACpB,QAAM6J,MAAM,GAAG,KAAK7B,SAAL,EAAf;EACA,QAAI,CAAC6B,MAAL,EAAa;EACb,QAAIrN,KAAK,GAAGqN,MAAM,CAACkE,gBAAP,CAAwB,QAAxB,CAAZ;;EACA,QAAIvR,KAAK,CAACuK,MAAN,GAAe,CAAnB,EAAsB;EACpB,UAAI/G,KAAJ,EAAW;EACTxD,QAAAA,KAAK,CAACA,KAAK,CAACuK,MAAN,GAAe,CAAhB,CAAL,CAAwB0C,KAAxB,CAA8BjN,KAAK,CAAC,CAAD,CAAnC;EACD,OAFD,MAEO;EACLA,QAAAA,KAAK,CAAC,CAAD,CAAL,CAASgN,MAAT,CAAgBhN,KAAK,CAACA,KAAK,CAACuK,MAAN,GAAe,CAAhB,CAArB;EACD;EACF;EACF;EAED;EACF;EACA;EACA;;;WACEyH,gBAAA,uBAAc7H,EAAd,EAAkB8H,GAAlB,EAAuB;EACrB,SAAKjK,KAAL,CAAWkK,EAAX,CAAc,kBAAd,EAAkC/H,EAAlC,EAAsC8H,GAAtC;EACD;;WAEDE,UAAA,iBAAQhI,EAAR,EAAY8H,GAAZ,EAAiB;EACf,SAAKjK,KAAL,CAAWkK,EAAX,CAAc,WAAd,EAA2B/H,EAA3B,EAA+B8H,GAA/B;EACD;;WAEDG,WAAA,kBAASjI,EAAT,EAAa8H,GAAb,EAAkB;EAChB,SAAKjK,KAAL,CAAWkK,EAAX,CAAc,mBAAd,EAAmC/H,EAAnC,EAAuC8H,GAAvC;EACD;;WAEDI,iBAAA,wBAAelI,EAAf,EAAmB;EACjB,SAAKmI,WAAL,CAAiB,YAAjB,EAA+BnI,EAA/B;EACD;;WAEDoI,SAAA,gBAAOpI,EAAP,EAAW8H,GAAX,EAAgB;EACd,SAAKjK,KAAL,CAAWkK,EAAX,CAAc,UAAd,EAA0B/H,EAA1B,EAA8B8H,GAA9B;EACD;;WAEDO,eAAA,sBAAarI,EAAb,EAAiB8H,GAAjB,EAAsB;EACpB,SAAKjK,KAAL,CAAWkK,EAAX,CAAc,iBAAd,EAAiC/H,EAAjC,EAAqC8H,GAArC;EACD;;WAEDQ,UAAA,mBAAU;EACR;EACA,SAAKC,eAAL;EACD;;;;WA5SD,eAAY;EACV,aAAO,KAAKhM,QAAL,CAAcmC,KAArB;EACD;WAvDD,aAAUA,KAAV,EAAiB;EACf,WAAKnC,QAAL,CAAcmC,KAAd,GAAsBA,KAAtB;EACA,UAAI5G,KAAK,GAAG,MAAZ;EACA,UAAIwB,EAAE,GAAG,MAAT;EACA,UAAIyM,WAAW,GAAG,MAAlB;EACA,UAAID,QAAQ,GAAG,SAAf;;EACA,cAAQpH,KAAR;EACE,aAAK,MAAL;EACEpF,UAAAA,EAAE,GAAG,SAAL;EACAwM,UAAAA,QAAQ,GAAG,SAAX;EACAhO,UAAAA,KAAK,GAAG,MAAR;EACA;;EACF,aAAK,OAAL;EACEwB,UAAAA,EAAE,GAAG,MAAL;EACAwM,UAAAA,QAAQ,GAAG,MAAX;EACAhO,UAAAA,KAAK,GAAG,MAAR;EACA;;EACF,aAAK,MAAL;EACEwB,UAAAA,EAAE,GAAG,qBAAL;EACAwM,UAAAA,QAAQ,GAAG,uBAAX;EACA;;EACF,aAAK,OAAL;EACExM,UAAAA,EAAE,GAAG,sBAAL;EACAwM,UAAAA,QAAQ,GAAG,wBAAX;EACA;;EACF,aAAK,KAAL;EACExM,UAAAA,EAAE,GAAG,iBAAL;EACAwM,UAAAA,QAAQ,GAAG,iBAAX;EACA;;EACF,aAAK,OAAL;EACExM,UAAAA,EAAE,GAAG,MAAL;EACAxB,UAAAA,KAAK,GAAG,MAAR;EACAiO,UAAAA,WAAW,GAAG,MAAd;EACA;;EACF;EACEzM,UAAAA,EAAE,GAAG,uBAAL;EACAwM,UAAAA,QAAQ,GAAG,uBAAX;EACAhO,UAAAA,KAAK,GAAG,MAAR;EACA;EAhCJ;;EAkCA,WAAK0Q,aAAL,GAAqB;EACnBlP,QAAAA,EAAE,EAAExB,KADe;EAEnBA,QAAAA,KAAK,EAAEwB;EAFY,OAArB;EAIA,WAAKuM,YAAL,GAAoB;EAClBvM,QAAAA,EAAE,EAAEA,EADc;EAElBxB,QAAAA,KAAK,EAAEA,KAFW;EAGlBiO,QAAAA,WAAW,EAAEA,WAHK;EAIlBD,QAAAA,QAAQ,EAAEA;EAJQ,OAApB;EAMA,WAAKE,UAAL;EACD;;;;;;EAoTHtQ,OAAO,CAACwR,SAAR,CAAkB5C,QAAlB,GAA6B,UAAUmE,IAAV,EAAgBC,IAAhB,EAAsBC,SAAtB,EAAiC;EAC5D,MAAIC,OAAJ;EACA,SAAO,YAAY;EACjB,QAAIC,OAAO,GAAG,IAAd;EACA,QAAIC,IAAI,GAAGvJ,SAAX;;EACA,QAAIwJ,KAAK,GAAG,SAARA,KAAQ,GAAY;EACtBH,MAAAA,OAAO,GAAG,IAAV;EACA,UAAI,CAACD,SAAL,EAAgBF,IAAI,CAACO,KAAL,CAAWH,OAAX,EAAoBC,IAApB;EACjB,KAHD;;EAIA,QAAIG,OAAO,GAAGN,SAAS,IAAI,CAACC,OAA5B;EACAM,IAAAA,YAAY,CAACN,OAAD,CAAZ;EACAA,IAAAA,OAAO,GAAGO,UAAU,CAACJ,KAAD,EAAQL,IAAR,CAApB;EACA,QAAIO,OAAJ,EAAaR,IAAI,CAACO,KAAL,CAAWH,OAAX,EAAoBC,IAApB;EACd,GAXD;EAYD,CAdD;;EAgBApT,OAAO,CAACwR,SAAR,CAAkBkC,OAAlB,GAA4B;EAC1BtL,EAAAA,IAD0B,gBACrB2G,KADqB,EACdrH,IADc,EACRyL,OADQ,EACCQ,UADD,EACaC,OADb,EACsB;EAC9C,QAAIC,IAAI,GAAGV,OAAO,IAAI7R,QAAtB;EACA,QAAIwS,OAAO,GAAG,IAAIC,WAAJ,CAAgBhF,KAAhB,EAAuB;EACnCiF,MAAAA,MAAM,EAAEtM,IAD2B;EAEnCiM,MAAAA,UAAU,EAAEA,UAAU,IAAI,KAFS;EAGnCC,MAAAA,OAAO,EAAEA,OAAO,IAAI;EAHe,KAAvB,CAAd;EAKAC,IAAAA,IAAI,CAACI,aAAL,CAAmBH,OAAnB;EACD,GATyB;EAU1BzB,EAAAA,EAV0B,cAUvBtD,KAVuB,EAUhBmF,QAVgB,EAUNf,OAVM,EAUG;EAC3B,QAAIU,IAAI,GAAGV,OAAO,IAAI7R,QAAtB;EACAuS,IAAAA,IAAI,CAAC5Q,gBAAL,CAAsB8L,KAAtB,EAA6BmF,QAA7B,EAF2B;EAI5B,GAdyB;EAe1BC,EAAAA,GAf0B,eAetBpF,KAfsB,EAefmF,QAfe,EAeLf,OAfK,EAeI;EAC5B,QAAIU,IAAI,GAAGV,OAAO,IAAI7R,QAAtB;EACAuS,IAAAA,IAAI,CAACO,mBAAL,CAAyBrF,KAAzB,EAAgCmF,QAAhC;EACD;EAlByB,CAA5B;EAqBAlU,OAAO,CAACwR,SAAR,CAAkBrJ,KAAlB,GAA0B;EACxBkM,EAAAA,UAAU,EAAE,EADY;EAExB5B,EAAAA,WAAW,EAAE,qBAAU6B,IAAV,EAAgBJ,QAAhB,EAA0B;EACrC,QAAI,OAAO,KAAKG,UAAL,CAAgBC,IAAhB,CAAP,KAAiC,WAArC,EAAkD;EAChD,WAAKD,UAAL,CAAgBC,IAAhB,IAAwB,EAAxB;EACD;;EACD,SAAKD,UAAL,CAAgBC,IAAhB,EAAsBxJ,IAAtB,CAA2BoJ,QAA3B;EACD,GAPuB;EAQxBK,EAAAA,MAAM,EAAE,gBAAUD,IAAV,EAAgBJ,QAAhB,EAA0B;EAChC,SAAKzB,WAAL,CAAiB6B,IAAjB,EAAuBJ,QAAvB;EACD,GAVuB;EAWxB7B,EAAAA,EAAE,EAAE,YAAUiC,IAAV,EAAgBJ,QAAhB,EAA0B;EAC5B,SAAKzB,WAAL,CAAiB6B,IAAjB,EAAuBJ,QAAvB;EACD,GAbuB;EAexB9L,EAAAA,IAAI,EAAE,cAAU2G,KAAV,EAAiBrH,IAAjB,EAAuBsD,MAAvB,EAA+B;EACnC,QAAI,OAAO+D,KAAP,KAAiB,QAArB,EAA+B;EAC7BA,MAAAA,KAAK,GAAG;EACNuF,QAAAA,IAAI,EAAEvF,KADA;EAENrH,QAAAA,IAAI,EAAEA,IAFA;EAGNsD,QAAAA,MAAM,EAAEA;EAHF,OAAR;EAKD;;EACD,QAAI,CAAC+D,KAAK,CAAC/D,MAAX,EAAmB;EACjB+D,MAAAA,KAAK,CAAC/D,MAAN,GAAe,IAAf;EACD;;EACD,QAAI,CAAC+D,KAAK,CAACuF,IAAX,EAAiB;EACf;EACA,YAAM,IAAI9J,KAAJ,CAAU,YAAV,CAAN;EACD;;EACD,QAAI,KAAK6J,UAAL,CAAgBtF,KAAK,CAACuF,IAAtB,aAAuC/C,KAA3C,EAAkD;EAChD,UAAMiD,SAAS,GAAG,KAAKH,UAAL,CAAgBtF,KAAK,CAACuF,IAAtB,CAAlB;;EACA,WAAK,IAAIpI,CAAC,GAAG,CAAR,EAAWuI,GAAG,GAAGD,SAAS,CAAC9J,MAAhC,EAAwCwB,CAAC,GAAGuI,GAA5C,EAAiDvI,CAAC,EAAlD,EAAsD;EACpDsI,QAAAA,SAAS,CAACtI,CAAD,CAAT,CAAauF,IAAb,CAAkB,IAAlB,EAAwB1C,KAAxB;EACD;EACF;EACF,GApCuB;EAqCxB2F,EAAAA,OAAO,EAAE,iBAAUJ,IAAV,EAAgBJ,QAAhB,EAA0B;EACjC,SAAK9L,IAAL,CAAUkM,IAAV,EAAgBJ,QAAhB;EACD,GAvCuB;EAyCxBS,EAAAA,cAAc,EAAE,wBAAUL,IAAV,EAAgBJ,QAAhB,EAA0B;EACxC,QAAI,KAAKG,UAAL,CAAgBC,IAAhB,aAAiC/C,KAArC,EAA4C;EAC1C,UAAMiD,SAAS,GAAG,KAAKH,UAAL,CAAgBC,IAAhB,CAAlB;;EACA,WAAK,IAAIpI,CAAC,GAAG,CAAR,EAAWuI,GAAG,GAAGD,SAAS,CAAC9J,MAAhC,EAAwCwB,CAAC,GAAGuI,GAA5C,EAAiDvI,CAAC,EAAlD,EAAsD;EACpD,YAAIsI,SAAS,CAACtI,CAAD,CAAT,KAAiBgI,QAArB,EAA+B;EAC7BM,UAAAA,SAAS,CAACI,MAAV,CAAiB1I,CAAjB,EAAoB,CAApB;EACA;EACD;EACF;EACF;EACF,GAnDuB;EAoDxBiI,EAAAA,GAAG,EAAE,aAAUG,IAAV,EAAgBJ,QAAhB,EAA0B;EAC7B,SAAKS,cAAL,CAAoBL,IAApB,EAA0BJ,QAA1B;EACD;EAtDuB,CAA1B;;;;;;;;"}