{"version":3,"file":"tabview.umd.js","sources":["../index.js"],"sourcesContent":["/* jshint esversion: 8 */\r\nconst TabView = (function () {\r\n    function randomId() {\r\n        return Math.random().toString(36).slice(2);\r\n    }\r\n    // Returns a function, that, as long as it continues to be invoked, will not\r\n    // be triggered. The function will be called after it stops being called for\r\n    // N milliseconds. If `immediate` is passed, trigger the function on the\r\n    // leading edge, instead of the trailing.\r\n    function debounce(func, wait, immediate) {\r\n        var timeout;\r\n        return function () {\r\n            var context = this;\r\n            var args = arguments;\r\n            var later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            var callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    }\r\n\r\n    const Emitter = (function () {\r\n        return {\r\n            fire(event, data, context, cancelable, bubbles) {\r\n                var cntx = context || document;\r\n                var myEvent = new CustomEvent(event, {\r\n                    detail: data,\r\n                    cancelable: cancelable || false,\r\n                    bubbles: bubbles || false,\r\n                });\r\n                cntx.dispatchEvent(myEvent);\r\n            },\r\n            on(event, listener, context) {\r\n                var cntx = context || document;\r\n                cntx.addEventListener(event, listener);\r\n            },\r\n            off(event, listener, context) {\r\n                var cntx = context || document;\r\n                cntx.removeEventListener(event, listener);\r\n            },\r\n        };\r\n    })();\r\n\r\n    const Event = (function () {\r\n        const _listeners = {};\r\n        return {\r\n            addListener: function (type, listener) {\r\n                if (typeof _listeners[type] === \"undefined\") {\r\n                    this._listeners[type] = [];\r\n                }\r\n                this._listeners[type].push(listener);\r\n            },\r\n            attach: function (type, listener) {\r\n                this.addListener(type, listener);\r\n            },\r\n            on: function (type, listener) {\r\n                this.addListener(type, listener);\r\n            },\r\n\r\n            fire: function (event, data, target) {\r\n                if (typeof event === \"string\") {\r\n                    event = {\r\n                        type: event,\r\n                        data: data,\r\n                        target: target,\r\n                    };\r\n                }\r\n                if (!event.target) {\r\n                    event.target = this;\r\n                }\r\n                if (!event.type) {\r\n                    // falsy\r\n                    throw new Error(\"Type error\");\r\n                }\r\n                if (_listeners[event.type] instanceof Array) {\r\n                    const listeners = _listeners[event.type];\r\n                    for (var i = 0, len = listeners.length; i < len; i++) {\r\n                        listeners[i].call(this, event);\r\n                    }\r\n                }\r\n            },\r\n            trigger: function (type, listener) {\r\n                this.fire(type, listener);\r\n            },\r\n\r\n            removeListener: function (type, listener) {\r\n                if (_listeners[type] instanceof Array) {\r\n                    const listeners = _listeners[type];\r\n                    for (var i = 0, len = listeners.length; i < len; i++) {\r\n                        if (listeners[i] === listener) {\r\n                            listeners.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            off: function (type, listener) {\r\n                this.removeListener(type, listener);\r\n            },\r\n        };\r\n    })();\r\n\r\n    function createLinkButton(\r\n        linkId,\r\n        tabId,\r\n        { target, style, title, bg, data }\r\n    ) {\r\n        var linkButton = document.createElement(\"button\");\r\n        linkButton.className = \"tab-link\";\r\n        linkButton.setAttribute(\"href\", \"#!\");\r\n        linkButton.setAttribute(\"id\", linkId);\r\n        linkButton.setAttribute(\"title\", title);\r\n        linkButton.setAttribute(\"name\", \"tab-link\");\r\n        linkButton.setAttribute(\"draggable\", \"true\");\r\n        linkButton.setAttribute(\"data-tab\", tabId);\r\n        linkButton.setAttribute(\"data-target\", target);\r\n        linkButton.style.position = \"relative\";\r\n        linkButton.style.outline = \"none\";\r\n        linkButton.style.height = \"100%\";\r\n        linkButton.style.width = \"auto\";\r\n        linkButton.style.border = \"0 none transparent\";\r\n        linkButton.style.fontSize = \"12px\";\r\n        linkButton.style.fontWeight = \"500\";\r\n        linkButton.style.margin = \"0\";\r\n        linkButton.style.padding = \"0\";\r\n        linkButton.style.boxShadow = \"none\";\r\n        linkButton.style.background = bg || \"inherit\";\r\n        linkButton.style.color = \"inherit\";\r\n        linkButton.style.cursor = \"pointer\";\r\n        linkButton.style.display = \"block\";\r\n        linkButton.style.transition = \"background .4s\";\r\n        if (style) {\r\n            linkButton.style.borderRadius = \"8px 1px 0px 0px\";\r\n        } else {\r\n            linkButton.style.borderRadius = \"1px 1px 0px 0px\";\r\n        }\r\n\r\n        return linkButton;\r\n    }\r\n    function createCloseButton() {\r\n        var button = document.createElement(\"a\");\r\n        button.innerHTML = \"&times\";\r\n        button.setAttribute(\"name\", \"close-button\");\r\n        button.setAttribute(\"title\", \"close\");\r\n        button.style.borderRadius = \"50%\";\r\n        button.style.visibility = \"hidden\";\r\n        button.style.height = button.style.width = \"20px\";\r\n        button.style.float = \"right\";\r\n        button.style.marginRight = \"2px\";\r\n        button.style.marginLeft = \"5px\";\r\n        button.style.display = \"flex\";\r\n        button.style.padding = \"2px 0px 0px 4px\";\r\n        button.style.alignContent = \"center\";\r\n        button.style.alignItems = \"center\";\r\n        button.style.fontSize = \"18px\";\r\n        button.style.color = \"#efefef\";\r\n        button.style.fontWeight = \"700\";\r\n        button.style.background = \"transparent\";\r\n        button.addEventListener(\"mouseenter\", function () {\r\n            button.style.background = \"#555\";\r\n        });\r\n        button.addEventListener(\"mouseleave\", function () {\r\n            button.style.background = \"\";\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    function createLabel(text, title) {\r\n        var label = document.createElement(\"label\");\r\n        label.setAttribute(\"name\", \"tab-link-label\");\r\n        label.className = \"tab-link-label\";\r\n        label.style.margin = \"0\";\r\n        label.style.paddingRight = \"2px\";\r\n        label.style.paddingLeft = \"2px\";\r\n        label.style.verticalAlign = \"middle\";\r\n        label.style.padding = \"0\";\r\n        label.style.color = \"inherit\";\r\n        label.style.maxWidth = \"80px\";\r\n        label.style.overflow = \"hidden\";\r\n        label.style.whiteSpace = \"nowrap\";\r\n        label.style.background = \"\";\r\n        label.style.cursor = \"pointer\";\r\n        label.style.fontSize = \"inherit\";\r\n        label.style.fontWeight = \"inherit\";\r\n        label.append(document.createTextNode(text));\r\n        label.setAttribute(\"title\", title || text);\r\n        return label;\r\n    }\r\n    function createTabBarWraper() {\r\n        var tabbarContainer = document.createElement(\"div\");\r\n        tabbarContainer.style.position = \"relative\";\r\n        tabbarContainer.style.height = \"100%\";\r\n        tabbarContainer.style.height = \"100%\";\r\n        tabbarContainer.style.width = \"100%\";\r\n        tabbarContainer.style.border = \"none\";\r\n        tabbarContainer.style.padding = \"none\";\r\n        tabbarContainer.className = \"tabbar-wrapper\";\r\n        return tabbarContainer;\r\n    }\r\n    function createBar() {\r\n        var tabBar = document.createElement(\"div\");\r\n        tabBar.setAttribute(\"id\", randomId());\r\n        tabBar.style.position = \"absolute\";\r\n        tabBar.style.top = \"0\";\r\n        tabBar.style.bottom = \"0\";\r\n        tabBar.style.left = \"60px\";\r\n        tabBar.style.right = \"30px\";\r\n        tabBar.style.overflow = \"hidden\";\r\n        tabBar.style.padding = \"0px\";\r\n        tabBar.style.margin = \"0px\";\r\n        tabBar.style.paddingRight = \"7px\";\r\n        tabBar.style.background = \"inherit\";\r\n        tabBar.style.display = \"flex\";\r\n        tabBar.className = \"tab-bar\";\r\n        return tabBar;\r\n    }\r\n    function createButton(name, text, float) {\r\n        const btn = document.createElement(\"button\");\r\n        btn.id = randomId();\r\n        btn.setAttribute(\"name\", name);\r\n        btn.style.height = \"100%\";\r\n        btn.style.border = \"0 none transparent\";\r\n        btn.style.background = \"transparent\";\r\n        btn.style.color = \"white\";\r\n        btn.marginRight = btn.marginLeft = \"2px\";\r\n        btn.style.padding = \"2px\";\r\n        btn.style.paddingLeft = btn.style.paddingRight = \"7px\";\r\n        btn.style.cursor = \"pointer\";\r\n        btn.style.fontWeight = \"900\";\r\n        btn.style.fontSize = \"14px\";\r\n        btn.style.float = float || \"none\";\r\n        btn.style.outline = \"none\";\r\n        btn.innerHTML = text;\r\n        btn.style.borderRadius = \"4px 4px\";\r\n        return btn;\r\n    }\r\n    function createImage(options) {\r\n        const img = document.createElement(\"span\");\r\n        img.style.marginRight = \"7px\";\r\n        img.style.color = \"#b00\";\r\n        img.style.fontWeight = \"bold\";\r\n        img.innerHTML = options.icon || \"kb\";\r\n        img.style.float = \"left\";\r\n        return img;\r\n    }\r\n    function createLabelContainer(options) {\r\n        const labelContainer = document.createElement(\"label\");\r\n        labelContainer.setAttribute(\"name\", \"tab-link-label-wraper\");\r\n        labelContainer.style.display = \"flex\";\r\n        labelContainer.style.alignContent = \"center\";\r\n        labelContainer.style.alignItems = \"center\";\r\n        labelContainer.style.padding = \"2px\";\r\n        labelContainer.style.height = \"100%\";\r\n        labelContainer.style.width = \"100%\";\r\n        labelContainer.style.color = \"inherit\";\r\n        labelContainer.style.background = \"transparent\";\r\n        labelContainer.style.cursor = \"pointer\";\r\n\r\n        return labelContainer;\r\n    }\r\n    function createTable(tabBarWrapper, pagePanel, settings = {}) {\r\n        let banner, footer;\r\n        if (settings.banner) {\r\n            banner = addBanner();\r\n        }\r\n        if (settings.footer) {\r\n            footer = addFooter();\r\n        }\r\n        const doc = document.createDocumentFragment();\r\n        const table = document.createElement(\"table\");\r\n        table.style.width = table.style.height = \"100%\";\r\n        doc.append(table);\r\n\r\n        const thead = document.createElement(\"thead\");\r\n        table.append(thead);\r\n\r\n        const bannerRow = document.createElement(\"tr\");\r\n        bannerRow.style.minHeight = \"0px\";\r\n        bannerRow.style.maxHeight = \"80px\";\r\n        thead.append(bannerRow);\r\n        const th = document.createElement(\"th\");\r\n        // th.setAttribute('colspan',3);\r\n        th.style.textAlign = \"left\";\r\n        th.style.padding = \"0\";\r\n        if (banner) {\r\n            th.append(banner);\r\n        } else {\r\n            bannerRow.style.display = \"none\";\r\n        }\r\n        bannerRow.appendChild(th);\r\n\r\n        const tbody = document.createElement(\"tbody\");\r\n        table.append(tbody);\r\n\r\n        const linkRow = document.createElement(\"tr\");\r\n        linkRow.style.minHeight = \"24px\";\r\n        linkRow.style.height = settings.tab_height + \"px\";\r\n        linkRow.style.padding = \"0\";\r\n        tbody.append(linkRow);\r\n\r\n        let td = document.createElement(\"td\");\r\n        td.style.overflow = \"hidden\";\r\n        td.style.whiteSpace = \"nowrap\";\r\n        td.style.textAlign = \"left\";\r\n        td.style.padding = \"0\";\r\n        td.append(tabBarWrapper);\r\n        linkRow.appendChild(td);\r\n        table.style.borderCollapse =\r\n            linkRow.style.borderCollapse =\r\n            td.style.borderCollapse =\r\n                \"collapse\";\r\n        table.style.border =\r\n            linkRow.style.border =\r\n            td.style.border =\r\n                \"0 none transparent\";\r\n\r\n        const pageRow = document.createElement(\"tr\");\r\n        tbody.append(pageRow);\r\n        td = document.createElement(\"td\");\r\n        td.append(pagePanel);\r\n        td.style.textAlign = \"left\";\r\n        td.style.padding = \"0\";\r\n        pageRow.appendChild(td);\r\n\r\n        const linkRow2 = document.createElement(\"tr\");\r\n        tbody.append(linkRow2);\r\n        td = document.createElement(\"td\");\r\n        td.style.textAlign = \"left\";\r\n        td.style.padding = \"0\";\r\n        linkRow2.appendChild(td);\r\n        linkRow2.style.minHeight = \"24px\";\r\n        linkRow2.style.height = settings.tab_height + \"px\";\r\n\r\n        const footerRow = document.createElement(\"tr\");\r\n        tbody.append(footerRow);\r\n        td = document.createElement(\"td\");\r\n        footerRow.appendChild(td);\r\n        footerRow.style.maxHeight = \"24px\";\r\n        td = document.createElement(\"td\");\r\n        td.style.padding = \"0\";\r\n        if (footer) {\r\n            td.append(footer || document.createTextNode(\"\"));\r\n        } else {\r\n            footerRow.style.display = \"none\";\r\n        }\r\n        footerRow.appendChild(td);\r\n        td = document.createElement(\"td\");\r\n        td.style.padding = \"0\";\r\n        footerRow.appendChild(td);\r\n        if (settings.bottom) {\r\n            linkRow2.firstElementChild.nextSibling.appendChild(tabBarWrapper);\r\n            linkRow.style.display = \"none\";\r\n        } else {\r\n            linkRow2.style.display = \"none\";\r\n        }\r\n        return doc;\r\n    }\r\n    function createPage(pageId, tabId, linkId, options) {\r\n        var page = document.createElement(\"div\");\r\n        page.setAttribute(\"id\", pageId);\r\n        page.setAttribute(\"data-tab\", tabId);\r\n        page.setAttribute(\"data-trigger\", linkId);\r\n        page.innerHTML = options.text || \"\";\r\n        page.style.position = \"absolute\";\r\n        page.style.padding = \"8px 16px\";\r\n        page.style.visibility = \"hidden\";\r\n        page.style.overflow = \"auto\";\r\n        page.style.top =\r\n            page.style.bottom =\r\n            page.style.left =\r\n            page.style.right =\r\n                \"0\";\r\n        // page.style.top='0'; do not specify top!!!\r\n        page.style.background = options.bg || \"\";\r\n        return page;\r\n    }\r\n    function createPagePanel() {\r\n        var panel = document.createElement(\"div\");\r\n        panel.setAttribute(\"id\", randomId());\r\n        panel.style.position = \"relative\";\r\n        panel.className = \"tab-panel\";\r\n        panel.style.width = \"100%\";\r\n        panel.style.height = \"100%\";\r\n        panel.style.overflow = \"hidden\";\r\n        panel.style.margin = \"0\";\r\n        panel.style.top = \"0\";\r\n        panel.style.background = \"\";\r\n        return panel;\r\n    }\r\n    function loadFromMarkup(el, fn) {\r\n        if (typeof el === \"string\") {\r\n            el = document.getElementById(el);\r\n        }\r\n        if (!el || !el.children)\r\n            throw new Error(\"Invalid element to load markup\");\r\n        const markup = el.children;\r\n        // let doc=document.createDocumentFragment();\r\n        if (!markup || markup.length === 0) return fn();\r\n        const banner = el.querySelector(\".tab-banner\");\r\n        const footer = el.querySelector(\".tab-footer\");\r\n        const links = el.querySelector(\".tab-links\").children;\r\n        const pages = el.querySelector(\".tab-pages\").children;\r\n        const data = {\r\n            banner: banner.innerHTML,\r\n            footer: footer.innerHTML,\r\n            tabs: [],\r\n        };\r\n        if (banner) banner.remove();\r\n        if (footer) footer.remove();\r\n\r\n        while (links.length > 0) {\r\n            const node = links[0];\r\n            const page = pages[0];\r\n            if (!node) continue;\r\n            data.tabs.push({\r\n                id: node.id !== \"\" ? node.id : null,\r\n                label: node.textContent,\r\n                title: node.getAttribute(\"title\"),\r\n                closable: node.getAttribute(\"closable\"),\r\n                target: node.getAttribute(\"data-target\"),\r\n                selected: node.getAttribute(\"selected\"),\r\n                html: page ? page.innerHTML : \"\",\r\n                bg: page ? page.style.background : \"#0bc\",\r\n                style: node.getAttribute(\"tab-style\"),\r\n            });\r\n            node.remove();\r\n            page.remove();\r\n        }\r\n        return data;\r\n    }\r\n    function addFooter() {\r\n        var footer = document.createElement(\"span\");\r\n        footer.setAttribute(\"name\", \"tab-footer\");\r\n        footer.innerHTML = settings.footer;\r\n        footer.className = \"tab-footer\";\r\n        footer.style.left = \"0\";\r\n        footer.style.right = \"0\";\r\n        footer.style.bottom = \"0\";\r\n        footer.style.padding = \"2px\";\r\n        footer.style.display = \"flex\";\r\n        footer.style.justifyContent = \"center\";\r\n        footer.style.alignItems = \"center\";\r\n        // footer.style.background='#030';\r\n        // footer.style.borderTop='1px solid #020';\r\n\r\n        return footer;\r\n    }\r\n    function addBanner() {\r\n        var banner = document.createElement(\"span\");\r\n        banner.setAttribute(\"name\", \"tab-banner\");\r\n        banner.innerHTML =\r\n            typeof settings.banner === \"string\"\r\n                ? settings.banner\r\n                : settings.banner.innerHTML;\r\n        banner.style.display = \"flex\";\r\n        banner.style.padding = \"5px\";\r\n        banner.style.justifyContent = \"center\";\r\n        banner.style.alignItems = \"center\";\r\n        banner.className = \"tab-banner\";\r\n        banner.style.background = \"green\";\r\n\r\n        return banner;\r\n    }\r\n    function mountTab(el, doc, tabPagePanel) {\r\n        const container =\r\n            typeof el === \"object\" ? el : document.getElementById(el);\r\n        containerId = container.id;\r\n\r\n        container.appendChild(tabPagePanel);\r\n\r\n        const tabbar = doc.querySelector(\"div\");\r\n        let banner, footer;\r\n        if (settings.banner) {\r\n            banner = addBanner(container);\r\n            container.prepend(banner);\r\n        }\r\n        if (settings.bottom) {\r\n            container.lastChild.after(doc);\r\n        } else {\r\n            container.lastChild.before(doc);\r\n        }\r\n        if (settings.footer) {\r\n            footer = addFooter(container);\r\n            container.lastChild.after(footer);\r\n        }\r\n        // container.style.height='100%';\r\n        // container.style.width='100%';\r\n        container.style.top =\r\n            container.style.bottom =\r\n            container.style.left =\r\n            container.style.right =\r\n                \"0\";\r\n        const bannerBox = banner ? banner.getBoundingClientRect() : null;\r\n        const bannerBottom = banner ? bannerBox.bottom - bannerBox.top : 0;\r\n\r\n        const footerBox = footer ? footer.getBoundingClientRect() : null;\r\n        const footerTop = footer ? footerBox.bottom - footerBox.top : 0;\r\n\r\n        if (settings.bottom) {\r\n            // tab bar is at bottom oftab window\r\n            tabbar.style.bottom = footerTop + \"px\";\r\n        } else {\r\n            tabbar.style.top = bannerBottom + \"px\";\r\n        }\r\n        tabbar.style.border = \"0px none transparent\";\r\n        tabPagePanel.style.border = \"0px none transparent\";\r\n    }\r\n    function applySelection(el, options) {\r\n        if (!el || !el.parentElement) {\r\n            return;\r\n        }\r\n        var tablinks = el.parentElement.children;\r\n        // console.log(el.parentElement.parentElement);\r\n        for (let i = 0; i < tablinks.length; i++) {\r\n            tablinks[i].classList.remove(\"active\");\r\n            tablinks[i].style.background = options.bg;\r\n            tablinks[i].style.color = options.color;\r\n            // tablinks[i].lastChild.lastChild.style.visibility = \"hidden\";\r\n        }\r\n\r\n        el.classList.add(\"active\");\r\n        el.style.background = options.activeBg;\r\n        el.style.color = options.activecolor;\r\n        // el.lastChild.lastChild.style.visibility = \"visible\";\r\n    }\r\n    const createTabs = function (el, options) {\r\n        var tabIndex = -1;\r\n        var currentIndex = 0;\r\n        var selectedTab,\r\n            tabBar,\r\n            rightBtn,\r\n            leftBtn,\r\n            addBtn,\r\n            leftNavId,\r\n            rightNavId,\r\n            pagePanelId,\r\n            addBtnId,\r\n            tabBarId,\r\n            themeOptions,\r\n            tabSettings,\r\n            containerId,\r\n            tabButtonsCount,\r\n            dragStartPoint,\r\n            dragStopPoint;\r\n        const links = {};\r\n        const tabs = new Map();\r\n        const buttons = {};\r\n        const pages = {};\r\n        const hiddenTabs = [];\r\n\r\n        init(el, options);\r\n        /**\r\n         * Initialize tab container\r\n         * @param {HTMLElement} el HTMLElement to attach tabs\r\n         * @param {Object} options Additional settings\r\n         * @returns void\r\n         */\r\n        function init(el, options) {\r\n            themeOptions = Object.assign({}, options);\r\n            const data = options.loadFromMarkup ? loadFromMarkup(el) : null;\r\n            if (data) {\r\n                themeOptions = Object.assign(themeOptions, data);\r\n            }\r\n            applySettings(themeOptions);\r\n            leftBtn = createButton(\"left-nav-button\", \"&lt;\", \"left\");\r\n            leftBtn.addEventListener(\"click\", () => {\r\n                scroll(false);\r\n            });\r\n\r\n            leftNavId = leftBtn.id;\r\n            addBtn = createButton(\"add-tab-button\", \"+\", \"left\");\r\n            addBtnId = addBtn.id;\r\n            if (themeOptions.add) {\r\n                addBtn.style.visibility = \"visible\";\r\n            } else {\r\n                addBtn.style.visibility = \"hidden\";\r\n            }\r\n            addBtn.addEventListener(\"click\", () => {\r\n                Event.fire(\"add-tab-click\", randomId());\r\n            });\r\n            tabBar = createBar();\r\n            const tabBarWraper = createTabBarWraper();\r\n            tabBarWraper.append(tabBar);\r\n            tabBarWraper.appendChild(leftBtn);\r\n            tabBarWraper.appendChild(addBtn);\r\n            tabBarId = tabBar.id;\r\n\r\n            rightBtn = createButton(\"right-nav-button\", \"&gt;\", \"right\");\r\n            // rightBtn = rightBtn;\r\n            tabBarWraper.appendChild(rightBtn);\r\n            rightBtn.addEventListener(\"click\", () => {\r\n                scroll(true);\r\n            });\r\n            // tabBarWraper.appendChild(rightBtn);\r\n            rightNavId = rightBtn.id;\r\n            const pagePanel = createPagePanel();\r\n            pagePanelId = pagePanel.id;\r\n            // let tabbar= doc.querySelector('div');\r\n            const doc = createTable(\r\n                tabBar.parentElement,\r\n                pagePanel,\r\n                themeOptions\r\n            );\r\n            const container =\r\n                typeof el === \"object\" ? el : document.getElementById(el);\r\n            containerId = container.id;\r\n            container.append(doc);\r\n            setTheme(themeOptions.theme);\r\n            attachDomEventListeners(this);\r\n            if (themeOptions.tabs) {\r\n                dynamicLoad(themeOptions.tabs);\r\n            }\r\n            toggleNavigator(getLeftNavButton(), false);\r\n            toggleNavigator(getRightNavButton(), false);\r\n        }\r\n\r\n        function getTabAtIndex(index) {\r\n            let tab = null;\r\n            let i = 0;\r\n            for (const value of tabs.values()) {\r\n                if (i === index) {\r\n                    tab = value;\r\n                    break;\r\n                }\r\n                i++;\r\n            }\r\n            return tab;\r\n        }\r\n\r\n        function unhide() {\r\n            // const tabs = tabs.entries()\r\n            const last = getTabAtIndex(tabs.size - 1).linkButton;\r\n            const visibles = getVisibleTabs();\r\n            const firstVisible = visibles[0];\r\n            if (!firstVisible.previousSibling) return;\r\n            // let lastVisible=visibles[visibles.length-1];\r\n            const lastHidden = firstVisible.previousSibling || firstVisible;\r\n            const width = lastHidden.getBoundingClientRect().width;\r\n            const gap =\r\n                tabBar.getBoundingClientRect().right -\r\n                last.getBoundingClientRect().right;\r\n            if (width < gap) {\r\n                scrollLinkIntoView(lastHidden);\r\n            }\r\n        }\r\n\r\n        function attachDomEventListeners() {\r\n            // let self = this\r\n            const tabBar = getTabBar();\r\n            window.addEventListener(\"resize\", () => {\r\n                debounce(() => {\r\n                    if (!selectedTab) return false;\r\n                    if (!isLinkVisible(selectedTab.linkButton)) {\r\n                        scrollLinkIntoView(selectedTab.linkButton);\r\n                    } else {\r\n                        unhide();\r\n                        scrollLinkIntoView(selectedTab.linkButton);\r\n                    }\r\n                    showHideNavButton();\r\n                }, 200)();\r\n            });\r\n\r\n            tabBar.addEventListener(\r\n                \"keyup\",\r\n                (event) => {\r\n                    handleKeypress(event);\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\r\n                \"drop\",\r\n                (event) => {\r\n                    event.preventDefault();\r\n\r\n                    dragStopPoint = event.clientX;\r\n                    drop(event);\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\r\n                \"dragover\",\r\n                (event) => {\r\n                    event.preventDefault();\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\"dragstart\", (event) => {\r\n                dragStartPoint = event.clientX;\r\n                drag(event);\r\n            });\r\n        }\r\n\r\n        function handleKeypress(e) {\r\n            const code = e.keyCode;\r\n            const link = selectedTab.button;\r\n            // eslint-disable-next-line default-case\r\n            if (!link) return;\r\n            switch (code) {\r\n                case 37:\r\n                    if (link.previousSibling) {\r\n                        select(link.previousSibling);\r\n                    }\r\n                    break; // left key\r\n                case 39:\r\n                    if (link.nextSibling) {\r\n                        select(link.nextSibling);\r\n                    }\r\n                    break; // right key\r\n                case 38:\r\n                    break; // up key\r\n                case 40:\r\n                    link.blur();\r\n                    break; // down key\r\n                case 13:\r\n                    break; // enter key\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        function showHideNavButton() {\r\n            // console.log(settings);\r\n            if (themeOptions.infinite_scroll) {\r\n                return;\r\n            }\r\n            const visibleButtons = getVisibleTabs();\r\n            var firstVisibleButton = visibleButtons[0];\r\n            var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n            if (!firstVisibleButton) return;\r\n            const rBtn = getRightNavButton();\r\n            const lBtn = getLeftNavButton();\r\n            if (firstVisibleButton.previousSibling) {\r\n                toggleNavButton(rBtn, true);\r\n            } else {\r\n                toggleNavButton(lBtn, false);\r\n            }\r\n            if (lastVisibleButton.nextSibling) {\r\n                toggleNavButton(rBtn, true);\r\n            } else {\r\n                toggleNavButton(rBtn, false);\r\n            }\r\n        }\r\n\r\n        function toggleNavButton(el, show) {\r\n            if (show) {\r\n                el.style.visibility = \"visible\";\r\n            } else {\r\n                el.style.visibility = \"hidden\";\r\n            }\r\n        }\r\n\r\n        function toggleAddButton(show) {\r\n            if (show) {\r\n                getAddButton().style.visibility = \"visible\";\r\n            } else {\r\n                getAddButton().style.visibility = \"hidden\";\r\n            }\r\n        }\r\n\r\n        function showHideNavigator() {\r\n            const visibleButtons = getVisibleTabs();\r\n            var firstVisibleButton = visibleButtons[0];\r\n            var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n            if (!firstVisibleButton) return;\r\n            if (firstVisibleButton.previousSibling) {\r\n                toggleNavigator(getLeftNavButton(), true);\r\n            } else {\r\n                toggleNavigator(getLeftNavButton(), false);\r\n            }\r\n            if (lastVisibleButton.nextSibling) {\r\n                toggleNavigator(getRightNavButton(), true);\r\n            } else {\r\n                toggleNavigator(getRightNavButton(), false);\r\n            }\r\n        }\r\n\r\n        function applyTheme(options) {\r\n            const table = getContainer().querySelector(\"table\");\r\n            table.style.background = options.bg;\r\n            table.style.color = options.color;\r\n            leftBtn.style.color =\r\n                rightBtn.style.color =\r\n                addBtn.style.color =\r\n                    options.color;\r\n        }\r\n\r\n        // Public API\r\n        /***\r\n         * @param theme String\r\n         * @returns null\r\n         */\r\n        function setTheme(theme) {\r\n            let color = \"#ddd\";\r\n            let bg = \"#222\";\r\n            let activecolor = \"#ddd\";\r\n            let activeBg = \"#003355\";\r\n            switch (theme) {\r\n                case \"dark\":\r\n                    bg = \"#002255\";\r\n                    activeBg = \"#003355\";\r\n                    color = \"#fff\";\r\n                    break;\r\n                case \"black\":\r\n                    bg = \"#111\";\r\n                    activeBg = \"#333\";\r\n                    color = \"#fff\";\r\n                    break;\r\n                case \"blue\":\r\n                    bg = \"rgba(8, 68, 117, 1)\";\r\n                    activeBg = \"rgba(10, 100, 186, 1)\";\r\n                    break;\r\n                case \"green\":\r\n                    bg = \"rgba(0, 149, 120, 1)\";\r\n                    activeBg = \"rgba(0, 139, 100, 0.9)\";\r\n                    break;\r\n                case \"red\":\r\n                    bg = \"rgb(120, 0, 30)\";\r\n                    activeBg = \"rgb(123, 0, 50)\";\r\n                    break;\r\n                case \"white\":\r\n                    bg = \"#bcd\";\r\n                    color = \"#000\";\r\n                    activecolor = \"#eee\";\r\n                    break;\r\n                default:\r\n                    bg = \"rgba(10, 100, 186, 1)\";\r\n                    activeBg = \"rgba(10, 100, 206, 1)\";\r\n                    color = \"#fff\";\r\n                    break;\r\n            }\r\n            tabSettings = {\r\n                bg: bg,\r\n                color: color,\r\n                activecolor: activecolor,\r\n                activeBg: activeBg,\r\n            };\r\n            applyTheme(tabSettings);\r\n        }\r\n\r\n        function getTheme() {\r\n            return themeOptions.theme;\r\n        }\r\n\r\n        function toggleNavigator(el, show) {\r\n            if (show) {\r\n                el.style.visibility = \"visible\";\r\n            } else {\r\n                el.style.visibility = \"hidden\";\r\n            }\r\n        }\r\n\r\n        function getSelectedTab() {\r\n            return selectedTab;\r\n        }\r\n\r\n        function getTab(tabId) {\r\n            return tabs.get(tabId);\r\n        }\r\n\r\n        function setContent(id, content) {\r\n            const page = tabs.get(id).pageId;\r\n            document.getElementById(page).innerHTML = content;\r\n        }\r\n\r\n        function setTitle(id, title) {\r\n            const link = tabs.get(id).linkId;\r\n            document.getElementById(link).firstElementChild.innerHTML = title;\r\n        }\r\n        function applySettings(options) {\r\n            const mySettings = {\r\n                limit: undefined,\r\n                banner: undefined,\r\n                footer: undefined,\r\n                close_click: undefined,\r\n                infinite_scroll: false,\r\n                style: \"normal\",\r\n                // navigation : true,\r\n                add: false,\r\n                // width   : '100%',\r\n                // height  : '100%',\r\n                theme: \"red\",\r\n                tab_height: 32,\r\n                left_tip: \"&lt;\",\r\n                right_tip: \"&gt;\",\r\n                add_tip: \"+\",\r\n                data: null,\r\n            };\r\n\r\n            themeOptions = Object.assign({}, mySettings, options, arguments[1]);\r\n        }\r\n        function dynamicLoad(tabs) {\r\n            if (!tabs) return;\r\n            let selected = null;\r\n            tabs.forEach((d) => {\r\n                if (d.selected) {\r\n                    selected = d.id;\r\n                }\r\n                const tab = add(d);\r\n                const page = getPage(tab.id);\r\n                // page.parentElement.style.top='80px';\r\n                // page.background='#054';\r\n                page.innerHTML =\r\n                    typeof d.html === \"function\" ? d.html() : d.html;\r\n                page.setAttribute(\"contenteditable\", true);\r\n                page.style.overflow = \"auto\";\r\n                page.style.zIndex = \"100\";\r\n            });\r\n            if (selected) {\r\n                select(selected);\r\n            }\r\n        }\r\n\r\n        function getPage(tabId) {\r\n            const tab = tabs.get(tabId);\r\n            return document.getElementById(tab.pageId);\r\n        }\r\n\r\n        function getLinkButton(linkId) {\r\n            return document.getElementById(linkId);\r\n        }\r\n\r\n        function getCloswButton(id) {\r\n            const linkButton = getLinkButton(id);\r\n            return linkButton ? linkButton.lastElementChild() : null;\r\n        }\r\n\r\n        function getTabPagePanel() {\r\n            return document.getElementById(pagePanelId);\r\n        }\r\n\r\n        function getRightNavButton() {\r\n            return rightBtn;\r\n        }\r\n\r\n        function getLeftNavButton() {\r\n            return leftBtn;\r\n        }\r\n\r\n        function getAddButton() {\r\n            return addBtn;\r\n        }\r\n\r\n        function getFooter() {\r\n            return document.getElementById(footerId);\r\n        }\r\n\r\n        function getBanner() {\r\n            return document.getElementById(bannerId);\r\n        }\r\n\r\n        function getTabBar() {\r\n            return document.getElementById(tabBarId);\r\n        }\r\n\r\n        function getContainer() {\r\n            return document.getElementById(containerId);\r\n        }\r\n        function hideExtraTabs() {\r\n            const links = Object.values(links);\r\n            const numTotal = links.length;\r\n            const numVisible = Math.min(numTotal, themeOptions.limit);\r\n            for (var i = 0; i < links.length; i++) {\r\n                links[i].style.display = \"none\"; // hide xo tabs.\r\n            }\r\n            for (var j = 0; j < numVisible; j++) {\r\n                links[j].style.display = \"inline\"; // Show visible tabs.\r\n            }\r\n        }\r\n\r\n        function getLinkTarget(el) {\r\n            try {\r\n                while (el.name !== \"tab-link\") {\r\n                    el = el.parentElement;\r\n                }\r\n                return el;\r\n            } catch (e) {\r\n                // const length = tabs.size - 1\r\n                return getTabAtIndex(tabs.size - 1).linkButton;\r\n                // Object.values(tabs)[length].linkButton\r\n            }\r\n        }\r\n\r\n        function allowDrop(ev) {\r\n            ev.preventDefault();\r\n        }\r\n\r\n        function drag(ev) {\r\n            ev.dataTransfer.setData(\"text\", ev.target.id);\r\n        }\r\n\r\n        function drop(ev) {\r\n            ev.preventDefault();\r\n            var data = ev.dataTransfer.getData(\"text\");\r\n            // do not drop on label wrappers or close button\r\n            var target = getLinkTarget(ev.target);\r\n            var dataEl = document.getElementById(data);\r\n\r\n            if (dragStartPoint > dragStopPoint) {\r\n                target.before(dataEl);\r\n            } else {\r\n                target.after(dataEl);\r\n            }\r\n            // target.parentNode.insertBefore(dataEl,dragStartPoint>dragStopPoint?target:target.nextSibling);\r\n        }\r\n        function add(options = {}) {\r\n            const length = Object.keys(buttons).length;\r\n            const tabId = options.tabId || randomId();\r\n            const buttonId = \"link-btn-\" + randomId(); // tabId,\r\n            let settings = {\r\n                buttonId: \"link-btn-\" + randomId(), // tabId,\r\n                target: \"page-\" + tabId,\r\n                label: \"Tab\" + Number(length + 1),\r\n                title: this.label,\r\n                html: \"\",\r\n                closable: true,\r\n                data: null,\r\n                icon: \"kb\",\r\n                bg: options.bg || \"inherit\",\r\n                color: options.color || \"inherit\",\r\n                style: options.style || \"fancy\",\r\n            };\r\n            options.bg = options.bg === \"transparent\" ? \"\" : options.bg;\r\n            if (options.buttonId === null) {\r\n                delete options.buttonId;\r\n            }\r\n\r\n            const tabSettings = Object.assign(settings, options);\r\n\r\n            var page = createPage(\r\n                tabSettings.target,\r\n                tabId,\r\n                buttonId,\r\n                tabSettings\r\n            );\r\n\r\n            getTabPagePanel().appendChild(page);\r\n            var linkButton = createLinkButton(buttonId, tabId, tabSettings);\r\n            // buttons[linkButton.id] = linkButton;\r\n\r\n            const labelContainer = createLabelContainer(tabSettings);\r\n            const img = createImage(tabSettings);\r\n            const label = createLabel(tabSettings.label, tabSettings.title);\r\n            const closeBtn = createCloseButton();\r\n\r\n            if (!tabSettings.closable) {\r\n                closeBtn.style.display = \"none\";\r\n                labelContainer.style.paddingRight = \"7px\";\r\n            }\r\n            labelContainer.append(img);\r\n            labelContainer.append(label);\r\n            labelContainer.append(closeBtn);\r\n            linkButton.append(labelContainer);\r\n\r\n            closeBtn.addEventListener(\"click\", (e) => {\r\n                close(tabId); // linkButton.getAttribute(\"data-tab\"));\r\n                e.stopImmediatePropagation();\r\n            });\r\n            // linkButton.append(labelContainer);\r\n            linkButton.addEventListener(\"click\", () => {\r\n                select(linkButton);\r\n            });\r\n\r\n            linkButton.addEventListener(\"mouseenter\", () => {\r\n                if (selectedTab.linkButton.id === linkButton.id) return;\r\n                closeBtn.style.visibility = \"visible\";\r\n            });\r\n\r\n            linkButton.addEventListener(\"mouseleave\", () => {\r\n                // const _tab = getSelectedTab();\r\n                if (selectedTab.linkButton.id === linkButton.id) return;\r\n                closeBtn.style.visibility = \"hidden\";\r\n            });\r\n\r\n            buttons[linkButton.id] = linkButton;\r\n            // If there was a selected button already, insert after it\r\n            // otherwise append at the end of tab list\r\n            if ((selectedTab = getSelectedTab())) {\r\n                // tab.selected=false;\r\n                selectedTab.linkButton.after(linkButton);\r\n                // getLinkButton(tab.linkId).after(linkButton);\r\n            } else {\r\n                getTabBar().appendChild(linkButton);\r\n            }\r\n            tabs.set(tabId, {\r\n                id: tabId,\r\n                label: tabSettings.label,\r\n                text: tabSettings.text,\r\n                title: tabSettings.title,\r\n                linkId: tabSettings.buttonId,\r\n                pageId: tabSettings.target,\r\n                data: tabSettings.data,\r\n                selected: tabSettings.selected,\r\n                linkButton: linkButton,\r\n                page: page,\r\n            });\r\n            selectedTab = tabs.get(tabId);\r\n            showHideNavButton();\r\n            select(linkButton);\r\n            if (tabSettings.selected) {\r\n                return selectedTab;\r\n            }\r\n            return selectedTab;\r\n        }\r\n\r\n        function select(el, before) {\r\n            let linkButton = el;\r\n            if (!el) {\r\n                throw new Error(\"Invalid tab address:\");\r\n            } else if (typeof el === \"string\" || isFinite(el)) {\r\n                linkButton = getLinkButton(el);\r\n            } else if (el.id) {\r\n                linkButton = el;\r\n            } else {\r\n                throw new Error(\"Invalid Button or ID\");\r\n            }\r\n\r\n            if (typeof before === \"function\") {\r\n                const result = before();\r\n                if (result === false) return false;\r\n            }\r\n            for (const tab of tabs.values()) {\r\n                if (tab.linkButton.id === linkButton.id) {\r\n                    tab.selected = true;\r\n                    selectedTab = tab;\r\n                    document.getElementById(tab.pageId).style.visibility =\r\n                        \"visible\";\r\n                    tab.linkButton.lastChild.lastChild.style.visibility =\r\n                        \"visible\";\r\n                    // console.log(tab.linkButton.lastChild.lastChild);\r\n                } else {\r\n                    tab.selected = false;\r\n                    document.getElementById(tab.pageId).style.visibility =\r\n                        \"hidden\";\r\n                    tab.linkButton.lastChild.lastChild.style.visibility =\r\n                        \"hidden\";\r\n                }\r\n            }\r\n            applySelection(linkButton, tabSettings);\r\n            if (!isLinkVisible(linkButton)) {\r\n                scrollLinkIntoView(linkButton);\r\n            }\r\n            Event.fire(\"select\", selectedTab);\r\n\r\n            return selectedTab;\r\n        }\r\n\r\n        function close(el) {\r\n            let tabId = el;\r\n            if (!el) {\r\n                throw new Error(\"Invalid tab address:\");\r\n            } else if (typeof id === \"string\") {\r\n                // tab id\r\n            } else if (el.id) {\r\n                tabId = el.id; // .substr(5);//button Element\r\n            }\r\n            const tab = tabs.get(tabId);\r\n            // console.log(el, tab, tabs);\r\n            if (!tab) return;\r\n            const link = tab.linkButton; // getLinkButton(tab.linkId);\r\n            const next = link.nextSibling;\r\n            const prev = link.previousSibling;\r\n            Event.fire(\"before_close\", tab);\r\n            link.remove();\r\n            document.getElementById(tab.pageId).remove();\r\n            selectedTab = null; // delete selectedTab;\r\n            tabs.delete(tabId);\r\n\r\n            Event.fire(\"close\", tab);\r\n            if (next && next.tagName === \"BUTTON\") {\r\n                select(next);\r\n            } else if (prev && prev.tagName === \"BUTTON\") {\r\n                select(prev);\r\n            }\r\n            showHideNavigator();\r\n            scroll(true);\r\n            return tabId;\r\n        }\r\n\r\n        function isLinkVisible(link) {\r\n            const box = link.getBoundingClientRect();\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return false;\r\n            const box1 = tabbar.getBoundingClientRect();\r\n            return box.left >= box1.left && box.right <= box1.right;\r\n        }\r\n\r\n        function getVisibleTabs() {\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return false;\r\n            var links = Array.prototype.slice.call(\r\n                tabbar.querySelectorAll(\"button\")\r\n            );\r\n            return links.filter((link) => {\r\n                return isLinkVisible(link);\r\n            });\r\n        }\r\n\r\n        function getHiddenTabs() {\r\n            var links = Array.prototype.slice.call(\r\n                getTabBar().querySelectorAll(\"button\")\r\n            );\r\n            return links.filter((link) => {\r\n                return !isLinkVisible(link);\r\n            });\r\n        }\r\n\r\n        function scroll(right) {\r\n            if (themeOptions.infinite_scroll) {\r\n                infiniteScroll(right);\r\n            } else {\r\n                finiteScroll(right);\r\n                showHideNavigator();\r\n            }\r\n        }\r\n\r\n        function scrollLinkIntoView(el) {\r\n            if (isLinkVisible(el)) return;\r\n            const max = tabs.size;\r\n            let count = 0;\r\n            while (!isLinkVisible(el)) {\r\n                getRightNavButton().click();\r\n                count++;\r\n                if (count > max) break;\r\n            }\r\n            count = 0;\r\n            while (!isLinkVisible(el)) {\r\n                getLeftNavButton().click();\r\n                count++;\r\n                if (isLinkVisible(el)) return;\r\n                if (count > max) break;\r\n            }\r\n        }\r\n\r\n        function finiteScroll(right) {\r\n            tabButtonsCount = tabButtonsCount ? tabButtonsCount : 1;\r\n            tabButtonsCount++;\r\n            const visibleButtons = getVisibleTabs();\r\n            var firstVisibleButton = visibleButtons[0];\r\n            var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n            if (right && lastVisibleButton && lastVisibleButton.nextSibling) {\r\n                firstVisibleButton.style.display = \"none\";\r\n            } else if (\r\n                !right &&\r\n                firstVisibleButton &&\r\n                firstVisibleButton.previousSibling\r\n            ) {\r\n                firstVisibleButton.previousSibling.style.display = \"\";\r\n            } else {\r\n                const tabbar = getTabBar();\r\n                if (!tabbar) return;\r\n                const bts = tabbar.querySelectorAll(\"button\");\r\n                if (bts.length > 0) {\r\n                    bts[bts.length - 1].style.display = \"\";\r\n                }\r\n            }\r\n        }\r\n\r\n        function infiniteScroll(right) {\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return;\r\n            var links = tabbar.querySelectorAll(\"button\");\r\n            if (links.length > 1) {\r\n                if (right) {\r\n                    links[links.length - 1].after(links[0]);\r\n                } else {\r\n                    links[0].before(links[links.length - 1]);\r\n                }\r\n            }\r\n        }\r\n\r\n        function destroy() {\r\n            // destroy\r\n            removeListeners();\r\n        }\r\n        return {\r\n            init,\r\n            add,\r\n            close,\r\n            setTheme,\r\n            getTheme,\r\n            destroy,\r\n        };\r\n    };\r\n    return {\r\n        createTabs,\r\n        randomId,\r\n        Emitter,\r\n        Event,\r\n        debounce,\r\n    };\r\n})();\r\n\r\nexport default TabView;\r\n"],"names":["TabView","randomId","Math","random","toString","slice","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","Emitter","fire","event","data","cancelable","bubbles","cntx","document","myEvent","CustomEvent","detail","dispatchEvent","on","listener","addEventListener","off","removeEventListener","Event","_listeners","addListener","type","push","attach","target","Error","Array","listeners","i","len","length","call","trigger","removeListener","splice","createLinkButton","linkId","tabId","style","title","bg","linkButton","createElement","className","setAttribute","position","outline","height","width","border","fontSize","fontWeight","margin","padding","boxShadow","background","color","cursor","display","transition","borderRadius","createCloseButton","button","innerHTML","visibility","marginRight","marginLeft","alignContent","alignItems","createLabel","text","label","paddingRight","paddingLeft","verticalAlign","maxWidth","overflow","whiteSpace","append","createTextNode","createTabBarWraper","tabbarContainer","createBar","tabBar","top","bottom","left","right","createButton","name","float","btn","id","createImage","options","img","icon","createLabelContainer","labelContainer","createTable","tabBarWrapper","pagePanel","settings","banner","footer","addBanner","addFooter","doc","createDocumentFragment","table","thead","bannerRow","minHeight","maxHeight","th","textAlign","appendChild","tbody","linkRow","tab_height","td","borderCollapse","pageRow","linkRow2","footerRow","firstElementChild","nextSibling","createPage","pageId","page","createPagePanel","panel","loadFromMarkup","el","fn","getElementById","children","markup","querySelector","links","pages","tabs","remove","node","textContent","getAttribute","closable","selected","html","justifyContent","applySelection","parentElement","tablinks","classList","add","activeBg","activecolor","createTabs","selectedTab","rightBtn","leftBtn","addBtn","pagePanelId","tabBarId","themeOptions","tabSettings","containerId","dragStartPoint","dragStopPoint","Map","buttons","init","Object","assign","applySettings","scroll","tabBarWraper","container","setTheme","theme","attachDomEventListeners","dynamicLoad","toggleNavigator","getLeftNavButton","getRightNavButton","getTabAtIndex","index","tab","values","value","unhide","last","size","visibles","getVisibleTabs","firstVisible","previousSibling","lastHidden","getBoundingClientRect","gap","scrollLinkIntoView","getTabBar","window","isLinkVisible","showHideNavButton","handleKeypress","preventDefault","clientX","drop","drag","e","code","keyCode","link","select","blur","infinite_scroll","visibleButtons","firstVisibleButton","lastVisibleButton","rBtn","lBtn","toggleNavButton","show","showHideNavigator","applyTheme","getContainer","getTheme","getSelectedTab","mySettings","limit","undefined","close_click","left_tip","right_tip","add_tip","forEach","d","getPage","zIndex","get","getLinkButton","getTabPagePanel","getLinkTarget","ev","dataTransfer","setData","getData","dataEl","before","after","keys","buttonId","Number","closeBtn","close","stopImmediatePropagation","set","isFinite","result","lastChild","next","prev","tagName","box","tabbar","box1","prototype","querySelectorAll","filter","infiniteScroll","finiteScroll","max","count","click","bts","destroy","removeListeners"],"mappings":"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"}