{"version":3,"file":"tabview.umd.js","sources":["../index.js"],"sourcesContent":["/* jshint esversion: 8 */\r\nexport default class TabView {\r\n  //  tabs = new Map()\r\n  constructor(el, options) {\r\n    this.tabIndex = -1;\r\n    this.currentIndex = 0;\r\n    this.links = {};\r\n    this.tabs = new Map();\r\n    this.buttons = {};\r\n    this.pages = {};\r\n    this.selectedTab = {};\r\n    this.hiddenTabs = [];\r\n  }\r\n\r\n  generateRandomString() {\r\n    return Math.random().toString(36).slice(2);\r\n  }\r\n\r\n  createLinkButton(linkId, tabId, { pageId, style, title, bg }) {\r\n    var linkButton = document.createElement(\"button\");\r\n    linkButton.className = \"tab-link\";\r\n    linkButton.setAttribute(\"href\", \"#!\");\r\n    linkButton.setAttribute(\"id\", linkId);\r\n    linkButton.setAttribute(\"title\", title);\r\n    linkButton.setAttribute(\"name\", \"tab-link\");\r\n    linkButton.setAttribute(\"draggable\", \"true\");\r\n    linkButton.setAttribute(\"data-tab\", tabId);\r\n    linkButton.setAttribute(\"data-target\", pageId);\r\n    // linkButton.style.position = \"absolute\";\r\n    // linkButton.style.float = \"left\";\r\n    linkButton.style.outline = \"none\";\r\n    linkButton.style.height = \"100%\";\r\n    linkButton.style.width = \"auto\";\r\n    linkButton.style.border = \"0 none transparent\";\r\n    linkButton.style.fontSize = \"12px\";\r\n    linkButton.style.fontWeight = \"500\";\r\n    linkButton.style.margin = \"0\";\r\n    linkButton.style.padding = \"0\";\r\n    linkButton.style.boxShadow = \"none\";\r\n    linkButton.style.background = bg || \"inherit\";\r\n    linkButton.style.color = \"inherit\";\r\n    linkButton.style.cursor = \"pointer\";\r\n    linkButton.style.transition = \"background .4s\";\r\n    if (style) {\r\n      linkButton.style.borderRadius = \"8px 1px 0px 0px\";\r\n    } else {\r\n      linkButton.style.borderRadius = \"1px 1px 0px 0px\";\r\n    }\r\n\r\n    return linkButton;\r\n  }\r\n\r\n  createCloseButton() {\r\n    var button = document.createElement(\"a\");\r\n    button.innerHTML = \"&times\";\r\n    button.setAttribute(\"name\", \"close-button\");\r\n    button.setAttribute(\"title\", \"close\");\r\n    button.style.borderRadius = \"50%\";\r\n    button.style.visibility = \"hidden\";\r\n    button.style.height = button.style.width = \"20px\";\r\n    button.style.float = \"right\";\r\n    button.style.marginRight = \"2px\";\r\n    button.style.marginLeft = \"5px\";\r\n    button.style.display = \"flex\";\r\n    button.style.padding = \"2px 0px 0px 4px\";\r\n    button.style.alignContent = \"center\";\r\n    button.style.alignItems = \"center\";\r\n    button.style.fontSize = \"18px\";\r\n    button.style.color = \"#efefef\";\r\n    button.style.fontWeight = \"700\";\r\n    button.style.background = \"transparent\";\r\n    button.addEventListener(\"mouseenter\", function () {\r\n      button.style.background = \"#555\";\r\n    });\r\n    button.addEventListener(\"mouseleave\", function () {\r\n      button.style.background = \"\";\r\n    });\r\n\r\n    return button;\r\n  }\r\n\r\n  createPage(pageId, tabId, linkId, options) {\r\n    var page = document.createElement(\"div\");\r\n    page.setAttribute(\"id\", pageId);\r\n    page.setAttribute(\"data-tab\", tabId);\r\n    page.setAttribute(\"data-trigger\", linkId);\r\n    page.innerHTML = options.text || \"\";\r\n    page.style.position = \"absolute\";\r\n    page.style.padding = \"8px 16px\";\r\n    page.style.visibility = \"hidden\";\r\n    page.style.overflow = \"auto\";\r\n    page.style.top =\r\n      page.style.bottom =\r\n      page.style.left =\r\n      page.style.right =\r\n        \"0\";\r\n    // page.style.top='0'; do not specify top!!!\r\n    page.style.background = options.bg || \"\";\r\n    return page;\r\n  }\r\n\r\n  createPagePanel() {\r\n    var panel = document.createElement(\"div\");\r\n    panel.setAttribute(\"id\", this.generateRandomString());\r\n    panel.style.position = \"relative\";\r\n    panel.className = \"tab-panel\";\r\n    panel.style.width = \"100%\";\r\n    panel.style.height = \"100%\";\r\n    panel.style.overflow = \"hidden\";\r\n    panel.style.margin = \"0\";\r\n    panel.style.top = \"0\";\r\n    panel.style.background = \"\";\r\n    return panel;\r\n  }\r\n\r\n  createLabel(text) {\r\n    var label = document.createElement(\"label\");\r\n    label.setAttribute(\"name\", \"tab-link-label\");\r\n    label.className = \"tab-link-label\";\r\n    label.style.margin = \"0\";\r\n    label.style.paddingRight = \"2px\";\r\n    label.style.paddingLeft = \"2px\";\r\n    label.style.verticalAlign = \"middle\";\r\n    label.style.padding = \"0\";\r\n    label.style.color = \"inherit\";\r\n    label.style.maxWidth = \"80px\";\r\n    label.style.overflow = \"hidden\";\r\n    label.style.whiteSpace = \"nowrap\";\r\n    label.style.background = \"\";\r\n    label.style.cursor = \"pointer\";\r\n    label.style.fontSize = \"inherit\";\r\n    label.style.fontWeight = \"inherit\";\r\n    label.append(document.createTextNode(text));\r\n    // label.setAttribute('title', title || text)\r\n    return label;\r\n  }\r\n\r\n  createTabBarWraper() {\r\n    var tabbarContainer = document.createElement(\"div\");\r\n    tabbarContainer.style.position = \"relative\";\r\n    tabbarContainer.style.height = \"100%\";\r\n    tabbarContainer.style.height = \"100%\";\r\n    tabbarContainer.style.width = \"100%\";\r\n    tabbarContainer.style.border = \"none\";\r\n    tabbarContainer.style.padding = \"none\";\r\n    tabbarContainer.className = \"tabbar-wrapper\";\r\n    return tabbarContainer;\r\n  }\r\n\r\n  createBar() {\r\n    var tabBar = document.createElement(\"div\");\r\n    tabBar.setAttribute(\"id\", this.generateRandomString());\r\n    tabBar.style.position = \"absolute\";\r\n    tabBar.style.top = \"0\";\r\n    tabBar.style.bottom = \"0\";\r\n    tabBar.style.left = \"60px\";\r\n    tabBar.style.right = \"30px\";\r\n    tabBar.style.overflow = \"hidden\";\r\n    tabBar.style.padding = \"0px\";\r\n    tabBar.style.margin = \"0px\";\r\n    tabBar.style.paddingRight = \"7px\";\r\n    tabBar.style.background = \"inherit\";\r\n    tabBar.style.display = \"flex\";\r\n    tabBar.className = \"tab-bar\";\r\n    return tabBar;\r\n  }\r\n\r\n  createTabButton(name, text, float) {\r\n    const btn = document.createElement(\"button\");\r\n    btn.id = this.generateRandomString();\r\n    btn.setAttribute(\"name\", name);\r\n    btn.style.height = \"100%\";\r\n    btn.style.border = \"0 none transparent\";\r\n    btn.style.background = \"transparent\";\r\n    btn.style.color = \"white\";\r\n    btn.marginRight = btn.marginLeft = \"2px\";\r\n    btn.style.padding = \"2px\";\r\n    btn.style.paddingLeft = btn.style.paddingRight = \"7px\";\r\n    btn.style.cursor = \"pointer\";\r\n    btn.style.fontWeight = \"900\";\r\n    btn.style.fontSize = \"14px\";\r\n    btn.style.float = float || \"none\";\r\n    btn.style.outline = \"none\";\r\n    btn.innerHTML = text;\r\n    btn.style.borderRadius = \"4px 4px\";\r\n    return btn;\r\n  }\r\n\r\n  createImage(options) {\r\n    const img = document.createElement(\"span\");\r\n    img.style.marginRight = \"7px\";\r\n    img.style.color = \"#b00\";\r\n    img.style.fontWeight = \"bold\";\r\n    img.innerHTML = options.icon || \"kb\";\r\n    img.style.float = \"left\";\r\n    return img;\r\n  }\r\n\r\n  createLabelContainer(options) {\r\n    const labelContainer = document.createElement(\"label\");\r\n    labelContainer.setAttribute(\"name\", \"tab-link-label-wraper\");\r\n    labelContainer.style.display = \"flex\";\r\n    labelContainer.style.alignContent = \"center\";\r\n    labelContainer.style.alignItems = \"center\";\r\n    labelContainer.style.padding = \"2px\";\r\n    labelContainer.style.height = \"100%\";\r\n    labelContainer.style.width = \"100%\";\r\n    labelContainer.style.color = \"inherit\";\r\n    labelContainer.style.background = \"transparent\";\r\n    labelContainer.style.cursor = \"pointer\";\r\n    const img = this.createImage(options);\r\n    var closeBtn = this.createCloseButton();\r\n    var label = this.createLabel(options.label, options.title);\r\n    if (!options.closable) {\r\n      closeBtn.style.display = \"none\";\r\n      labelContainer.style.paddingRight = \"7px\";\r\n    }\r\n    labelContainer.append(img);\r\n    labelContainer.append(label);\r\n    labelContainer.append(closeBtn);\r\n    closeBtn.addEventListener(\"click\", () => {\r\n      this.close(\r\n        closeBtn.parentNode.parentElement.getAttribute(\"data-tab\"),\r\n        this\r\n      );\r\n    });\r\n\r\n    return labelContainer;\r\n  }\r\n\r\n  createTable(tabBarWrapper, pagePanel, banner, footer) {\r\n    const doc = document.createDocumentFragment();\r\n    const table = document.createElement(\"table\");\r\n    table.style.width = table.style.height = \"100%\";\r\n    doc.append(table);\r\n\r\n    const thead = document.createElement(\"thead\");\r\n    table.append(thead);\r\n\r\n    const bannerRow = document.createElement(\"tr\");\r\n    bannerRow.style.minHeight = \"0px\";\r\n    bannerRow.style.maxHeight = \"80px\";\r\n    thead.append(bannerRow);\r\n    const th = document.createElement(\"th\");\r\n    // th.setAttribute('colspan',3);\r\n    th.style.textAlign = \"left\";\r\n    th.style.padding = \"0\";\r\n    if (banner) {\r\n      th.append(banner);\r\n    } else {\r\n      bannerRow.style.display = \"none\";\r\n    }\r\n    bannerRow.appendChild(th);\r\n\r\n    const tbody = document.createElement(\"tbody\");\r\n    table.append(tbody);\r\n\r\n    const linkRow = document.createElement(\"tr\");\r\n    linkRow.style.minHeight = \"24px\";\r\n    linkRow.style.height = this.settings.tab_height + \"px\";\r\n    linkRow.style.padding = \"0\";\r\n    tbody.append(linkRow);\r\n\r\n    let td = document.createElement(\"td\");\r\n    td.style.overflow = \"hidden\";\r\n    td.style.whiteSpace = \"nowrap\";\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    td.append(tabBarWrapper);\r\n    linkRow.appendChild(td);\r\n    table.style.borderCollapse =\r\n      linkRow.style.borderCollapse =\r\n      td.style.borderCollapse =\r\n        \"collapse\";\r\n    table.style.border =\r\n      linkRow.style.border =\r\n      td.style.border =\r\n        \"0 none transparent\";\r\n\r\n    const pageRow = document.createElement(\"tr\");\r\n    tbody.append(pageRow);\r\n    td = document.createElement(\"td\");\r\n    td.append(pagePanel);\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    pageRow.appendChild(td);\r\n\r\n    const linkRow2 = document.createElement(\"tr\");\r\n    tbody.append(linkRow2);\r\n    td = document.createElement(\"td\");\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    linkRow2.appendChild(td);\r\n    linkRow2.style.minHeight = \"24px\";\r\n    linkRow2.style.height = this.settings.tab_height + \"px\";\r\n\r\n    const footerRow = document.createElement(\"tr\");\r\n    tbody.append(footerRow);\r\n    td = document.createElement(\"td\");\r\n    footerRow.appendChild(td);\r\n    footerRow.style.maxHeight = \"24px\";\r\n    td = document.createElement(\"td\");\r\n    td.style.padding = \"0\";\r\n    if (footer) {\r\n      td.append(footer || document.createTextNode(\"\"));\r\n    } else {\r\n      footerRow.style.display = \"none\";\r\n    }\r\n    footerRow.appendChild(td);\r\n    td = document.createElement(\"td\");\r\n    td.style.padding = \"0\";\r\n    footerRow.appendChild(td);\r\n    if (this.settings.bottom) {\r\n      linkRow2.firstElementChild.nextSibling.appendChild(tabBarWrapper);\r\n      linkRow.style.display = \"none\";\r\n    } else {\r\n      linkRow2.style.display = \"none\";\r\n    }\r\n    return doc;\r\n  }\r\n\r\n  init(el, options) {\r\n    this.settings = Object.assign({}, options);\r\n    const data = options.loadFromMarkup ? this.loadFromMarkup(el) : null;\r\n    if (data) {\r\n      this.settings = Object.assign(this.settings, data);\r\n    }\r\n    this.applySettings(this.settings);\r\n    const leftBtn = this.createTabButton(\"left-nav-button\", \"&lt;\", \"left\");\r\n    this.leftBtn = leftBtn;\r\n    leftBtn.addEventListener(\"click\", () => {\r\n      this.scroll(false);\r\n    });\r\n\r\n    this.leftNavId = leftBtn.id;\r\n    const addBtn = this.createTabButton(\"add-tab-button\", \"+\", \"left\");\r\n    this.addBtn = addBtn;\r\n    this.addBtnId = addBtn.id;\r\n    if (this.settings.add) {\r\n      this.addBtn.style.visibility = \"visible\";\r\n    } else {\r\n      this.addBtn.style.visibility = \"hidden\";\r\n    }\r\n    this.addBtn.addEventListener(\"click\", () => {\r\n      this.Event.fire(\"add-tab-click\", this.generateRandomString());\r\n    });\r\n    const tabBar = this.createBar();\r\n    const tabBarWraper = this.createTabBarWraper();\r\n    tabBarWraper.append(tabBar);\r\n\r\n    tabBarWraper.appendChild(leftBtn);\r\n    tabBarWraper.appendChild(addBtn);\r\n\r\n    this.tabBarId = tabBar.id;\r\n    this.tabBar = tabBar;\r\n\r\n    const rtBtn = this.createTabButton(\"right-nav-button\", \"&gt;\", \"right\");\r\n    this.rightBtn = rtBtn;\r\n    tabBarWraper.appendChild(rtBtn);\r\n    rtBtn.addEventListener(\"click\", () => {\r\n      this.scroll(true);\r\n    });\r\n    // tabBarWraper.appendChild(rtBtn);\r\n    this.rightNavId = rtBtn.id;\r\n    const pagePanel = this.createPagePanel();\r\n    this.pagePanelId = pagePanel.id;\r\n\r\n    // let tabbar= doc.querySelector('div');\r\n\r\n    let banner, footer;\r\n    if (this.settings.banner) {\r\n      banner = this.addBanner();\r\n    }\r\n    if (this.settings.footer) {\r\n      footer = this.addFooter();\r\n    }\r\n\r\n    const doc = this.createTable(\r\n      tabBar.parentElement,\r\n      pagePanel,\r\n      banner,\r\n      footer\r\n    );\r\n    const container = typeof el === \"object\" ? el : document.getElementById(el);\r\n    this.containerId = container.id;\r\n    container.append(doc);\r\n    // The tabBarWraper and tabPagePanel will be appended to tab container\r\n    // this.mountTab(el, doc, tabPagePanel);\r\n    this.theme = this.settings.theme;\r\n    this.attachDomEventListeners(this);\r\n    if (this.settings.tabs) {\r\n      this.dynamicLoad(this.settings.tabs);\r\n    }\r\n    this.toggleNavigator(this.getLeftNavButton(), false);\r\n    this.toggleNavigator(this.getRightNavButton(), false);\r\n\r\n    return this;\r\n  }\r\n\r\n  applySettings(options) {\r\n    const settings = {\r\n      limit: undefined,\r\n      banner: undefined,\r\n      footer: undefined,\r\n      close_click: undefined,\r\n      infinite_scroll: false,\r\n      style: \"normal\",\r\n      // navigation : true,\r\n      add: false,\r\n      // width   : '100%',\r\n      // height  : '100%',\r\n      theme: \"red\",\r\n      tab_height: 32,\r\n      left_tip: \"&lt;\",\r\n      right_tip: \"&gt;\",\r\n      add_tip: \"+\",\r\n      data: null,\r\n    };\r\n\r\n    this.settings = Object.assign({}, settings, options, arguments[1]);\r\n  }\r\n\r\n  dynamicLoad(tabs) {\r\n    if (!tabs) return;\r\n    let selected = null;\r\n    tabs.forEach((d) => {\r\n      if (d.selected) {\r\n        selected = d.id;\r\n      }\r\n      const tab = this.add(d);\r\n      const page = this.getPage(tab.id);\r\n      // page.parentElement.style.top='80px';\r\n      // page.background='#054';\r\n      page.innerHTML = typeof d.html === \"function\" ? d.html() : d.html;\r\n      page.setAttribute(\"contenteditable\", true);\r\n      page.style.overflow = \"auto\";\r\n      page.style.zIndex = \"100\";\r\n    });\r\n    if (selected) {\r\n      this.select(selected);\r\n    }\r\n  }\r\n\r\n  loadFromMarkup(el, fn) {\r\n    if (typeof el === \"string\") {\r\n      el = document.getElementById(el);\r\n    }\r\n    if (!el || !el.children) throw new Error(\"Invalid element to load markup\");\r\n    const markup = el.children;\r\n    // let doc=document.createDocumentFragment();\r\n    if (!markup || markup.length === 0) return fn();\r\n    const banner = el.querySelector(\".tab-banner\");\r\n    const footer = el.querySelector(\".tab-footer\");\r\n    const links = el.querySelector(\".tab-links\").children;\r\n    const pages = el.querySelector(\".tab-pages\").children;\r\n    const data = {\r\n      banner: banner.innerHTML,\r\n      footer: footer.innerHTML,\r\n      tabs: [],\r\n    };\r\n    if (banner) banner.remove();\r\n    if (footer) footer.remove();\r\n\r\n    while (links.length > 0) {\r\n      const node = links[0];\r\n      const page = pages[0];\r\n      if (!node) continue;\r\n      data.tabs.push({\r\n        id: node.id !== \"\" ? node.id : null,\r\n        label: node.textContent,\r\n        title: node.getAttribute(\"title\"),\r\n        closable: node.getAttribute(\"closable\"),\r\n        target: node.getAttribute(\"data-target\"),\r\n        selected: node.getAttribute(\"selected\"),\r\n        html: page ? page.innerHTML : \"\",\r\n        bg: page ? page.style.background : \"#0bc\",\r\n        style: node.getAttribute(\"tab-style\"),\r\n      });\r\n      node.remove();\r\n      page.remove();\r\n    }\r\n    return data;\r\n  }\r\n\r\n  getPage(id) {\r\n    const tab = this.tabs.get(id);\r\n    return document.getElementById(tab.pageId);\r\n  }\r\n\r\n  getLinkButton(linkId) {\r\n    return document.getElementById(linkId);\r\n  }\r\n\r\n  getCloswButton(id) {\r\n    const linkButton = this.getLinkButton(id);\r\n    return linkButton ? linkButton.lastElementChild() : null;\r\n  }\r\n\r\n  getTabPagePanel() {\r\n    return document.getElementById(this.pagePanelId);\r\n  }\r\n\r\n  getRightNavButton() {\r\n    return this.rightBtn;\r\n  }\r\n\r\n  getLeftNavButton() {\r\n    return this.leftBtn;\r\n  }\r\n\r\n  getAddButton() {\r\n    return this.addBtn;\r\n  }\r\n\r\n  getFooter() {\r\n    return document.getElementById(this.footerId);\r\n  }\r\n\r\n  getBanner() {\r\n    return document.getElementById(this.bannerId);\r\n  }\r\n\r\n  getTabBar() {\r\n    return document.getElementById(this.tabBarId);\r\n  }\r\n\r\n  getContainer() {\r\n    return document.getElementById(this.containerId);\r\n  }\r\n\r\n  hideExtraTabs() {\r\n    const links = Object.values(this.links);\r\n    const numTotal = links.length;\r\n    const numVisible = Math.min(numTotal, this.settings.limit);\r\n    for (var i = 0; i < links.length; i++) {\r\n      links[i].style.display = \"none\"; // hide xo tabs.\r\n    }\r\n    for (var j = 0; j < numVisible; j++) {\r\n      this.links[j].style.display = \"inline\"; // Show visible tabs.\r\n    }\r\n  }\r\n\r\n  getLinkTarget(el) {\r\n    try {\r\n      while (el.name !== \"tab-link\") {\r\n        el = el.parentElement;\r\n      }\r\n      return el;\r\n    } catch (e) {\r\n      // const length = this.tabs.size - 1\r\n      return this.getTabAtIndex(this.tabs.size - 1).linkButton;\r\n      // Object.values(this.tabs)[length].linkButton\r\n    }\r\n  }\r\n\r\n  allowDrop(ev) {\r\n    ev.preventDefault();\r\n  }\r\n\r\n  drag(ev) {\r\n    ev.dataTransfer.setData(\"text\", ev.target.id);\r\n  }\r\n\r\n  drop(ev) {\r\n    ev.preventDefault();\r\n    var data = ev.dataTransfer.getData(\"text\");\r\n    // do not drop on label wrappers or close button\r\n    var target = this.getLinkTarget(ev.target);\r\n    var dataEl = document.getElementById(data);\r\n\r\n    if (this.dragStartPoint > this.dragStopPoint) {\r\n      target.before(dataEl);\r\n    } else {\r\n      target.after(dataEl);\r\n    }\r\n    // target.parentNode.insertBefore(dataEl,this.dragStartPoint>this.dragStopPoint?target:target.nextSibling);\r\n  }\r\n\r\n  addFooter() {\r\n    var footer = document.createElement(\"span\");\r\n    footer.setAttribute(\"name\", \"tab-footer\");\r\n    footer.innerHTML = this.settings.footer;\r\n    footer.className = \"tab-footer\";\r\n    footer.style.left = \"0\";\r\n    footer.style.right = \"0\";\r\n    footer.style.bottom = \"0\";\r\n    footer.style.padding = \"2px\";\r\n    footer.style.display = \"flex\";\r\n    footer.style.justifyContent = \"center\";\r\n    footer.style.alignItems = \"center\";\r\n    // footer.style.background='#030';\r\n    // footer.style.borderTop='1px solid #020';\r\n\r\n    return footer;\r\n  }\r\n\r\n  addBanner() {\r\n    var banner = document.createElement(\"span\");\r\n    banner.setAttribute(\"name\", \"tab-banner\");\r\n    banner.innerHTML =\r\n      typeof this.settings.banner === \"string\"\r\n        ? this.settings.banner\r\n        : this.settings.banner.innerHTML;\r\n    banner.style.display = \"flex\";\r\n    banner.style.padding = \"5px\";\r\n    banner.style.justifyContent = \"center\";\r\n    banner.style.alignItems = \"center\";\r\n    banner.className = \"tab-banner\";\r\n    banner.style.background = \"green\";\r\n\r\n    return banner;\r\n  }\r\n\r\n  mountTab(el, doc, tabPagePanel) {\r\n    const container = typeof el === \"object\" ? el : document.getElementById(el);\r\n    this.containerId = container.id;\r\n    container.appendChild(tabPagePanel);\r\n\r\n    const tabbar = doc.querySelector(\"div\");\r\n    let banner, footer;\r\n    if (this.settings.banner) {\r\n      banner = this.addBanner(container);\r\n      container.prepend(banner);\r\n    }\r\n    if (this.settings.bottom) {\r\n      container.lastChild.after(doc);\r\n    } else {\r\n      container.lastChild.before(doc);\r\n    }\r\n    if (this.settings.footer) {\r\n      footer = this.addFooter(container);\r\n      container.lastChild.after(footer);\r\n    }\r\n    // container.style.height='100%';\r\n    // container.style.width='100%';\r\n    container.style.top =\r\n      container.style.bottom =\r\n      container.style.left =\r\n      container.style.right =\r\n        \"0\";\r\n    const bannerBox = banner ? banner.getBoundingClientRect() : null;\r\n    const bannerBottom = banner ? bannerBox.bottom - bannerBox.top : 0;\r\n\r\n    const footerBox = footer ? footer.getBoundingClientRect() : null;\r\n    const footerTop = footer ? footerBox.bottom - footerBox.top : 0;\r\n\r\n    if (this.settings.bottom) {\r\n      // tab bar is at bottom oftab window\r\n      tabbar.style.bottom = footerTop + \"px\";\r\n    } else {\r\n      tabbar.style.top = bannerBottom + \"px\";\r\n    }\r\n    tabbar.style.border = \"0px none transparent\";\r\n    tabPagePanel.style.border = \"0px none transparent\";\r\n  }\r\n\r\n  getTabAtIndex(index) {\r\n    let tab = null;\r\n    let i = 0;\r\n    for (const value of this.tabs.values()) {\r\n      if (i === index) {\r\n        tab = value;\r\n        break;\r\n      }\r\n      i++;\r\n    }\r\n    return tab;\r\n  }\r\n\r\n  unhide() {\r\n    // const tabs = this.tabs.entries()\r\n    const last = this.getTabAtIndex(this.tabs.size - 1).linkButton;\r\n    const visibles = this.getVisibleTabs();\r\n    const firstVisible = visibles[0];\r\n    if (!firstVisible.previousSibling) return;\r\n    // let lastVisible=visibles[visibles.length-1];\r\n    const lastHidden = firstVisible.previousSibling || firstVisible;\r\n    const width = lastHidden.getBoundingClientRect().width;\r\n    const gap =\r\n      this.tabBar.getBoundingClientRect().right -\r\n      last.getBoundingClientRect().right;\r\n    if (width < gap) {\r\n      this.scrollLinkIntoView(lastHidden);\r\n    }\r\n  }\r\n\r\n  attachDomEventListeners() {\r\n    // let self = this\r\n    const tabBar = this.getTabBar();\r\n    window.addEventListener(\"resize\", () => {\r\n      this.debounce(() => {\r\n        if (!this.tab) return false;\r\n        if (!this.isLinkVisible(this.tab.linkButton)) {\r\n          this.scrollLinkIntoView(this.tab.linkButton);\r\n        } else {\r\n          this.unhide();\r\n          this.scrollLinkIntoView(this.tab.linkButton);\r\n        }\r\n        this.showHideNavButton();\r\n      }, 200)();\r\n    });\r\n\r\n    tabBar.addEventListener(\r\n      \"keyup\",\r\n      (event) => {\r\n        this.handleKeypress(event);\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\r\n      \"drop\",\r\n      (event) => {\r\n        event.preventDefault();\r\n\r\n        this.dragStopPoint = event.clientX;\r\n        this.drop(event);\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\r\n      \"dragover\",\r\n      (event) => {\r\n        event.preventDefault();\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\"dragstart\", (event) => {\r\n      this.dragStartPoint = event.clientX;\r\n      this.drag(event);\r\n    });\r\n  }\r\n\r\n  handleKeypress(e) {\r\n    const code = e.keyCode;\r\n    const link = this.tab.button;\r\n    // eslint-disable-next-line default-case\r\n    if (!link) return;\r\n    switch (code) {\r\n      case 37:\r\n        if (link.previousSibling) {\r\n          this.select(link.previousSibling);\r\n        }\r\n        break; // left key\r\n      case 39:\r\n        if (link.nextSibling) {\r\n          this.select(link.nextSibling);\r\n        }\r\n        break; // right key\r\n      case 38:\r\n        break; // up key\r\n      case 40:\r\n        link.blur();\r\n        break; // down key\r\n      case 13:\r\n        break; // enter key\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  showHideNavButton() {\r\n    // console.log(this.settings);\r\n    if (this.settings.infinite_scroll) {\r\n      return;\r\n    }\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n    if (!firstVisibleButton) return;\r\n    const rBtn = this.getRightNavButton();\r\n    const lBtn = this.getLeftNavButton();\r\n    if (firstVisibleButton.previousSibling) {\r\n      this.toggleNavButton(rBtn, true);\r\n    } else {\r\n      this.toggleNavButton(lBtn, false);\r\n    }\r\n    if (lastVisibleButton.nextSibling) {\r\n      this.toggleNavButton(rBtn, true);\r\n    } else {\r\n      this.toggleNavButton(rBtn, false);\r\n    }\r\n  }\r\n\r\n  toggleNavButton(el, show) {\r\n    if (show) {\r\n      el.style.visibility = \"visible\";\r\n    } else {\r\n      el.style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  toggleAddButton(show) {\r\n    if (show) {\r\n      this.getAddButton().style.visibility = \"visible\";\r\n    } else {\r\n      this.getAddButton().style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  showHideNavigator() {\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n    if (!firstVisibleButton) return;\r\n    if (firstVisibleButton.previousSibling) {\r\n      this.toggleNavigator(this.getLeftNavButton(), true);\r\n    } else {\r\n      this.toggleNavigator(this.getLeftNavButton(), false);\r\n    }\r\n    if (lastVisibleButton.nextSibling) {\r\n      this.toggleNavigator(this.getRightNavButton(), true);\r\n    } else {\r\n      this.toggleNavigator(this.getRightNavButton(), false);\r\n    }\r\n  }\r\n\r\n  applySelection(el) {\r\n    if (!el || !el.parentElement) {\r\n      return;\r\n    }\r\n    var tablinks = el.parentElement.children;\r\n    for (let i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].classList.remove(\"active\");\r\n      tablinks[i].style.background = \"inherit\";\r\n      tablinks[i].style.color = \"inherit\";\r\n      tablinks[i].firstChild.lastChild.style.visibility = \"hidden\";\r\n    }\r\n    el.classList.add(\"active\");\r\n    el.style.background = this.tab_settings.activeBg;\r\n    el.style.color = this.tab_settings.activecolor;\r\n    el.firstChild.lastChild.style.visibility = \"visible\";\r\n    el.firstChild.style.color = this.tab_settings.activecolor;\r\n  }\r\n\r\n  applyTheme() {\r\n    const table = this.getContainer().querySelector(\"table\");\r\n    table.style.background = this.tab_settings.bg;\r\n    table.style.color = this.tab_settings.color;\r\n    this.leftBtn.style.color =\r\n      this.rightBtn.style.color =\r\n      this.addBtn.style.color =\r\n        this.tab_settings.color;\r\n  }\r\n\r\n  // Public API\r\n  /***\r\n   * @param theme String\r\n   * @returns null\r\n   */\r\n  set theme(theme) {\r\n    this.settings.theme = theme;\r\n    let color = \"#ddd\";\r\n    let bg = \"#222\";\r\n    let activecolor = \"#ddd\";\r\n    let activeBg = \"#003355\";\r\n    switch (theme) {\r\n      case \"dark\":\r\n        bg = \"#002255\";\r\n        activeBg = \"#003355\";\r\n        color = \"#fff\";\r\n        break;\r\n      case \"black\":\r\n        bg = \"#111\";\r\n        activeBg = \"#333\";\r\n        color = \"#fff\";\r\n        break;\r\n      case \"blue\":\r\n        bg = \"rgba(8, 68, 117, 1)\";\r\n        activeBg = \"rgba(10, 100, 186, 1)\";\r\n        break;\r\n      case \"green\":\r\n        bg = \"rgba(0, 149, 120, 1)\";\r\n        activeBg = \"rgba(0, 139, 100, 0.9)\";\r\n        break;\r\n      case \"red\":\r\n        bg = \"rgb(120, 0, 30)\";\r\n        activeBg = \"rgb(123, 0, 50)\";\r\n        break;\r\n      case \"white\":\r\n        bg = \"#bcd\";\r\n        color = \"#000\";\r\n        activecolor = \"#eee\";\r\n        break;\r\n      default:\r\n        bg = \"rgba(10, 100, 186, 1)\";\r\n        activeBg = \"rgba(10, 100, 206, 1)\";\r\n        color = \"#fff\";\r\n        break;\r\n    }\r\n    this.page_settings = {\r\n      bg: color,\r\n      color: bg,\r\n    };\r\n    this.tab_settings = {\r\n      bg: bg,\r\n      color: color,\r\n      activecolor: activecolor,\r\n      activeBg: activeBg,\r\n    };\r\n    this.applyTheme();\r\n  }\r\n\r\n  get theme() {\r\n    return this.settings.theme;\r\n  }\r\n\r\n  toggleNavigator(el, show) {\r\n    if (show) {\r\n      el.style.visibility = \"visible\";\r\n    } else {\r\n      el.style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  /* toggleAddButton (show) {\r\n    if (show) { this.addButton.style.visibility = 'visible' } else { this.addButton.style.visibility = 'hidden' }\r\n  } */\r\n\r\n  getSelectedTab() {\r\n    return this.tab;\r\n  }\r\n\r\n  getTab(tabId) {\r\n    return this.tabs.get(tabId);\r\n  }\r\n\r\n  setContent(id, content) {\r\n    const page = this.tabs.get(id).pageId;\r\n    document.getElementById(page).innerHTML = content;\r\n  }\r\n\r\n  setTitle(id, title) {\r\n    const link = this.tabs.get(id).linkId;\r\n    document.getElementById(link).firstElementChild.innerHTML = title;\r\n  }\r\n\r\n  add(options = {}) {\r\n    const length = Object.keys(this.buttons).length;\r\n    const tabId = options.tabId || this.generateRandomString();\r\n    const buttonId = \"link-btn-\" + this.generateRandomString(); // tabId,\r\n    let settings = {\r\n      buttonId: \"link-btn-\" + this.generateRandomString(), // tabId,\r\n      target: \"page-\" + tabId,\r\n      label: \"Tab\" + Number(length + 1),\r\n      title: this.label,\r\n      html: \"\",\r\n      closable: true,\r\n      data: null,\r\n      icon: \"kb\",\r\n      bg: options.bg || \"inherit\",\r\n      color: options.color || \"inherit\",\r\n      style: options.style || \"fancy\",\r\n    };\r\n    options.bg = options.bg === \"transparent\" ? \"\" : options.bg;\r\n    if (options.buttonId === null) {\r\n      delete options.buttonId;\r\n    }\r\n\r\n    this.settings = Object.assign(settings, options);\r\n\r\n    var page = this.createPage(\r\n      this.settings.target,\r\n      tabId,\r\n      buttonId,\r\n      this.settings\r\n    );\r\n\r\n    this.getTabPagePanel().appendChild(page);\r\n\r\n    var linkButton = this.createLinkButton(buttonId, tabId, this.settings);\r\n    this.buttons[linkButton.id] = linkButton;\r\n\r\n    const labelContainer = this.createLabelContainer(this.settings);\r\n    linkButton.append(labelContainer);\r\n\r\n    linkButton.addEventListener(\"click\", () => {\r\n      this.select(linkButton);\r\n    });\r\n\r\n    linkButton.addEventListener(\"mouseenter\", () => {\r\n      if (this.tab.linkButton.id === linkButton.id) return;\r\n      linkButton.firstChild.lastChild.style.visibility = \"visible\";\r\n    });\r\n\r\n    linkButton.addEventListener(\"mouseleave\", () => {\r\n      const tab = this.getSelectedTab();\r\n      if (tab.linkButton.id === linkButton.id) return;\r\n      linkButton.firstChild.lastChild.style.visibility = \"hidden\";\r\n    });\r\n    // If there was a selected button already, insert after it\r\n    // otherwise append at the end of tab list\r\n    if (this.tab) {\r\n      // this.tab.selected=false;\r\n      this.tab.linkButton.after(linkButton);\r\n      // this.getLinkButton(this.tab.linkId).after(linkButton);\r\n    } else {\r\n      this.getTabBar().appendChild(linkButton);\r\n    }\r\n    this.tabs.set(tabId, {\r\n      id: tabId,\r\n      label: settings.label,\r\n      text: settings.text,\r\n      title: settings.title,\r\n      linkId: settings.buttonId,\r\n      pageId: settings.target,\r\n      data: settings.data,\r\n      selected: settings.selected,\r\n      linkButton: linkButton,\r\n      page: page,\r\n    });\r\n    this.tab = this.tabs.get(tabId);\r\n\r\n    this.showHideNavButton();\r\n    this.select(linkButton);\r\n    if (settings.selected) {\r\n      return this.tab;\r\n    }\r\n    return this.tab;\r\n  }\r\n\r\n  select(el, before) {\r\n    let linkButton = el;\r\n    if (!el) {\r\n      throw new Error(\"Invalid tab address:\");\r\n    } else if (typeof el === \"string\" || isFinite(el)) {\r\n      linkButton = this.getLinkButton(el);\r\n    } else if (el.id) {\r\n      linkButton = el;\r\n    } else {\r\n      throw new Error(\"Invalid Button or ID\");\r\n    }\r\n\r\n    if (typeof before === \"function\") {\r\n      const result = before();\r\n      if (result === false) return false;\r\n    }\r\n    // this.tabs.values().forEach((tab) => {\r\n    for (const tab of this.tabs.values()) {\r\n      if (tab.linkButton.id === linkButton.id) {\r\n        tab.selected = true;\r\n        this.tab = tab;\r\n        document.getElementById(tab.pageId).style.visibility = \"visible\";\r\n      } else {\r\n        tab.selected = false;\r\n        document.getElementById(tab.pageId).style.visibility = \"hidden\";\r\n      }\r\n    }\r\n    this.applySelection(linkButton);\r\n    if (!this.isLinkVisible(linkButton)) {\r\n      this.scrollLinkIntoView(linkButton);\r\n    }\r\n    this.Event.fire(\"select\", this.tab);\r\n\r\n    return this.tab;\r\n  }\r\n\r\n  close(el) {\r\n    let tabId = el;\r\n    if (!el) {\r\n      throw new Error(\"Invalid tab address:\");\r\n    } else if (typeof id === \"string\") {\r\n      // tab id\r\n    } else if (el.id) {\r\n      tabId = el.id; // .substr(5);//button Element\r\n    }\r\n    const tab = this.tabs.get(tabId);\r\n    const link = tab.linkButton; // this.getLinkButton(tab.linkId);\r\n    const next = link.nextSibling;\r\n    const prev = link.previousSibling;\r\n    this.Event.fire(\"before_close\", tab);\r\n    link.remove();\r\n    document.getElementById(tab.pageId).remove();\r\n    // delete this.links[id];\r\n    delete this.tab;\r\n    this.tabs.delete(tabId);\r\n\r\n    this.Event.fire(\"close\", tab);\r\n    if (next && next.tagName === \"BUTTON\") {\r\n      this.select(next);\r\n    } else if (prev && prev.tagName === \"BUTTON\") {\r\n      this.select(prev);\r\n    }\r\n    this.showHideNavigator();\r\n    this.scroll(true);\r\n    return tabId;\r\n  }\r\n\r\n  isLinkVisible(link) {\r\n    const box = link.getBoundingClientRect();\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return false;\r\n    const box1 = tabbar.getBoundingClientRect();\r\n    return box.left >= box1.left && box.right <= box1.right;\r\n  }\r\n\r\n  getVisibleTabs() {\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return false;\r\n    var links = Array.prototype.slice.call(tabbar.querySelectorAll(\"button\"));\r\n    return links.filter((link) => {\r\n      return this.isLinkVisible(link);\r\n    });\r\n  }\r\n\r\n  getHiddenTabs() {\r\n    var links = Array.prototype.slice.call(\r\n      this.getTabBar().querySelectorAll(\"button\")\r\n    );\r\n    return links.filter((link) => {\r\n      return !this.isLinkVisible(link);\r\n    });\r\n  }\r\n\r\n  scroll(right) {\r\n    if (this.settings.infinite_scroll) {\r\n      this.infiniteScroll(right);\r\n    } else {\r\n      this.finiteScroll(right);\r\n      this.showHideNavigator();\r\n    }\r\n  }\r\n\r\n  scrollLinkIntoView(el) {\r\n    if (this.isLinkVisible(el)) return;\r\n    const max = this.tabs.size;\r\n    let count = 0;\r\n    while (!this.isLinkVisible(el)) {\r\n      this.getRightNavButton().click();\r\n      count++;\r\n      if (count > max) break;\r\n    }\r\n    count = 0;\r\n    while (!this.isLinkVisible(el)) {\r\n      this.getLeftNavButton().click();\r\n      count++;\r\n      if (this.isLinkVisible(el)) return;\r\n      if (count > max) break;\r\n    }\r\n  }\r\n\r\n  finiteScroll(right) {\r\n    this.count = this.count ? this.count : 1;\r\n    this.count++;\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n    if (right && lastVisibleButton && lastVisibleButton.nextSibling) {\r\n      firstVisibleButton.style.display = \"none\";\r\n    } else if (\r\n      !right &&\r\n      firstVisibleButton &&\r\n      firstVisibleButton.previousSibling\r\n    ) {\r\n      firstVisibleButton.previousSibling.style.display = \"\";\r\n    } else {\r\n      const tabbar = this.getTabBar();\r\n      if (!tabbar) return;\r\n      const bts = tabbar.querySelectorAll(\"button\");\r\n      if (bts.length > 0) {\r\n        bts[bts.length - 1].style.display = \"\";\r\n      }\r\n    }\r\n  }\r\n\r\n  infiniteScroll(right) {\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return;\r\n    var links = tabbar.querySelectorAll(\"button\");\r\n    if (links.length > 1) {\r\n      if (right) {\r\n        links[links.length - 1].after(links[0]);\r\n      } else {\r\n        links[0].before(links[links.length - 1]);\r\n      }\r\n    }\r\n  }\r\n\r\n  /* TabView.prototype.fire = function (event, data, cancelable, bubbles){\r\n    let myEvent = new CustomEvent(event, {detail:data, cancelable:cancelable, bubbles:bubbles});\r\n    document.dispatchEvent(myEvent);\r\n  }  ; */\r\n  onBeforeClose(fn, ctx) {\r\n    this.Event.on(\"tab_before_close\", fn, ctx);\r\n  }\r\n\r\n  onClose(fn, ctx) {\r\n    this.Event.on(\"tab_close\", fn, ctx);\r\n  }\r\n\r\n  onSelect(fn, ctx) {\r\n    this.Event.on(\"tab_before_select\", fn, ctx);\r\n  }\r\n\r\n  onBeforeSelect(fn) {\r\n    this.addListener(\"tab_select\", fn);\r\n  }\r\n\r\n  onOpen(fn, ctx) {\r\n    this.Event.on(\"tab_open\", fn, ctx);\r\n  }\r\n\r\n  onBeforeOpen(fn, ctx) {\r\n    this.Event.on(\"tab_before_open\", fn, ctx);\r\n  }\r\n\r\n  destroy() {\r\n    // destroy\r\n    this.removeListeners();\r\n  }\r\n}\r\n// Returns a function, that, as long as it continues to be invoked, will not\r\n// be triggered. The function will be called after it stops being called for\r\n// N milliseconds. If `immediate` is passed, trigger the function on the\r\n// leading edge, instead of the trailing.\r\nTabView.prototype.debounce = function (func, wait, immediate) {\r\n  var timeout;\r\n  return function () {\r\n    var context = this;\r\n    var args = arguments;\r\n    var later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n\r\nTabView.prototype.Emitter = {\r\n  fire(event, data, context, cancelable, bubbles) {\r\n    var cntx = context || document;\r\n    var myEvent = new CustomEvent(event, {\r\n      detail: data,\r\n      cancelable: cancelable || false,\r\n      bubbles: bubbles || false,\r\n    });\r\n    cntx.dispatchEvent(myEvent);\r\n  },\r\n  on(event, listener, context) {\r\n    var cntx = context || document;\r\n    cntx.addEventListener(event, listener);\r\n    // this.off(event, listener, context);\r\n  },\r\n  off(event, listener, context) {\r\n    var cntx = context || document;\r\n    cntx.removeEventListener(event, listener);\r\n  },\r\n};\r\n\r\nTabView.prototype.Event = {\r\n  _listeners: {},\r\n  addListener: function (type, listener) {\r\n    if (typeof this._listeners[type] === \"undefined\") {\r\n      this._listeners[type] = [];\r\n    }\r\n    this._listeners[type].push(listener);\r\n  },\r\n  attach: function (type, listener) {\r\n    this.addListener(type, listener);\r\n  },\r\n  on: function (type, listener) {\r\n    this.addListener(type, listener);\r\n  },\r\n\r\n  fire: function (event, data, target) {\r\n    if (typeof event === \"string\") {\r\n      event = {\r\n        type: event,\r\n        data: data,\r\n        target: target,\r\n      };\r\n    }\r\n    if (!event.target) {\r\n      event.target = this;\r\n    }\r\n    if (!event.type) {\r\n      // falsy\r\n      throw new Error(\"Type error\");\r\n    }\r\n    if (this._listeners[event.type] instanceof Array) {\r\n      const listeners = this._listeners[event.type];\r\n      for (var i = 0, len = listeners.length; i < len; i++) {\r\n        listeners[i].call(this, event);\r\n      }\r\n    }\r\n  },\r\n  trigger: function (type, listener) {\r\n    this.fire(type, listener);\r\n  },\r\n\r\n  removeListener: function (type, listener) {\r\n    if (this._listeners[type] instanceof Array) {\r\n      const listeners = this._listeners[type];\r\n      for (var i = 0, len = listeners.length; i < len; i++) {\r\n        if (listeners[i] === listener) {\r\n          listeners.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  off: function (type, listener) {\r\n    this.removeListener(type, listener);\r\n  },\r\n};\r\n"],"names":["TabView","el","options","tabIndex","currentIndex","links","tabs","Map","buttons","pages","selectedTab","hiddenTabs","generateRandomString","Math","random","toString","slice","createLinkButton","linkId","tabId","pageId","style","title","bg","linkButton","document","createElement","className","setAttribute","outline","height","width","border","fontSize","fontWeight","margin","padding","boxShadow","background","color","cursor","transition","borderRadius","createCloseButton","button","innerHTML","visibility","marginRight","marginLeft","display","alignContent","alignItems","addEventListener","createPage","page","text","position","overflow","top","bottom","left","right","createPagePanel","panel","createLabel","label","paddingRight","paddingLeft","verticalAlign","maxWidth","whiteSpace","append","createTextNode","createTabBarWraper","tabbarContainer","createBar","tabBar","createTabButton","name","float","btn","id","createImage","img","icon","createLabelContainer","labelContainer","closeBtn","closable","close","parentNode","parentElement","getAttribute","createTable","tabBarWrapper","pagePanel","banner","footer","doc","createDocumentFragment","table","thead","bannerRow","minHeight","maxHeight","th","textAlign","appendChild","tbody","linkRow","settings","tab_height","td","borderCollapse","pageRow","linkRow2","footerRow","firstElementChild","nextSibling","init","Object","assign","data","loadFromMarkup","applySettings","leftBtn","scroll","leftNavId","addBtn","addBtnId","add","Event","fire","tabBarWraper","tabBarId","rtBtn","rightBtn","rightNavId","pagePanelId","addBanner","addFooter","container","getElementById","containerId","theme","attachDomEventListeners","dynamicLoad","toggleNavigator","getLeftNavButton","getRightNavButton","limit","undefined","close_click","infinite_scroll","left_tip","right_tip","add_tip","arguments","selected","forEach","d","tab","getPage","html","zIndex","select","fn","children","Error","markup","length","querySelector","remove","node","push","textContent","target","get","getLinkButton","getCloswButton","lastElementChild","getTabPagePanel","getAddButton","getFooter","footerId","getBanner","bannerId","getTabBar","getContainer","hideExtraTabs","values","numTotal","numVisible","min","i","j","getLinkTarget","e","getTabAtIndex","size","allowDrop","ev","preventDefault","drag","dataTransfer","setData","drop","getData","dataEl","dragStartPoint","dragStopPoint","before","after","justifyContent","mountTab","tabPagePanel","tabbar","prepend","lastChild","bannerBox","getBoundingClientRect","bannerBottom","footerBox","footerTop","index","value","unhide","last","visibles","getVisibleTabs","firstVisible","previousSibling","lastHidden","gap","scrollLinkIntoView","window","debounce","isLinkVisible","showHideNavButton","event","handleKeypress","clientX","code","keyCode","link","blur","visibleButtons","firstVisibleButton","lastVisibleButton","rBtn","lBtn","toggleNavButton","show","toggleAddButton","showHideNavigator","applySelection","tablinks","classList","firstChild","tab_settings","activeBg","activecolor","applyTheme","getSelectedTab","getTab","setContent","content","setTitle","keys","buttonId","Number","set","isFinite","result","next","prev","tagName","box","box1","Array","prototype","call","querySelectorAll","filter","getHiddenTabs","infiniteScroll","finiteScroll","max","count","click","bts","onBeforeClose","ctx","on","onClose","onSelect","onBeforeSelect","addListener","onOpen","onBeforeOpen","destroy","removeListeners","page_settings","func","wait","immediate","timeout","context","args","later","apply","callNow","clearTimeout","setTimeout","Emitter","cancelable","bubbles","cntx","myEvent","CustomEvent","detail","dispatchEvent","listener","off","removeEventListener","_listeners","type","attach","listeners","len","trigger","removeListener","splice"],"mappings":"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"}