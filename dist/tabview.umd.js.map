{"version":3,"file":"tabview.umd.js","sources":["../index.js"],"sourcesContent":["/* jshint esversion: 8 */\r\nconst TabView = (function () {\r\n    function randomId() {\r\n        return Math.random().toString(36).slice(2);\r\n    }\r\n    // Returns a function, that, as long as it continues to be invoked, will not\r\n    // be triggered. The function will be called after it stops being called for\r\n    // N milliseconds. If `immediate` is passed, trigger the function on the\r\n    // leading edge, instead of the trailing.\r\n    function debounce(func, wait, immediate) {\r\n        let timeout;\r\n        return function () {\r\n            const context = this;\r\n            const args = arguments;\r\n            const later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            const callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    }\r\n\r\n    const Emitter = (function () {\r\n        return {\r\n            fire(event, data, context, cancelable, bubbles) {\r\n                const cntx = context || document;\r\n                const myEvent = new CustomEvent(event, {\r\n                    detail: data,\r\n                    cancelable: cancelable || false,\r\n                    bubbles: bubbles || false,\r\n                });\r\n                cntx.dispatchEvent(myEvent);\r\n            },\r\n            on(event, listener, context) {\r\n                const cntx = context || document;\r\n                cntx.addEventListener(event, listener);\r\n            },\r\n            off(event, listener, context) {\r\n                const cntx = context || document;\r\n                cntx.removeEventListener(event, listener);\r\n            },\r\n        };\r\n    })();\r\n\r\n    const Event = (function () {\r\n        const _listeners = {};\r\n        return {\r\n            addListener (type, listener) {\r\n                if (typeof _listeners[type] === \"undefined\") {\r\n                    this._listeners[type] = [];\r\n                }\r\n                this._listeners[type].push(listener);\r\n            },\r\n            attach (type, listener) {\r\n                this.addListener(type, listener);\r\n            },\r\n            on (type, listener) {\r\n                this.addListener(type, listener);\r\n            },\r\n\r\n            fire (event, data, target) {\r\n                if (typeof event === \"string\") {\r\n                    event = {\r\n                        type: event,\r\n                        data,\r\n                        target,\r\n                    };\r\n                }\r\n                if (!event.target) {\r\n                    event.target = this;\r\n                }\r\n                if (!event.type) {\r\n                    // falsy\r\n                    throw new Error(\"Type error\");\r\n                }\r\n                if (_listeners[event.type] instanceof Array) {\r\n                    const listeners = _listeners[event.type];\r\n                    for (let i = 0, len = listeners.length; i < len; i++) {\r\n                        listeners[i].call(this, event);\r\n                    }\r\n                }\r\n            },\r\n            trigger (type, listener) {\r\n                this.fire(type, listener);\r\n            },\r\n\r\n            removeListener (type, listener) {\r\n                if (_listeners[type] instanceof Array) {\r\n                    const listeners = _listeners[type];\r\n                    for (let i = 0, len = listeners.length; i < len; i++) {\r\n                        if (listeners[i] === listener) {\r\n                            listeners.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            off (type, listener) {\r\n                this.removeListener(type, listener);\r\n            },\r\n        };\r\n    })();\r\n\r\n    function createTabButton(\r\n        linkId,\r\n        tabId,\r\n        { target, fancy, title, bg, data }\r\n    ) {\r\n        const tabBtn = document.createElement(\"button\");\r\n        tabBtn.className = \"tab-link\";\r\n        tabBtn.setAttribute(\"href\", \"#!\");\r\n        tabBtn.setAttribute(\"id\", linkId);\r\n        tabBtn.setAttribute(\"title\", title);\r\n        tabBtn.setAttribute(\"name\", \"tab-link\");\r\n        tabBtn.setAttribute(\"draggable\", \"true\");\r\n        tabBtn.setAttribute(\"data-tab\", tabId);\r\n        tabBtn.setAttribute(\"data-target\", target);\r\n        tabBtn.style.position = \"relative\";\r\n        tabBtn.style.outline = \"none\";\r\n        tabBtn.style.height = \"100%\";\r\n        tabBtn.style.width = \"auto\";\r\n        tabBtn.style.border = \"0 none transparent\";\r\n        tabBtn.style.fontSize = \"12px\";\r\n        tabBtn.style.fontWeight = \"500\";\r\n        tabBtn.style.margin = \"0\";\r\n        tabBtn.style.padding = \"0\";\r\n        tabBtn.style.boxShadow = \"none\";\r\n        tabBtn.style.background = bg || \"inherit\";\r\n        tabBtn.style.color = \"inherit\";\r\n        tabBtn.style.cursor = \"pointer\";\r\n        tabBtn.style.display = \"block\";\r\n        tabBtn.style.transition = \"background .4s\";\r\n        if (style) {\r\n            tabBtn.style.borderRadius = \"8px 1px 0px 0px\";\r\n        } else {\r\n            tabBtn.style.borderRadius = \"1px 1px 0px 0px\";\r\n        }\r\n        tabBtn.addEventListener(\"click\", () => {\r\n            select(tabId);\r\n        });\r\n        return tabBtn;\r\n    }\r\n    function createCloseButton(tabId) {\r\n        const closeBtn = document.createElement(\"a\");\r\n        closeBtn.innerHTML = \"&times\";\r\n        closeBtn.setAttribute(\"name\", \"close-button\");\r\n        closeBtn.setAttribute(\"title\", \"close\");\r\n        closeBtn.style.borderRadius = \"50%\";\r\n        closeBtn.style.visibility = \"hidden\";\r\n        closeBtn.style.height = closeBtn.style.width = \"20px\";\r\n        closeBtn.style.float = \"right\";\r\n        closeBtn.style.marginRight = \"2px\";\r\n        closeBtn.style.marginLeft = \"5px\";\r\n        closeBtn.style.display = \"flex\";\r\n        closeBtn.style.padding = \"2px 0px 0px 4px\";\r\n        closeBtn.style.alignContent = \"center\";\r\n        closeBtn.style.alignItems = \"center\";\r\n        closeBtn.style.fontSize = \"18px\";\r\n        closeBtn.style.color = \"#efefef\";\r\n        closeBtn.style.fontWeight = \"700\";\r\n        closeBtn.style.background = \"transparent\";\r\n        closeBtn.addEventListener(\"mouseenter\", () => {\r\n            closeBtn.style.background = \"#555\";\r\n        });\r\n        closeBtn.addEventListener(\"mouseleave\", () => {\r\n            closeBtn.style.background = \"\";\r\n        });\r\n        closeBtn.addEventListener(\"click\", (e) => {\r\n            close(tabId); // linkButton.getAttribute(\"data-tab\"));\r\n            e.stopImmediatePropagation();\r\n        });\r\n        return closeBtn;\r\n    }\r\n    function createLabel(text, title) {\r\n        const label = document.createElement(\"label\");\r\n        label.setAttribute(\"name\", \"tab-link-label\");\r\n        label.className = \"tab-link-label\";\r\n        label.style.margin = \"0\";\r\n        label.style.paddingRight = \"2px\";\r\n        label.style.paddingLeft = \"2px\";\r\n        label.style.verticalAlign = \"middle\";\r\n        label.style.padding = \"0\";\r\n        label.style.color = \"inherit\";\r\n        label.style.maxWidth = \"80px\";\r\n        label.style.overflow = \"hidden\";\r\n        label.style.whiteSpace = \"nowrap\";\r\n        label.style.background = \"\";\r\n        label.style.cursor = \"pointer\";\r\n        label.style.fontSize = \"inherit\";\r\n        label.style.fontWeight = \"inherit\";\r\n        label.append(document.createTextNode(text));\r\n        label.setAttribute(\"title\", title || text);\r\n        return label;\r\n    }\r\n    function createTabBarWraper() {\r\n        const tabbarContainer = document.createElement(\"div\");\r\n        tabbarContainer.style.position = \"relative\";\r\n        tabbarContainer.style.height = \"100%\";\r\n        tabbarContainer.style.height = \"100%\";\r\n        tabbarContainer.style.width = \"100%\";\r\n        tabbarContainer.style.border = \"none\";\r\n        tabbarContainer.style.padding = \"none\";\r\n        tabbarContainer.className = \"tabbar-wrapper\";\r\n        return tabbarContainer;\r\n    }\r\n    function createBar() {\r\n        const tabBar = document.createElement(\"div\");\r\n        tabBar.setAttribute(\"id\", randomId());\r\n        tabBar.style.position = \"absolute\";\r\n        tabBar.style.top = \"0\";\r\n        tabBar.style.bottom = \"0\";\r\n        tabBar.style.left = \"60px\";\r\n        tabBar.style.right = \"30px\";\r\n        tabBar.style.overflow = \"hidden\";\r\n        tabBar.style.padding = \"0px\";\r\n        tabBar.style.margin = \"0px\";\r\n        tabBar.style.paddingRight = \"7px\";\r\n        tabBar.style.background = \"inherit\";\r\n        tabBar.style.display = \"flex\";\r\n        tabBar.className = \"tab-bar\";\r\n        return tabBar;\r\n    }\r\n    function createButton(name, text, float) {\r\n        const btn = document.createElement(\"button\");\r\n        btn.id = randomId();\r\n        btn.setAttribute(\"name\", name);\r\n        btn.style.height = \"100%\";\r\n        btn.style.border = \"0 none transparent\";\r\n        btn.style.background = \"transparent\";\r\n        btn.style.color = \"white\";\r\n        btn.marginRight = btn.marginLeft = \"2px\";\r\n        btn.style.padding = \"2px\";\r\n        btn.style.paddingLeft = btn.style.paddingRight = \"7px\";\r\n        btn.style.cursor = \"pointer\";\r\n        btn.style.fontWeight = \"900\";\r\n        btn.style.fontSize = \"14px\";\r\n        btn.style.float = float || \"none\";\r\n        btn.style.outline = \"none\";\r\n        btn.innerHTML = text;\r\n        btn.style.borderRadius = \"4px 4px\";\r\n        return btn;\r\n    }\r\n    function createImage(options) {\r\n        const img = document.createElement(\"span\");\r\n        img.style.marginRight = \"7px\";\r\n        img.style.color = \"#b00\";\r\n        img.style.fontWeight = \"bold\";\r\n        img.innerHTML = options.icon || \"kb\";\r\n        img.style.float = \"left\";\r\n        return img;\r\n    }\r\n    function createLabelContainer(options) {\r\n        const labelContainer = document.createElement(\"label\");\r\n        labelContainer.setAttribute(\"name\", \"tab-link-label-wraper\");\r\n        labelContainer.style.display = \"flex\";\r\n        labelContainer.style.alignContent = \"center\";\r\n        labelContainer.style.alignItems = \"center\";\r\n        labelContainer.style.padding = \"2px\";\r\n        labelContainer.style.height = \"100%\";\r\n        labelContainer.style.width = \"100%\";\r\n        labelContainer.style.color = \"inherit\";\r\n        labelContainer.style.background = \"transparent\";\r\n        labelContainer.style.cursor = \"pointer\";\r\n\r\n        return labelContainer;\r\n    }\r\n    function createTable(tabBarWrapper, pagePanel, settings = {}) {\r\n        let banner; let footer;\r\n        if (settings.banner) {\r\n            banner = addBanner();\r\n        }\r\n        if (settings.footer) {\r\n            footer = addFooter();\r\n        }\r\n        const doc = document.createDocumentFragment();\r\n        const table = document.createElement(\"table\");\r\n        table.style.width = table.style.height = \"100%\";\r\n        doc.append(table);\r\n\r\n        const thead = document.createElement(\"thead\");\r\n        table.append(thead);\r\n\r\n        const bannerRow = document.createElement(\"tr\");\r\n        bannerRow.style.minHeight = \"0px\";\r\n        bannerRow.style.maxHeight = \"80px\";\r\n        thead.append(bannerRow);\r\n        const th = document.createElement(\"th\");\r\n        // th.setAttribute('colspan',3);\r\n        th.style.textAlign = \"left\";\r\n        th.style.padding = \"0\";\r\n        if (banner) {\r\n            th.append(banner);\r\n        } else {\r\n            bannerRow.style.display = \"none\";\r\n        }\r\n        bannerRow.appendChild(th);\r\n\r\n        const tbody = document.createElement(\"tbody\");\r\n        table.append(tbody);\r\n\r\n        const linkRow = document.createElement(\"tr\");\r\n        linkRow.style.minHeight = \"24px\";\r\n        linkRow.style.height = `${settings.tabHeight  }px`;\r\n        linkRow.style.padding = \"0\";\r\n        tbody.append(linkRow);\r\n\r\n        let td = document.createElement(\"td\");\r\n        td.style.overflow = \"hidden\";\r\n        td.style.whiteSpace = \"nowrap\";\r\n        td.style.textAlign = \"left\";\r\n        td.style.padding = \"0\";\r\n        td.append(tabBarWrapper);\r\n        linkRow.appendChild(td);\r\n        table.style.borderCollapse =\r\n            linkRow.style.borderCollapse =\r\n            td.style.borderCollapse =\r\n                \"collapse\";\r\n        table.style.border =\r\n            linkRow.style.border =\r\n            td.style.border =\r\n                \"0 none transparent\";\r\n\r\n        const pageRow = document.createElement(\"tr\");\r\n        tbody.append(pageRow);\r\n        td = document.createElement(\"td\");\r\n        td.append(pagePanel);\r\n        td.style.textAlign = \"left\";\r\n        td.style.padding = \"0\";\r\n        pageRow.appendChild(td);\r\n\r\n        const linkRow2 = document.createElement(\"tr\");\r\n        tbody.append(linkRow2);\r\n        td = document.createElement(\"td\");\r\n        td.style.textAlign = \"left\";\r\n        td.style.padding = \"0\";\r\n        linkRow2.appendChild(td);\r\n        linkRow2.style.minHeight = \"24px\";\r\n        linkRow2.style.height = `${settings.tabHeight  }px`;\r\n\r\n        const footerRow = document.createElement(\"tr\");\r\n        tbody.append(footerRow);\r\n        td = document.createElement(\"td\");\r\n        footerRow.appendChild(td);\r\n        footerRow.style.maxHeight = \"24px\";\r\n        td = document.createElement(\"td\");\r\n        td.style.padding = \"0\";\r\n        if (footer) {\r\n            td.append(footer || document.createTextNode(\"\"));\r\n        } else {\r\n            footerRow.style.display = \"none\";\r\n        }\r\n        footerRow.appendChild(td);\r\n        td = document.createElement(\"td\");\r\n        td.style.padding = \"0\";\r\n        footerRow.appendChild(td);\r\n        if (settings.bottom) {\r\n            linkRow2.firstElementChild.nextSibling.appendChild(tabBarWrapper);\r\n            linkRow.style.display = \"none\";\r\n        } else {\r\n            linkRow2.style.display = \"none\";\r\n        }\r\n        return doc;\r\n    }\r\n    function createPage(pageId, tabId, linkId, options) {\r\n        const page = document.createElement(\"div\");\r\n        page.setAttribute(\"id\", pageId);\r\n        page.setAttribute(\"data-tab\", tabId);\r\n        page.setAttribute(\"data-trigger\", linkId);\r\n        page.innerHTML = options.text || \"\";\r\n        page.style.position = \"absolute\";\r\n        page.style.padding = \"8px 16px\";\r\n        page.style.visibility = \"hidden\";\r\n        page.style.overflow = \"auto\";\r\n        page.style.top =\r\n            page.style.bottom =\r\n            page.style.left =\r\n            page.style.right =\r\n                \"0\";\r\n        // page.style.top='0'; do not specify top!!!\r\n        page.style.background = options.bg || \"\";\r\n        return page;\r\n    }\r\n    function createPagePanel() {\r\n        const panel = document.createElement(\"div\");\r\n        panel.setAttribute(\"id\", randomId());\r\n        panel.style.position = \"relative\";\r\n        panel.className = \"tab-panel\";\r\n        panel.style.width = \"100%\";\r\n        panel.style.height = \"100%\";\r\n        panel.style.overflow = \"hidden\";\r\n        panel.style.margin = \"0\";\r\n        panel.style.top = \"0\";\r\n        panel.style.background = \"\";\r\n        return panel;\r\n    }\r\n    function loadFromMarkup(el, fn) {\r\n        if (typeof el === \"string\") {\r\n            el = document.getElementById(el);\r\n        }\r\n        if (!el || !el.children)\r\n            throw new Error(\"Invalid element to load markup\");\r\n        const markup = el.children;\r\n        // let doc=document.createDocumentFragment();\r\n        if (!markup || markup.length === 0) return fn();\r\n        const banner = el.querySelector(\".tab-banner\");\r\n        const footer = el.querySelector(\".tab-footer\");\r\n        const links = el.querySelector(\".tab-links\").children;\r\n        const pages = el.querySelector(\".tab-pages\").children;\r\n        const data = {\r\n            banner: banner.innerHTML,\r\n            footer: footer.innerHTML,\r\n            tabs: [],\r\n        };\r\n        if (banner) banner.remove();\r\n        if (footer) footer.remove();\r\n\r\n        while (links.length > 0) {\r\n            const node = links[0];\r\n            const page = pages[0];\r\n            if (!node) continue;\r\n            data.tabs.push({\r\n                id: node.id !== \"\" ? node.id : null,\r\n                label: node.textContent,\r\n                title: node.getAttribute(\"title\"),\r\n                closable: node.getAttribute(\"closable\"),\r\n                target: node.getAttribute(\"data-target\"),\r\n                selected: node.getAttribute(\"selected\"),\r\n                html: page ? page.innerHTML : \"\",\r\n                bg: page ? page.style.background : \"#0bc\",\r\n                style: node.getAttribute(\"tab-style\"),\r\n            });\r\n            node.remove();\r\n            page.remove();\r\n        }\r\n        return data;\r\n    }\r\n    function addFooter() {\r\n        const footer = document.createElement(\"span\");\r\n        footer.setAttribute(\"name\", \"tab-footer\");\r\n        footer.innerHTML = settings.footer;\r\n        footer.className = \"tab-footer\";\r\n        footer.style.left = \"0\";\r\n        footer.style.right = \"0\";\r\n        footer.style.bottom = \"0\";\r\n        footer.style.padding = \"2px\";\r\n        footer.style.display = \"flex\";\r\n        footer.style.justifyContent = \"center\";\r\n        footer.style.alignItems = \"center\";\r\n        // footer.style.background='#030';\r\n        // footer.style.borderTop='1px solid #020';\r\n\r\n        return footer;\r\n    }\r\n    function addBanner() {\r\n        const banner = document.createElement(\"span\");\r\n        banner.setAttribute(\"name\", \"tab-banner\");\r\n        banner.innerHTML =\r\n            typeof settings.banner === \"string\"\r\n                ? settings.banner\r\n                : settings.banner.innerHTML;\r\n        banner.style.display = \"flex\";\r\n        banner.style.padding = \"5px\";\r\n        banner.style.justifyContent = \"center\";\r\n        banner.style.alignItems = \"center\";\r\n        banner.className = \"tab-banner\";\r\n        banner.style.background = \"green\";\r\n\r\n        return banner;\r\n    }\r\n    function mountTab(el, doc, tabPagePanel) {\r\n        const container =\r\n            typeof el === \"object\" ? el : document.getElementById(el);\r\n        containerId = container.id;\r\n\r\n        container.appendChild(tabPagePanel);\r\n\r\n        const tabbar = doc.querySelector(\"div\");\r\n        let banner; let footer;\r\n        if (settings.banner) {\r\n            banner = addBanner(container);\r\n            container.prepend(banner);\r\n        }\r\n        if (settings.bottom) {\r\n            container.lastChild.after(doc);\r\n        } else {\r\n            container.lastChild.before(doc);\r\n        }\r\n        if (settings.footer) {\r\n            footer = addFooter(container);\r\n            container.lastChild.after(footer);\r\n        }\r\n        // container.style.height='100%';\r\n        // container.style.width='100%';\r\n        container.style.top =\r\n            container.style.bottom =\r\n            container.style.left =\r\n            container.style.right =\r\n                \"0\";\r\n        const bannerBox = banner ? banner.getBoundingClientRect() : null;\r\n        const bannerBottom = banner ? bannerBox.bottom - bannerBox.top : 0;\r\n\r\n        const footerBox = footer ? footer.getBoundingClientRect() : null;\r\n        const footerTop = footer ? footerBox.bottom - footerBox.top : 0;\r\n\r\n        if (settings.bottom) {\r\n            // tab bar is at bottom oftab window\r\n            tabbar.style.bottom = `${footerTop  }px`;\r\n        } else {\r\n            tabbar.style.top = `${bannerBottom  }px`;\r\n        }\r\n        tabbar.style.border = \"0px none transparent\";\r\n        tabPagePanel.style.border = \"0px none transparent\";\r\n    }\r\n    function applySelection(el, options) {\r\n        if (!el || !el.parentElement) {\r\n            return;\r\n        }\r\n        const tablinks = el.parentElement.children;\r\n        // console.log(el.parentElement.parentElement);\r\n        for (let i = 0; i < tablinks.length; i++) {\r\n            tablinks[i].classList.remove(\"active\");\r\n            tablinks[i].style.background = options.bg;\r\n            tablinks[i].style.color = options.color;\r\n            // tablinks[i].lastChild.lastChild.style.visibility = \"hidden\";\r\n        }\r\n\r\n        el.classList.add(\"active\");\r\n        el.style.background = options.activeBg;\r\n        el.style.color = options.activecolor;\r\n        // el.lastChild.lastChild.style.visibility = \"visible\";\r\n    }\r\n    const createTabs = function (el, options) {\r\n        const tabIndex = -1;\r\n        const currentIndex = 0;\r\n        let selectedTab;\r\n            let tabBar;\r\n            let rightBtn;\r\n            let leftBtn;\r\n            let addBtn;\r\n            let leftNavId;\r\n            let rightNavId;\r\n            let pagePanelId;\r\n            let addBtnId;\r\n            let tabBarId;\r\n            let themeOptions;\r\n            let tabSettings;\r\n            let containerId;\r\n            let tabButtonsCount;\r\n            let dragStartPoint;\r\n            let dragStopPoint;\r\n        const links = {};\r\n        const tabs = new Map();\r\n        const buttons = {};\r\n        const pages = {};\r\n        const hiddenTabs = [];\r\n\r\n        init(el, options);\r\n        /**\r\n         * Initialize tab container\r\n         * @param {HTMLElement} el HTMLElement to attach tabs\r\n         * @param {Object} options Additional settings\r\n         * @returns void\r\n         */\r\n        function init(el, options) {\r\n            themeOptions = { ...options};\r\n            const data = options.loadFromMarkup ? loadFromMarkup(el) : null;\r\n            if (data) {\r\n                themeOptions = Object.assign(themeOptions, data);\r\n            }\r\n            applySettings(themeOptions);\r\n            leftBtn = createButton(\"left-nav-button\", \"&lt;\", \"left\");\r\n            leftBtn.addEventListener(\"click\", () => {\r\n                scroll(false);\r\n            });\r\n\r\n            leftNavId = leftBtn.id;\r\n            addBtn = createButton(\"add-tab-button\", \"+\", \"left\");\r\n            addBtnId = addBtn.id;\r\n            if (themeOptions.add) {\r\n                addBtn.style.visibility = \"visible\";\r\n            } else {\r\n                addBtn.style.visibility = \"hidden\";\r\n            }\r\n            addBtn.addEventListener(\"click\", () => {\r\n                Event.fire(\"add-tab-click\", randomId());\r\n            });\r\n            tabBar = createBar();\r\n            const tabBarWraper = createTabBarWraper();\r\n            tabBarWraper.append(tabBar);\r\n            tabBarWraper.appendChild(leftBtn);\r\n            tabBarWraper.appendChild(addBtn);\r\n            tabBarId = tabBar.id;\r\n\r\n            rightBtn = createButton(\"right-nav-button\", \"&gt;\", \"right\");\r\n            // rightBtn = rightBtn;\r\n            tabBarWraper.appendChild(rightBtn);\r\n            rightBtn.addEventListener(\"click\", () => {\r\n                scroll(true);\r\n            });\r\n            // tabBarWraper.appendChild(rightBtn);\r\n            rightNavId = rightBtn.id;\r\n            const pagePanel = createPagePanel();\r\n            pagePanelId = pagePanel.id;\r\n            // let tabbar= doc.querySelector('div');\r\n            const doc = createTable(\r\n                tabBar.parentElement,\r\n                pagePanel,\r\n                themeOptions\r\n            );\r\n            const container =\r\n                typeof el === \"object\" ? el : document.getElementById(el);\r\n            containerId = container.id;\r\n            container.append(doc);\r\n            setTheme(themeOptions.theme);\r\n            attachDomEventListeners(this);\r\n            if (themeOptions.tabs) {\r\n                dynamicLoad(themeOptions.tabs);\r\n            }\r\n            toggleNavigator(getLeftNavButton(), false);\r\n            toggleNavigator(getRightNavButton(), false);\r\n        }\r\n\r\n        function getTabAtIndex(index) {\r\n            let tab = null;\r\n            let i = 0;\r\n            for (const value of tabs.values()) {\r\n                if (i === index) {\r\n                    tab = value;\r\n                    break;\r\n                }\r\n                i++;\r\n            }\r\n            return tab;\r\n        }\r\n\r\n        function unhide() {\r\n            // const tabs = tabs.entries()\r\n            const last = getTabAtIndex(tabs.size - 1).linkButton;\r\n            const visibles = getVisibleTabs();\r\n            const firstVisible = visibles[0];\r\n            if (!firstVisible.previousSibling) return;\r\n            // let lastVisible=visibles[visibles.length-1];\r\n            const lastHidden = firstVisible.previousSibling || firstVisible;\r\n            const {width} = lastHidden.getBoundingClientRect();\r\n            const gap =\r\n                tabBar.getBoundingClientRect().right -\r\n                last.getBoundingClientRect().right;\r\n            if (width < gap) {\r\n                scrollLinkIntoView(lastHidden);\r\n            }\r\n        }\r\n\r\n        function attachDomEventListeners() {\r\n            // let self = this\r\n            const tabBar = getTabBar();\r\n            window.addEventListener(\"resize\", () => {\r\n                debounce(() => {\r\n                    if (!selectedTab) return false;\r\n                    if (!isLinkVisible(selectedTab.linkButton)) {\r\n                        scrollLinkIntoView(selectedTab.linkButton);\r\n                    } else {\r\n                        unhide();\r\n                        scrollLinkIntoView(selectedTab.linkButton);\r\n                    }\r\n                    showHideNavButton();\r\n                }, 200)();\r\n            });\r\n\r\n            tabBar.addEventListener(\r\n                \"keyup\",\r\n                (event) => {\r\n                    handleKeypress(event);\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\r\n                \"drop\",\r\n                (event) => {\r\n                    event.preventDefault();\r\n\r\n                    dragStopPoint = event.clientX;\r\n                    drop(event);\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\r\n                \"dragover\",\r\n                (event) => {\r\n                    event.preventDefault();\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\"dragstart\", (event) => {\r\n                dragStartPoint = event.clientX;\r\n                drag(event);\r\n            });\r\n        }\r\n\r\n        function handleKeypress(e) {\r\n            const code = e.keyCode;\r\n            const link = selectedTab.button;\r\n            // eslint-disable-next-line default-case\r\n            if (!link) return;\r\n            switch (code) {\r\n                case 37:\r\n                    if (link.previousSibling) {\r\n                        select(link.previousSibling);\r\n                    }\r\n                    break; // left key\r\n                case 39:\r\n                    if (link.nextSibling) {\r\n                        select(link.nextSibling);\r\n                    }\r\n                    break; // right key\r\n                case 38:\r\n                    break; // up key\r\n                case 40:\r\n                    link.blur();\r\n                    break; // down key\r\n                case 13:\r\n                    break; // enter key\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        function showHideNavButton() {\r\n            // console.log(settings);\r\n            if (themeOptions.infiniteScroll) {\r\n                return;\r\n            }\r\n            const visibleButtons = getVisibleTabs();\r\n            const firstVisibleButton = visibleButtons[0];\r\n            const lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n            if (!firstVisibleButton) return;\r\n            const rBtn = getRightNavButton();\r\n            const lBtn = getLeftNavButton();\r\n            if (firstVisibleButton.previousSibling) {\r\n                toggleNavButton(rBtn, true);\r\n            } else {\r\n                toggleNavButton(lBtn, false);\r\n            }\r\n            if (lastVisibleButton.nextSibling) {\r\n                toggleNavButton(rBtn, true);\r\n            } else {\r\n                toggleNavButton(rBtn, false);\r\n            }\r\n        }\r\n\r\n        function toggleNavButton(el, show) {\r\n            if (show) {\r\n                el.style.visibility = \"visible\";\r\n            } else {\r\n                el.style.visibility = \"hidden\";\r\n            }\r\n        }\r\n\r\n        function toggleAddButton(show) {\r\n            if (show) {\r\n                getAddButton().style.visibility = \"visible\";\r\n            } else {\r\n                getAddButton().style.visibility = \"hidden\";\r\n            }\r\n        }\r\n\r\n        function showHideNavigator() {\r\n            const visibleButtons = getVisibleTabs();\r\n            const firstVisibleButton = visibleButtons[0];\r\n            const lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n            if (!firstVisibleButton) return;\r\n            if (firstVisibleButton.previousSibling) {\r\n                toggleNavigator(getLeftNavButton(), true);\r\n            } else {\r\n                toggleNavigator(getLeftNavButton(), false);\r\n            }\r\n            if (lastVisibleButton.nextSibling) {\r\n                toggleNavigator(getRightNavButton(), true);\r\n            } else {\r\n                toggleNavigator(getRightNavButton(), false);\r\n            }\r\n        }\r\n\r\n        function applyTheme(options) {\r\n            const table = getContainer().querySelector(\"table\");\r\n            table.style.background = options.bg;\r\n            table.style.color = options.color;\r\n            leftBtn.style.color =\r\n                rightBtn.style.color =\r\n                addBtn.style.color =\r\n                    options.color;\r\n        }\r\n\r\n        // Public API\r\n        /** *\r\n         * @param theme String\r\n         * @returns null\r\n         */\r\n        function setTheme(theme) {\r\n            let color = \"#ddd\";\r\n            let bg = \"#222\";\r\n            let activecolor = \"#ddd\";\r\n            let activeBg = \"#003355\";\r\n            switch (theme) {\r\n                case \"dark\":\r\n                    bg = \"#002255\";\r\n                    activeBg = \"#003355\";\r\n                    color = \"#fff\";\r\n                    break;\r\n                case \"black\":\r\n                    bg = \"#111\";\r\n                    activeBg = \"#333\";\r\n                    color = \"#fff\";\r\n                    break;\r\n                case \"blue\":\r\n                    bg = \"rgba(8, 68, 117, 1)\";\r\n                    activeBg = \"rgba(10, 100, 186, 1)\";\r\n                    break;\r\n                case \"green\":\r\n                    bg = \"rgba(0, 149, 120, 1)\";\r\n                    activeBg = \"#054\";\r\n                    break;\r\n                case \"red\":\r\n                    bg = \"rgb(120, 0, 30)\";\r\n                    activeBg = \"rgb(123, 0, 50)\";\r\n                    break;\r\n                case \"white\":\r\n                    bg = \"#bcd\";\r\n                    color = \"#000\";\r\n                    activecolor = \"#eee\";\r\n                    break;\r\n                default:\r\n                    bg = \"rgba(10, 100, 186, 1)\";\r\n                    activeBg = \"rgba(10, 100, 206, 1)\";\r\n                    color = \"#fff\";\r\n                    break;\r\n            }\r\n            tabSettings = {\r\n                bg,\r\n                color,\r\n                activecolor,\r\n                activeBg,\r\n            };\r\n            applyTheme(tabSettings);\r\n        }\r\n\r\n        function getTheme() {\r\n            return themeOptions.theme;\r\n        }\r\n\r\n        function toggleNavigator(el, show) {\r\n            if (show) {\r\n                el.style.visibility = \"visible\";\r\n            } else {\r\n                el.style.visibility = \"hidden\";\r\n            }\r\n        }\r\n\r\n        function getSelectedTab() {\r\n            return selectedTab;\r\n        }\r\n\r\n        function getTab(tabId) {\r\n            return tabs.get(tabId);\r\n        }\r\n\r\n        function setContent(id, content) {\r\n            const page = tabs.get(id).pageId;\r\n            document.getElementById(page).innerHTML = content;\r\n        }\r\n\r\n        function setTitle(id, title) {\r\n            const link = tabs.get(id).linkId;\r\n            document.getElementById(link).firstElementChild.innerHTML = title;\r\n        }\r\n        function applySettings(options) {\r\n            const mySettings = {\r\n                limit: undefined,\r\n                banner: undefined,\r\n                footer: undefined,\r\n                closeOnClick: undefined,\r\n                infiniteScroll: false,\r\n                fancy: false,\r\n                add: false,\r\n                // width   : '100%',\r\n                // height  : '100%',\r\n                theme: \"\",\r\n                tabHeight: 32,\r\n                leftTooltip: \"&lt;\",\r\n                rightTooltip: \"&gt;\",\r\n                addTooltip: \"+\",\r\n                data: null,\r\n            };\r\n\r\n            themeOptions = Object.assign(mySettings, options);\r\n        }\r\n        function dynamicLoad(tabs) {\r\n            if (!tabs) return;\r\n            let selected = null;\r\n            tabs.forEach((d) => {\r\n                if (d.selected) {\r\n                    selected = d.id;\r\n                }\r\n                const tab = add(d);\r\n                const page = getPage(tab.id);\r\n                // page.parentElement.style.top='80px';\r\n                // page.background='#054';\r\n                page.innerHTML =\r\n                    typeof d.html === \"function\" ? d.html() : d.html;\r\n                page.setAttribute(\"contenteditable\", true);\r\n                page.style.overflow = \"auto\";\r\n                page.style.zIndex = \"100\";\r\n            });\r\n            if (selected) {\r\n                select(selected);\r\n            }\r\n        }\r\n\r\n        function getPage(tabId) {\r\n            const tab = tabs.get(tabId);\r\n            return document.getElementById(tab.pageId);\r\n        }\r\n\r\n        function getLinkButton(linkId) {\r\n            return document.getElementById(linkId);\r\n        }\r\n\r\n        function getCloswButton(id) {\r\n            const linkButton = getLinkButton(id);\r\n            return linkButton ? linkButton.lastElementChild() : null;\r\n        }\r\n\r\n        function getTabPagePanel() {\r\n            return document.getElementById(pagePanelId);\r\n        }\r\n\r\n        function getRightNavButton() {\r\n            return rightBtn;\r\n        }\r\n\r\n        function getLeftNavButton() {\r\n            return leftBtn;\r\n        }\r\n\r\n        function getAddButton() {\r\n            return addBtn;\r\n        }\r\n\r\n        function getFooter() {\r\n            return document.getElementById(footerId);\r\n        }\r\n\r\n        function getBanner() {\r\n            return document.getElementById(bannerId);\r\n        }\r\n\r\n        function getTabBar() {\r\n            return document.getElementById(tabBarId);\r\n        }\r\n\r\n        function getContainer() {\r\n            return document.getElementById(containerId);\r\n        }\r\n        function hideExtraTabs() {\r\n            const links = Object.values(links);\r\n            const numTotal = links.length;\r\n            const numVisible = Math.min(numTotal, themeOptions.limit);\r\n            for (let i = 0; i < links.length; i++) {\r\n                links[i].style.display = \"none\"; // hide xo tabs.\r\n            }\r\n            for (let j = 0; j < numVisible; j++) {\r\n                links[j].style.display = \"inline\"; // Show visible tabs.\r\n            }\r\n        }\r\n\r\n        function getLinkTarget(el) {\r\n            try {\r\n                while (el.name !== \"tab-link\") {\r\n                    el = el.parentElement;\r\n                }\r\n                return el;\r\n            } catch (e) {\r\n                // const length = tabs.size - 1\r\n                return getTabAtIndex(tabs.size - 1).linkButton;\r\n                // Object.values(tabs)[length].linkButton\r\n            }\r\n        }\r\n\r\n        function allowDrop(ev) {\r\n            ev.preventDefault();\r\n        }\r\n\r\n        function drag(ev) {\r\n            ev.dataTransfer.setData(\"text\", ev.target.id);\r\n        }\r\n\r\n        function drop(ev) {\r\n            ev.preventDefault();\r\n            const data = ev.dataTransfer.getData(\"text\");\r\n            // do not drop on label wrappers or close button\r\n            const target = getLinkTarget(ev.target);\r\n            const dataEl = document.getElementById(data);\r\n\r\n            if (dragStartPoint > dragStopPoint) {\r\n                target.before(dataEl);\r\n            } else {\r\n                target.after(dataEl);\r\n            }\r\n            // target.parentNode.insertBefore(dataEl,dragStartPoint>dragStopPoint?target:target.nextSibling);\r\n        }\r\n        function add(options = {}) {\r\n            const {length} = Object.keys(buttons);\r\n            const tabId = options.tabId || randomId();\r\n            const buttonId = `tab-btn-${  tabId}`;\r\n            const target = `tab-page-${  tabId}`;\r\n            const tabLabel = options.label || `Tab${  Number(length + 1)}`;\r\n            const title = options.title || tabLabel;\r\n\r\n            const settings = {\r\n                buttonId,\r\n                target,\r\n                label: tabLabel,\r\n                title,\r\n                html: options.html || \"\",\r\n                closable: options.close || true,\r\n                data: options.data || null,\r\n                icon: options.icon || \"\",\r\n                bg: options.bg || \"inherit\",\r\n                color: options.color || \"inherit\",\r\n                fancy: themeOptions.fancy,\r\n            };\r\n            // options.bg = options.bg === \"transparent\" ? \"\" : options.bg;\r\n            // if (options.buttonId === null) {\r\n            // delete options.buttonId;\r\n            // }\r\n            const tabSettings = Object.assign(settings, options);\r\n            const page = createPage(\r\n                tabSettings.target,\r\n                tabId,\r\n                buttonId,\r\n                tabSettings\r\n            );\r\n\r\n            getTabPagePanel().appendChild(page);\r\n            const tabBtn = createTabButton(buttonId, tabId, tabSettings);\r\n            const labelContainer = createLabelContainer(tabSettings);\r\n            const img = createImage(tabSettings);\r\n            const label = createLabel(tabSettings.label, tabSettings.title);\r\n            const closeBtn = createCloseButton(tabId);\r\n\r\n            if (!tabSettings.closable) {\r\n                closeBtn.style.display = \"none\";\r\n                labelContainer.style.paddingRight = \"7px\";\r\n            }\r\n            labelContainer.append(img);\r\n            labelContainer.append(label);\r\n            labelContainer.append(closeBtn);\r\n            tabBtn.append(labelContainer);\r\n\r\n            tabBtn.addEventListener(\"mouseenter\", () => {\r\n                if (selectedTab.linkButton.id === tabBtn.id) return;\r\n                closeBtn.style.visibility = \"visible\";\r\n            });\r\n\r\n            tabBtn.addEventListener(\"mouseleave\", () => {\r\n                if (selectedTab.linkButton.id === tabBtn.id) return;\r\n                closeBtn.style.visibility = \"hidden\";\r\n            });\r\n\r\n            buttons[tabBtn.id] = tabBtn;\r\n            // If there was a selected button already, insert after it\r\n            // otherwise append at the end of tab list\r\n            if ((selectedTab = getSelectedTab())) {\r\n                // tab.selected=false;\r\n                selectedTab.linkButton.after(tabBtn);\r\n                // getLinkButton(tab.linkId).after(linkButton);\r\n            } else {\r\n                getTabBar().appendChild(tabBtn);\r\n            }\r\n            tabs.set(tabId, {\r\n                id: tabId,\r\n                label: tabSettings.label,\r\n                text: tabSettings.text,\r\n                title: tabSettings.title,\r\n                linkId: tabSettings.buttonId,\r\n                pageId: tabSettings.target,\r\n                data: tabSettings.data,\r\n                selected: tabSettings.selected,\r\n                linkButton: tabBtn,\r\n                page,\r\n            });\r\n            selectedTab = tabs.get(tabId);\r\n            showHideNavButton();\r\n            select(tabBtn);\r\n            if (tabSettings.selected) {\r\n                return selectedTab;\r\n            }\r\n            return selectedTab;\r\n        }\r\n\r\n        function select(ref, before) {\r\n            let linkButton = null;\r\n            console.log(typeof ref);\r\n            console.log(ref instanceof HTMLElement);\r\n            if (!ref) {\r\n                throw new Error(\"Invalid tab address:\");\r\n            } else if (typeof ref === \"string\") {\r\n                const id = ref;\r\n                linkButton = getLinkButton(id);\r\n            } else if (ref.id) {\r\n                const el = ref;\r\n                linkButton = el;\r\n            } else {\r\n                throw new Error(\"Invalid Button or ID\");\r\n            }\r\n\r\n            if (typeof before === \"function\") {\r\n                const result = before();\r\n                if (result === false) return false;\r\n            }\r\n            for (const tab of tabs.values()) {\r\n                if (tab.linkButton.id === linkButton.id) {\r\n                    tab.selected = true;\r\n                    selectedTab = tab;\r\n                    document.getElementById(tab.pageId).style.visibility =\r\n                        \"visible\";\r\n                    tab.linkButton.lastChild.lastChild.style.visibility =\r\n                        \"visible\";\r\n                    // console.log(tab.linkButton.lastChild.lastChild);\r\n                } else {\r\n                    tab.selected = false;\r\n                    document.getElementById(tab.pageId).style.visibility =\r\n                        \"hidden\";\r\n                    tab.linkButton.lastChild.lastChild.style.visibility =\r\n                        \"hidden\";\r\n                }\r\n            }\r\n            applySelection(linkButton, tabSettings);\r\n            if (!isLinkVisible(linkButton)) {\r\n                scrollLinkIntoView(linkButton);\r\n            }\r\n            Event.fire(\"select\", selectedTab);\r\n\r\n            return selectedTab;\r\n        }\r\n\r\n        function close(el) {\r\n            let tabId = el;\r\n            if (!el) {\r\n                throw new Error(\"Invalid tab address:\");\r\n            } else if (typeof id === \"string\") {\r\n                // tab id\r\n            } else if (el.id) {\r\n                tabId = el.id; // .substr(5);//button Element\r\n            }\r\n            const tab = tabs.get(tabId);\r\n            // console.log(el, tab, tabs);\r\n            if (!tab) return;\r\n            const link = tab.linkButton; // getLinkButton(tab.linkId);\r\n            const next = link.nextSibling;\r\n            const prev = link.previousSibling;\r\n            Event.fire(\"before_close\", tab);\r\n            link.remove();\r\n            document.getElementById(tab.pageId).remove();\r\n            selectedTab = null; // delete selectedTab;\r\n            tabs.delete(tabId);\r\n\r\n            Event.fire(\"close\", tab);\r\n            if (next && next.tagName === \"BUTTON\") {\r\n                select(next);\r\n            } else if (prev && prev.tagName === \"BUTTON\") {\r\n                select(prev);\r\n            }\r\n            showHideNavigator();\r\n            scroll(true);\r\n            return tabId;\r\n        }\r\n\r\n        function isLinkVisible(link) {\r\n            const box = link.getBoundingClientRect();\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return false;\r\n            const box1 = tabbar.getBoundingClientRect();\r\n            return box.left >= box1.left && box.right <= box1.right;\r\n        }\r\n\r\n        function getVisibleTabs() {\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return false;\r\n            const links = Array.prototype.slice.call(\r\n                tabbar.querySelectorAll(\"button\")\r\n            );\r\n            return links.filter((link) => isLinkVisible(link));\r\n        }\r\n\r\n        function getHiddenTabs() {\r\n            const links = Array.prototype.slice.call(\r\n                getTabBar().querySelectorAll(\"button\")\r\n            );\r\n            return links.filter((link) => !isLinkVisible(link));\r\n        }\r\n\r\n        function scroll(right) {\r\n            if (themeOptions.infiniteScroll) {\r\n                infiniteScroll(right);\r\n            } else {\r\n                finiteScroll(right);\r\n                showHideNavigator();\r\n            }\r\n        }\r\n\r\n        function scrollLinkIntoView(el) {\r\n            if (isLinkVisible(el)) return;\r\n            const max = tabs.size;\r\n            let count = 0;\r\n            while (!isLinkVisible(el)) {\r\n                getRightNavButton().click();\r\n                count++;\r\n                if (count > max) break;\r\n            }\r\n            count = 0;\r\n            while (!isLinkVisible(el)) {\r\n                getLeftNavButton().click();\r\n                count++;\r\n                if (isLinkVisible(el)) return;\r\n                if (count > max) break;\r\n            }\r\n        }\r\n\r\n        function finiteScroll(right) {\r\n            tabButtonsCount = tabButtonsCount || 1;\r\n            tabButtonsCount++;\r\n            const visibleButtons = getVisibleTabs();\r\n            const firstVisibleButton = visibleButtons[0];\r\n            const lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n            if (right && lastVisibleButton && lastVisibleButton.nextSibling) {\r\n                firstVisibleButton.style.display = \"none\";\r\n            } else if (\r\n                !right &&\r\n                firstVisibleButton &&\r\n                firstVisibleButton.previousSibling\r\n            ) {\r\n                firstVisibleButton.previousSibling.style.display = \"\";\r\n            } else {\r\n                const tabbar = getTabBar();\r\n                if (!tabbar) return;\r\n                const bts = tabbar.querySelectorAll(\"button\");\r\n                if (bts.length > 0) {\r\n                    bts[bts.length - 1].style.display = \"\";\r\n                }\r\n            }\r\n        }\r\n\r\n        function infiniteScroll(right) {\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return;\r\n            const links = tabbar.querySelectorAll(\"button\");\r\n            if (links.length > 1) {\r\n                if (right) {\r\n                    links[links.length - 1].after(links[0]);\r\n                } else {\r\n                    links[0].before(links[links.length - 1]);\r\n                }\r\n            }\r\n        }\r\n\r\n        function destroy() {\r\n            // destroy\r\n            removeListeners();\r\n        }\r\n        return {\r\n            init,\r\n            add,\r\n            close,\r\n            setTheme,\r\n            getTheme,\r\n            destroy,\r\n        };\r\n    };\r\n    return {\r\n        createTabs,\r\n        randomId,\r\n        Emitter,\r\n        Event,\r\n        debounce,\r\n    };\r\n})();\r\n\r\nexport default TabView;\r\n"],"names":["randomId","Math","random","toString","slice","debounce","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","_listeners","Event","addListener","type","listener","push","attach","on","fire","event","data","target","Error","Array","listeners","i","len","length","call","trigger","removeListener","splice","off","createTabButton","linkId","tabId","title","bg","tabBtn","document","createElement","className","setAttribute","style","position","outline","height","width","border","fontSize","fontWeight","margin","padding","boxShadow","background","color","cursor","display","transition","borderRadius","addEventListener","select","createButton","name","text","float","btn","id","marginRight","marginLeft","paddingLeft","paddingRight","innerHTML","addFooter","footer","settings","left","right","bottom","justifyContent","alignItems","addBanner","banner","createTabs","el","options","selectedTab","tabBar","rightBtn","leftBtn","addBtn","pagePanelId","tabBarId","themeOptions","tabSettings","containerId","dragStartPoint","dragStopPoint","tabs","Map","buttons","init","loadFromMarkup","fn","getElementById","children","markup","querySelector","links","pages","remove","node","page","label","textContent","getAttribute","closable","selected","html","Object","assign","limit","undefined","closeOnClick","infiniteScroll","fancy","add","theme","tabHeight","leftTooltip","rightTooltip","addTooltip","applySettings","scroll","visibility","top","overflow","createBar","tabbarContainer","tabBarWraper","append","appendChild","panel","pagePanel","doc","tabBarWrapper","createDocumentFragment","table","thead","bannerRow","minHeight","maxHeight","th","textAlign","tbody","linkRow","td","whiteSpace","borderCollapse","pageRow","linkRow2","footerRow","createTextNode","firstElementChild","nextSibling","createTable","parentElement","container","setTheme","getTabBar","window","isLinkVisible","linkButton","unhide","scrollLinkIntoView","showHideNavButton","e","link","button","keyCode","previousSibling","blur","handleKeypress","preventDefault","clientX","ev","dataTransfer","getData","getTabAtIndex","size","getLinkTarget","dataEl","before","after","drop","setData","attachDomEventListeners","forEach","d","getPage","zIndex","dynamicLoad","toggleNavigator","getLeftNavButton","getRightNavButton","index","tab","values","last","firstVisible","getVisibleTabs","lastHidden","getBoundingClientRect","visibleButtons","firstVisibleButton","lastVisibleButton","rBtn","lBtn","toggleNavButton","show","showHideNavigator","activecolor","activeBg","applyTheme","get","pageId","keys","buttonId","tabLabel","Number","close","icon","createPage","labelContainer","alignContent","createLabelContainer","img","createImage","verticalAlign","maxWidth","createLabel","closeBtn","stopImmediatePropagation","createCloseButton","set","ref","console","log","HTMLElement","lastChild","tablinks","classList","applySelection","box","tabbar","box1","prototype","querySelectorAll","filter","bts","finiteScroll","max","count","click","next","prev","tagName","getTheme","destroy","removeListeners","Emitter","cancelable","bubbles","cntx","myEvent","CustomEvent","detail","dispatchEvent","removeEventListener"],"mappings":"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"}