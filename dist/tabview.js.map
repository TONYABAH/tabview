{"version":3,"file":"tabview.js","sources":["../index.js"],"sourcesContent":["/* jshint esversion: 8 */\r\nexport default class TabView {\r\n  //  tabs = new Map()\r\n  constructor() {\r\n    this.tabIndex = -1;\r\n    this.currentIndex = 0;\r\n    this.links = {};\r\n    this.tabs = new Map();\r\n    this.buttons = {};\r\n    this.pages = {};\r\n    this.selectedTab = {};\r\n    this.hiddenTabs = [];\r\n  }\r\n\r\n  generateRandomString() {\r\n    return Math.random().toString(36).slice(2);\r\n  }\r\n\r\n  createLinkButton(linkId, tabId, { pageId, style, title }) {\r\n    var linkButton = document.createElement(\"button\");\r\n    linkButton.className = \"tab-link\";\r\n    linkButton.setAttribute(\"href\", \"#!\");\r\n    linkButton.setAttribute(\"id\", linkId);\r\n    linkButton.setAttribute(\"title\", title);\r\n    linkButton.setAttribute(\"name\", \"tab-link\");\r\n    linkButton.setAttribute(\"draggable\", \"true\");\r\n    linkButton.setAttribute(\"data-tab\", tabId);\r\n    linkButton.setAttribute(\"data-target\", pageId);\r\n    linkButton.style.outline = \"none\";\r\n    linkButton.style.height = \"100%\";\r\n    linkButton.style.width = \"auto\";\r\n    linkButton.style.border = \"0 none transparent\";\r\n    linkButton.style.fontSize = \"12px\";\r\n    linkButton.style.fontWeight = \"500\";\r\n    linkButton.style.margin = \"0\";\r\n    linkButton.style.padding = \"0\";\r\n    linkButton.style.boxShadow = \"none\";\r\n    linkButton.style.background = \"inherit\";\r\n    linkButton.style.color = \"inherit\";\r\n    linkButton.style.cursor = \"pointer\";\r\n    linkButton.style.transition = \"background .75s\";\r\n    if (style) {\r\n      linkButton.style.borderRadius = \"8px 1px 0px 0px\";\r\n    } else {\r\n      linkButton.style.borderRadius = \"1px 1px 0px 0px\";\r\n    }\r\n\r\n    return linkButton;\r\n  }\r\n\r\n  createCloseButton() {\r\n    var button = document.createElement(\"a\");\r\n    button.innerHTML = \"&times\";\r\n    button.setAttribute(\"name\", \"close-button\");\r\n    button.setAttribute(\"title\", \"close\");\r\n    button.style.borderRadius = \"50%\";\r\n    button.style.visibility = \"hidden\";\r\n    button.style.height = button.style.width = \"20px\";\r\n    button.style.float = \"right\";\r\n    button.style.marginRight = \"2px\";\r\n    button.style.marginLeft = \"5px\";\r\n    button.style.display = \"flex\";\r\n    button.style.padding = \"2px 0px 0px 4px\";\r\n    button.style.alignContent = \"center\";\r\n    button.style.alignItems = \"center\";\r\n    button.style.fontSize = \"18px\";\r\n    button.style.color = \"#efefef\";\r\n    button.style.fontWeight = \"700\";\r\n    button.style.background = \"transparent\";\r\n    button.addEventListener(\"mouseenter\", function () {\r\n      button.style.background = \"#555\";\r\n    });\r\n    button.addEventListener(\"mouseleave\", function () {\r\n      button.style.background = \"\";\r\n    });\r\n\r\n    return button;\r\n  }\r\n\r\n  createPage(pageId, tabId, linkId, options) {\r\n    var page = document.createElement(\"div\");\r\n    page.setAttribute(\"id\", pageId);\r\n    page.setAttribute(\"data-tab\", tabId);\r\n    page.setAttribute(\"data-trigger\", linkId);\r\n    page.innerHTML = options.text || \"\";\r\n    page.style.position = \"absolute\";\r\n    page.style.padding = \"8px 16px\";\r\n    page.style.visibility = \"hidden\";\r\n    page.style.overflow = \"auto\";\r\n    page.style.top =\r\n      page.style.bottom =\r\n      page.style.left =\r\n      page.style.right =\r\n        \"0\";\r\n    // page.style.top='0'; do not specify top!!!\r\n    page.style.background = options.bg || \"\";\r\n    return page;\r\n  }\r\n\r\n  createPagePanel() {\r\n    var panel = document.createElement(\"div\");\r\n    panel.setAttribute(\"id\", this.generateRandomString());\r\n    panel.style.position = \"relative\";\r\n    panel.className = \"tab-panel\";\r\n    panel.style.width = \"100%\";\r\n    panel.style.height = \"100%\";\r\n    panel.style.overflow = \"hidden\";\r\n    panel.style.margin = \"0\";\r\n    panel.style.top = \"0\";\r\n    panel.style.background = \"\";\r\n    return panel;\r\n  }\r\n\r\n  createLabel(text) {\r\n    var label = document.createElement(\"label\");\r\n    label.setAttribute(\"name\", \"tab-link-label\");\r\n    label.className = \"tab-link-label\";\r\n    label.style.margin = \"0\";\r\n    label.style.paddingRight = \"2px\";\r\n    label.style.paddingLeft = \"2px\";\r\n    label.style.verticalAlign = \"middle\";\r\n    label.style.padding = \"0\";\r\n    label.style.color = \"inherit\";\r\n    label.style.maxWidth = \"80px\";\r\n    label.style.overflow = \"hidden\";\r\n    label.style.whiteSpace = \"nowrap\";\r\n    label.style.background = \"\";\r\n    label.style.cursor = \"pointer\";\r\n    label.style.fontSize = \"inherit\";\r\n    label.style.fontWeight = \"inherit\";\r\n    label.append(document.createTextNode(text));\r\n    // label.setAttribute('title', title || text)\r\n    return label;\r\n  }\r\n\r\n  createTabBarWraper() {\r\n    var tabbarContainer = document.createElement(\"div\");\r\n    tabbarContainer.style.position = \"relative\";\r\n    tabbarContainer.style.height = \"100%\";\r\n    tabbarContainer.style.height = \"100%\";\r\n    tabbarContainer.style.width = \"100%\";\r\n    tabbarContainer.style.border = \"none\";\r\n    tabbarContainer.style.padding = \"none\";\r\n    tabbarContainer.className = \"tabbar-wrapper\";\r\n    return tabbarContainer;\r\n  }\r\n\r\n  createBar() {\r\n    var tabBar = document.createElement(\"div\");\r\n    tabBar.setAttribute(\"id\", this.generateRandomString());\r\n    tabBar.style.position = \"absolute\";\r\n    tabBar.style.top = \"0\";\r\n    tabBar.style.bottom = \"0\";\r\n    tabBar.style.left = \"60px\";\r\n    tabBar.style.right = \"30px\";\r\n    tabBar.style.overflow = \"hidden\";\r\n    tabBar.style.padding = \"0px\";\r\n    tabBar.style.margin = \"0px\";\r\n    tabBar.style.paddingRight = \"7px\";\r\n    tabBar.style.background = \"inherit\";\r\n    tabBar.className = \"tab-bar\";\r\n    return tabBar;\r\n  }\r\n\r\n  createTabButton(name, text, float) {\r\n    const btn = document.createElement(\"button\");\r\n    btn.id = this.generateRandomString();\r\n    btn.setAttribute(\"name\", name);\r\n    btn.style.height = \"100%\";\r\n    btn.style.border = \"0 none transparent\";\r\n    btn.style.background = \"transparent\";\r\n    btn.style.color = \"white\";\r\n    btn.marginRight = btn.marginLeft = \"2px\";\r\n    btn.style.padding = \"2px\";\r\n    btn.style.paddingLeft = btn.style.paddingRight = \"7px\";\r\n    btn.style.cursor = \"pointer\";\r\n    btn.style.fontWeight = \"900\";\r\n    btn.style.fontSize = \"14px\";\r\n    btn.style.float = float || \"none\";\r\n    btn.style.outline = \"none\";\r\n    btn.innerHTML = text;\r\n    btn.style.borderRadius = \"4px 4px\";\r\n    return btn;\r\n  }\r\n\r\n  createImage(options) {\r\n    const img = document.createElement(\"span\");\r\n    img.style.marginRight = \"7px\";\r\n    img.style.color = \"#b00\";\r\n    img.style.fontWeight = \"bold\";\r\n    img.innerHTML = options.icon || \"kb\";\r\n    img.style.float = \"left\";\r\n    return img;\r\n  }\r\n\r\n  createLabelContainer(options) {\r\n    const labelContainer = document.createElement(\"label\");\r\n    labelContainer.setAttribute(\"name\", \"tab-link-label-wraper\");\r\n    labelContainer.style.display = \"flex\";\r\n    labelContainer.style.alignContent = \"center\";\r\n    labelContainer.style.alignItems = \"center\";\r\n    labelContainer.style.padding = \"2px\";\r\n    labelContainer.style.height = \"100%\";\r\n    labelContainer.style.width = \"100%\";\r\n    labelContainer.style.color = \"inherit\";\r\n    labelContainer.style.background = \"transparent\";\r\n    labelContainer.style.cursor = \"pointer\";\r\n    const img = this.createImage(options);\r\n    var closeBtn = this.createCloseButton();\r\n    var label = this.createLabel(options.label, options.title);\r\n    if (!options.closable) {\r\n      closeBtn.style.display = \"none\";\r\n      labelContainer.style.paddingRight = \"7px\";\r\n    }\r\n    labelContainer.append(img);\r\n    labelContainer.append(label);\r\n    labelContainer.append(closeBtn);\r\n    closeBtn.addEventListener(\"click\", () => {\r\n      this.close(\r\n        closeBtn.parentNode.parentElement.getAttribute(\"data-tab\"),\r\n        this\r\n      );\r\n    });\r\n\r\n    return labelContainer;\r\n  }\r\n\r\n  createTable(tabBarWrapper, pagePanel, banner, footer) {\r\n    const doc = document.createDocumentFragment();\r\n    const table = document.createElement(\"table\");\r\n    table.style.width = table.style.height = \"100%\";\r\n    doc.append(table);\r\n\r\n    const thead = document.createElement(\"thead\");\r\n    table.append(thead);\r\n\r\n    const bannerRow = document.createElement(\"tr\");\r\n    bannerRow.style.minHeight = \"0px\";\r\n    bannerRow.style.maxHeight = \"80px\";\r\n    thead.append(bannerRow);\r\n    const th = document.createElement(\"th\");\r\n    // th.setAttribute('colspan',3);\r\n    th.style.textAlign = \"left\";\r\n    th.style.padding = \"0\";\r\n    if (banner) {\r\n      th.append(banner);\r\n    } else {\r\n      bannerRow.style.display = \"none\";\r\n    }\r\n    bannerRow.appendChild(th);\r\n\r\n    const tbody = document.createElement(\"tbody\");\r\n    table.append(tbody);\r\n\r\n    const linkRow = document.createElement(\"tr\");\r\n    linkRow.style.minHeight = \"24px\";\r\n    linkRow.style.height = this.settings.tab_height + \"px\";\r\n    linkRow.style.padding = \"0\";\r\n    tbody.append(linkRow);\r\n\r\n    let td = document.createElement(\"td\");\r\n    td.style.overflow = \"hidden\";\r\n    td.style.whiteSpace = \"nowrap\";\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    td.append(tabBarWrapper);\r\n    linkRow.appendChild(td);\r\n    table.style.borderCollapse =\r\n      linkRow.style.borderCollapse =\r\n      td.style.borderCollapse =\r\n        \"collapse\";\r\n    table.style.border =\r\n      linkRow.style.border =\r\n      td.style.border =\r\n        \"0 none transparent\";\r\n\r\n    const pageRow = document.createElement(\"tr\");\r\n    tbody.append(pageRow);\r\n    td = document.createElement(\"td\");\r\n    td.append(pagePanel);\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    pageRow.appendChild(td);\r\n\r\n    const linkRow2 = document.createElement(\"tr\");\r\n    tbody.append(linkRow2);\r\n    td = document.createElement(\"td\");\r\n    td.style.textAlign = \"left\";\r\n    td.style.padding = \"0\";\r\n    linkRow2.appendChild(td);\r\n    linkRow2.style.minHeight = \"24px\";\r\n    linkRow2.style.height = this.settings.tab_height + \"px\";\r\n\r\n    const footerRow = document.createElement(\"tr\");\r\n    tbody.append(footerRow);\r\n    td = document.createElement(\"td\");\r\n    footerRow.appendChild(td);\r\n    footerRow.style.maxHeight = \"24px\";\r\n    td = document.createElement(\"td\");\r\n    td.style.padding = \"0\";\r\n    if (footer) {\r\n      td.append(footer || document.createTextNode(\"\"));\r\n    } else {\r\n      footerRow.style.display = \"none\";\r\n    }\r\n    footerRow.appendChild(td);\r\n    td = document.createElement(\"td\");\r\n    td.style.padding = \"0\";\r\n    footerRow.appendChild(td);\r\n    if (this.settings.bottom) {\r\n      linkRow2.firstElementChild.nextSibling.appendChild(tabBarWrapper);\r\n      linkRow.style.display = \"none\";\r\n    } else {\r\n      linkRow2.style.display = \"none\";\r\n    }\r\n    return doc;\r\n  }\r\n\r\n  init(el, options) {\r\n    this.settings = Object.assign({}, options);\r\n    const data = options.loadFromMarkup ? this.loadFromMarkup(el) : null;\r\n    if (data) {\r\n      this.settings = Object.assign(this.settings, data);\r\n    }\r\n    this.applySettings(this.settings);\r\n    const leftBtn = this.createTabButton(\"left-nav-button\", \"&lt;\", \"left\");\r\n    this.leftBtn = leftBtn;\r\n    leftBtn.addEventListener(\"click\", () => {\r\n      this.scroll(false);\r\n    });\r\n\r\n    this.leftNavId = leftBtn.id;\r\n    const addBtn = this.createTabButton(\"add-tab-button\", \"+\", \"left\");\r\n    this.addBtn = addBtn;\r\n    this.addBtnId = addBtn.id;\r\n    if (this.settings.add) {\r\n      this.addBtn.style.visibility = \"visible\";\r\n    } else {\r\n      this.addBtn.style.visibility = \"hidden\";\r\n    }\r\n    this.addBtn.addEventListener(\"click\", () => {\r\n      this.Event.fire(\"add-tab-click\", this.generateRandomString());\r\n    });\r\n    const tabBar = this.createBar();\r\n    const tabBarWraper = this.createTabBarWraper();\r\n    tabBarWraper.append(tabBar);\r\n\r\n    tabBarWraper.appendChild(leftBtn);\r\n    tabBarWraper.appendChild(addBtn);\r\n\r\n    this.tabBarId = tabBar.id;\r\n    this.tabBar = tabBar;\r\n\r\n    const rtBtn = this.createTabButton(\"right-nav-button\", \"&gt;\", \"right\");\r\n    this.rightBtn = rtBtn;\r\n    tabBarWraper.appendChild(rtBtn);\r\n    rtBtn.addEventListener(\"click\", () => {\r\n      this.scroll(true);\r\n    });\r\n    // tabBarWraper.appendChild(rtBtn);\r\n    this.rightNavId = rtBtn.id;\r\n    const pagePanel = this.createPagePanel();\r\n    this.pagePanelId = pagePanel.id;\r\n\r\n    // let tabbar= doc.querySelector('div');\r\n\r\n    let banner, footer;\r\n    if (this.settings.banner) {\r\n      banner = this.addBanner();\r\n    }\r\n    if (this.settings.footer) {\r\n      footer = this.addFooter();\r\n    }\r\n\r\n    const doc = this.createTable(\r\n      tabBar.parentElement,\r\n      pagePanel,\r\n      banner,\r\n      footer\r\n    );\r\n    const container = typeof el === \"object\" ? el : document.getElementById(el);\r\n    this.containerId = container.id;\r\n    container.append(doc);\r\n    // The tabBarWraper and tabPagePanel will be appended to tab container\r\n    // this.mountTab(el, doc, tabPagePanel);\r\n    this.theme = this.settings.theme;\r\n    this.attachDomEventListeners(this);\r\n    if (this.settings.tabs) {\r\n      this.dynamicLoad(this.settings.tabs);\r\n    }\r\n    this.toggleNavigator(this.getLeftNavButton(), false);\r\n    this.toggleNavigator(this.getRightNavButton(), false);\r\n\r\n    return this;\r\n  }\r\n\r\n  applySettings(options) {\r\n    const settings = {\r\n      limit: undefined,\r\n      banner: undefined,\r\n      footer: undefined,\r\n      close_click: undefined,\r\n      infinite_scroll: false,\r\n      style: \"normal\",\r\n      // navigation : true,\r\n      add: false,\r\n      // width   : '100%',\r\n      // height  : '100%',\r\n      theme: \"red\",\r\n      tab_height: 32,\r\n      left_tip: \"&lt;\",\r\n      right_tip: \"&gt;\",\r\n      add_tip: \"+\",\r\n      data: null,\r\n    };\r\n\r\n    this.settings = Object.assign({}, settings, options, arguments[1]);\r\n  }\r\n\r\n  dynamicLoad(tabs) {\r\n    if (!tabs) return;\r\n    let selected = null;\r\n    tabs.forEach((d) => {\r\n      if (d.selected) {\r\n        selected = d.id;\r\n      }\r\n      const tab = this.add(d);\r\n      const page = this.getPage(tab.id);\r\n      // page.parentElement.style.top='80px';\r\n      // page.background='#054';\r\n      page.innerHTML = typeof d.html === \"function\" ? d.html() : d.html;\r\n      page.setAttribute(\"contenteditable\", true);\r\n      page.style.overflow = \"auto\";\r\n      page.style.zIndex = \"100\";\r\n    });\r\n    if (selected) {\r\n      this.select(selected);\r\n    }\r\n  }\r\n\r\n  loadFromMarkup(el, fn) {\r\n    if (typeof el === \"string\") {\r\n      el = document.getElementById(el);\r\n    }\r\n    if (!el || !el.children) throw new Error(\"Invalid element to load markup\");\r\n    const markup = el.children;\r\n    // let doc=document.createDocumentFragment();\r\n    if (!markup || markup.length === 0) return fn();\r\n    const banner = el.querySelector(\".tab-banner\");\r\n    const footer = el.querySelector(\".tab-footer\");\r\n    const links = el.querySelector(\".tab-links\").children;\r\n    const pages = el.querySelector(\".tab-pages\").children;\r\n    const data = {\r\n      banner: banner.innerHTML,\r\n      footer: footer.innerHTML,\r\n      tabs: [],\r\n    };\r\n    if (banner) banner.remove();\r\n    if (footer) footer.remove();\r\n\r\n    while (links.length > 0) {\r\n      const node = links[0];\r\n      const page = pages[0];\r\n      if (!node) continue;\r\n      data.tabs.push({\r\n        id: node.id !== \"\" ? node.id : null,\r\n        label: node.textContent,\r\n        title: node.getAttribute(\"title\"),\r\n        closable: node.getAttribute(\"closable\"),\r\n        target: node.getAttribute(\"data-target\"),\r\n        selected: node.getAttribute(\"selected\"),\r\n        html: page ? page.innerHTML : \"\",\r\n        bg: page ? page.style.background : \"#0bc\",\r\n        style: node.getAttribute(\"tab-style\"),\r\n      });\r\n      node.remove();\r\n      page.remove();\r\n    }\r\n    return data;\r\n  }\r\n\r\n  getPage(id) {\r\n    const tab = this.tabs.get(id);\r\n    return document.getElementById(tab.pageId);\r\n  }\r\n\r\n  getLinkButton(linkId) {\r\n    return document.getElementById(linkId);\r\n  }\r\n\r\n  getCloswButton(id) {\r\n    const linkButton = this.getLinkButton(id);\r\n    return linkButton ? linkButton.lastElementChild() : null;\r\n  }\r\n\r\n  getTabPagePanel() {\r\n    return document.getElementById(this.pagePanelId);\r\n  }\r\n\r\n  getRightNavButton() {\r\n    return this.rightBtn;\r\n  }\r\n\r\n  getLeftNavButton() {\r\n    return this.leftBtn;\r\n  }\r\n\r\n  getAddButton() {\r\n    return this.addBtn;\r\n  }\r\n\r\n  getFooter() {\r\n    return document.getElementById(this.footerId);\r\n  }\r\n\r\n  getBanner() {\r\n    return document.getElementById(this.bannerId);\r\n  }\r\n\r\n  getTabBar() {\r\n    return document.getElementById(this.tabBarId);\r\n  }\r\n\r\n  getContainer() {\r\n    return document.getElementById(this.containerId);\r\n  }\r\n\r\n  hideExtraTabs() {\r\n    const links = Object.values(this.links);\r\n    const numTotal = links.length;\r\n    const numVisible = Math.min(numTotal, this.settings.limit);\r\n    for (var i = 0; i < links.length; i++) {\r\n      links[i].style.display = \"none\"; // hide xo tabs.\r\n    }\r\n    for (var j = 0; j < numVisible; j++) {\r\n      this.links[j].style.display = \"inline\"; // Show visible tabs.\r\n    }\r\n  }\r\n\r\n  getLinkTarget(el) {\r\n    try {\r\n      while (el.name !== \"tab-link\") {\r\n        el = el.parentElement;\r\n      }\r\n      return el;\r\n    } catch (e) {\r\n      // const length = this.tabs.size - 1\r\n      return this.getTabAtIndex(this.tabs.size - 1).linkButton;\r\n      // Object.values(this.tabs)[length].linkButton\r\n    }\r\n  }\r\n\r\n  allowDrop(ev) {\r\n    ev.preventDefault();\r\n  }\r\n\r\n  drag(ev) {\r\n    ev.dataTransfer.setData(\"text\", ev.target.id);\r\n  }\r\n\r\n  drop(ev) {\r\n    ev.preventDefault();\r\n    var data = ev.dataTransfer.getData(\"text\");\r\n    // do not drop on label wrappers or close button\r\n    var target = this.getLinkTarget(ev.target);\r\n    var dataEl = document.getElementById(data);\r\n\r\n    if (this.dragStartPoint > this.dragStopPoint) {\r\n      target.before(dataEl);\r\n    } else {\r\n      target.after(dataEl);\r\n    }\r\n    // target.parentNode.insertBefore(dataEl,this.dragStartPoint>this.dragStopPoint?target:target.nextSibling);\r\n  }\r\n\r\n  addFooter() {\r\n    var footer = document.createElement(\"span\");\r\n    footer.setAttribute(\"name\", \"tab-footer\");\r\n    footer.innerHTML = this.settings.footer;\r\n    footer.className = \"tab-footer\";\r\n    footer.style.left = \"0\";\r\n    footer.style.right = \"0\";\r\n    footer.style.bottom = \"0\";\r\n    footer.style.padding = \"2px\";\r\n    footer.style.display = \"flex\";\r\n    footer.style.justifyContent = \"center\";\r\n    footer.style.alignItems = \"center\";\r\n    // footer.style.background='#030';\r\n    // footer.style.borderTop='1px solid #020';\r\n\r\n    return footer;\r\n  }\r\n\r\n  addBanner() {\r\n    var banner = document.createElement(\"span\");\r\n    banner.setAttribute(\"name\", \"tab-banner\");\r\n    banner.innerHTML =\r\n      typeof this.settings.banner === \"string\"\r\n        ? this.settings.banner\r\n        : this.settings.banner.innerHTML;\r\n    banner.style.display = \"flex\";\r\n    banner.style.padding = \"5px\";\r\n    banner.style.justifyContent = \"center\";\r\n    banner.style.alignItems = \"center\";\r\n    banner.className = \"tab-banner\";\r\n    banner.style.background = \"green\";\r\n\r\n    return banner;\r\n  }\r\n\r\n  mountTab(el, doc, tabPagePanel) {\r\n    const container = typeof el === \"object\" ? el : document.getElementById(el);\r\n    this.containerId = container.id;\r\n    container.appendChild(tabPagePanel);\r\n\r\n    const tabbar = doc.querySelector(\"div\");\r\n    let banner, footer;\r\n    if (this.settings.banner) {\r\n      banner = this.addBanner(container);\r\n      container.prepend(banner);\r\n    }\r\n    if (this.settings.bottom) {\r\n      container.lastChild.after(doc);\r\n    } else {\r\n      container.lastChild.before(doc);\r\n    }\r\n    if (this.settings.footer) {\r\n      footer = this.addFooter(container);\r\n      container.lastChild.after(footer);\r\n    }\r\n    // container.style.height='100%';\r\n    // container.style.width='100%';\r\n    container.style.top =\r\n      container.style.bottom =\r\n      container.style.left =\r\n      container.style.right =\r\n        \"0\";\r\n    const bannerBox = banner ? banner.getBoundingClientRect() : null;\r\n    const bannerBottom = banner ? bannerBox.bottom - bannerBox.top : 0;\r\n\r\n    const footerBox = footer ? footer.getBoundingClientRect() : null;\r\n    const footerTop = footer ? footerBox.bottom - footerBox.top : 0;\r\n\r\n    if (this.settings.bottom) {\r\n      // tab bar is at bottom oftab window\r\n      tabbar.style.bottom = footerTop + \"px\";\r\n    } else {\r\n      tabbar.style.top = bannerBottom + \"px\";\r\n    }\r\n    tabbar.style.border = \"0px none transparent\";\r\n    tabPagePanel.style.border = \"0px none transparent\";\r\n  }\r\n\r\n  getTabAtIndex(index) {\r\n    let tab = null;\r\n    let i = 0;\r\n    for (const value of this.tabs.values()) {\r\n      if (i === index) {\r\n        tab = value;\r\n        break;\r\n      }\r\n      i++;\r\n    }\r\n    return tab;\r\n  }\r\n\r\n  unhide() {\r\n    // const tabs = this.tabs.entries()\r\n    const last = this.getTabAtIndex(this.tabs.size - 1).linkButton;\r\n    const visibles = this.getVisibleTabs();\r\n    const firstVisible = visibles[0];\r\n    if (!firstVisible.previousSibling) return;\r\n    // let lastVisible=visibles[visibles.length-1];\r\n    const lastHidden = firstVisible.previousSibling || firstVisible;\r\n    const width = lastHidden.getBoundingClientRect().width;\r\n    const gap =\r\n      this.tabBar.getBoundingClientRect().right -\r\n      last.getBoundingClientRect().right;\r\n    if (width < gap) {\r\n      this.scrollLinkIntoView(lastHidden);\r\n    }\r\n  }\r\n\r\n  attachDomEventListeners() {\r\n    // let self = this\r\n    const tabBar = this.getTabBar();\r\n    window.addEventListener(\"resize\", () => {\r\n      this.debounce(() => {\r\n        if (!this.tab) return false;\r\n        if (!this.isLinkVisible(this.tab.linkButton)) {\r\n          this.scrollLinkIntoView(this.tab.linkButton);\r\n        } else {\r\n          this.unhide();\r\n          this.scrollLinkIntoView(this.tab.linkButton);\r\n        }\r\n        this.showHideNavButton();\r\n      }, 200)();\r\n    });\r\n\r\n    tabBar.addEventListener(\r\n      \"keyup\",\r\n      (event) => {\r\n        this.handleKeypress(event);\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\r\n      \"drop\",\r\n      (event) => {\r\n        event.preventDefault();\r\n\r\n        this.dragStopPoint = event.clientX;\r\n        this.drop(event);\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\r\n      \"dragover\",\r\n      (event) => {\r\n        event.preventDefault();\r\n      },\r\n      true\r\n    );\r\n\r\n    tabBar.addEventListener(\"dragstart\", (event) => {\r\n      this.dragStartPoint = event.clientX;\r\n      this.drag(event);\r\n    });\r\n  }\r\n\r\n  handleKeypress(e) {\r\n    const code = e.keyCode;\r\n    const link = this.tab.button;\r\n    // eslint-disable-next-line default-case\r\n    if (!link) return;\r\n    switch (code) {\r\n      case 37:\r\n        if (link.previousSibling) {\r\n          this.select(link.previousSibling);\r\n        }\r\n        break; // left key\r\n      case 39:\r\n        if (link.nextSibling) {\r\n          this.select(link.nextSibling);\r\n        }\r\n        break; // right key\r\n      case 38:\r\n        break; // up key\r\n      case 40:\r\n        link.blur();\r\n        break; // down key\r\n      case 13:\r\n        break; // enter key\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  showHideNavButton() {\r\n    // console.log(this.settings);\r\n    if (this.settings.infinite_scroll) {\r\n      return;\r\n    }\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n    if (!firstVisibleButton) return;\r\n    const rBtn = this.getRightNavButton();\r\n    const lBtn = this.getLeftNavButton();\r\n    if (firstVisibleButton.previousSibling) {\r\n      this.toggleNavButton(rBtn, true);\r\n    } else {\r\n      this.toggleNavButton(lBtn, false);\r\n    }\r\n    if (lastVisibleButton.nextSibling) {\r\n      this.toggleNavButton(rBtn, true);\r\n    } else {\r\n      this.toggleNavButton(rBtn, false);\r\n    }\r\n  }\r\n\r\n  toggleNavButton(el, show) {\r\n    if (show) {\r\n      el.style.visibility = \"visible\";\r\n    } else {\r\n      el.style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  toggleAddButton(show) {\r\n    if (show) {\r\n      this.getAddButton().style.visibility = \"visible\";\r\n    } else {\r\n      this.getAddButton().style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  showHideNavigator() {\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n    if (!firstVisibleButton) return;\r\n    if (firstVisibleButton.previousSibling) {\r\n      this.toggleNavigator(this.getLeftNavButton(), true);\r\n    } else {\r\n      this.toggleNavigator(this.getLeftNavButton(), false);\r\n    }\r\n    if (lastVisibleButton.nextSibling) {\r\n      this.toggleNavigator(this.getRightNavButton(), true);\r\n    } else {\r\n      this.toggleNavigator(this.getRightNavButton(), false);\r\n    }\r\n  }\r\n\r\n  applySelection(el) {\r\n    if (!el || !el.parentElement) {\r\n      return;\r\n    }\r\n    var tablinks = el.parentElement.children;\r\n    for (let i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].classList.remove(\"active\");\r\n      tablinks[i].style.background = \"inherit\";\r\n      tablinks[i].style.color = \"inherit\";\r\n      tablinks[i].firstChild.lastChild.style.visibility = \"hidden\";\r\n    }\r\n    el.classList.add(\"active\");\r\n    el.style.background = this.tab_settings.activeBg;\r\n    el.style.color = this.tab_settings.activecolor;\r\n    el.firstChild.lastChild.style.visibility = \"visible\";\r\n    el.firstChild.style.color = this.tab_settings.activecolor;\r\n  }\r\n\r\n  applyTheme() {\r\n    const table = this.getContainer().querySelector(\"table\");\r\n    table.style.background = this.tab_settings.bg;\r\n    table.style.color = this.tab_settings.color;\r\n    this.leftBtn.style.color =\r\n      this.rightBtn.style.color =\r\n      this.addBtn.style.color =\r\n        this.tab_settings.color;\r\n  }\r\n\r\n  // Public API\r\n  /***\r\n   * @param theme String\r\n   * @returns null\r\n   */\r\n  set theme(theme) {\r\n    this.settings.theme = theme;\r\n    let color = \"#ddd\";\r\n    let bg = \"#222\";\r\n    let activecolor = \"#ddd\";\r\n    let activeBg = \"#003355\";\r\n    switch (theme) {\r\n      case \"dark\":\r\n        bg = \"#002255\";\r\n        activeBg = \"#003355\";\r\n        color = \"#fff\";\r\n        break;\r\n      case \"black\":\r\n        bg = \"#111\";\r\n        activeBg = \"#333\";\r\n        color = \"#fff\";\r\n        break;\r\n      case \"blue\":\r\n        bg = \"rgba(8, 68, 117, 1)\";\r\n        activeBg = \"rgba(10, 100, 186, 1)\";\r\n        break;\r\n      case \"green\":\r\n        bg = \"rgba(0, 149, 120, 1)\";\r\n        activeBg = \"rgba(0, 139, 100, 0.9)\";\r\n        break;\r\n      case \"red\":\r\n        bg = \"rgb(120, 0, 30)\";\r\n        activeBg = \"rgb(123, 0, 50)\";\r\n        break;\r\n      case \"white\":\r\n        bg = \"#bcd\";\r\n        color = \"#000\";\r\n        activecolor = \"#eee\";\r\n        break;\r\n      default:\r\n        bg = \"rgba(10, 100, 186, 1)\";\r\n        activeBg = \"rgba(10, 100, 206, 1)\";\r\n        color = \"#fff\";\r\n        break;\r\n    }\r\n    this.page_settings = {\r\n      bg: color,\r\n      color: bg,\r\n    };\r\n    this.tab_settings = {\r\n      bg: bg,\r\n      color: color,\r\n      activecolor: activecolor,\r\n      activeBg: activeBg,\r\n    };\r\n    this.applyTheme();\r\n  }\r\n\r\n  get theme() {\r\n    return this.settings.theme;\r\n  }\r\n\r\n  toggleNavigator(el, show) {\r\n    if (show) {\r\n      el.style.visibility = \"visible\";\r\n    } else {\r\n      el.style.visibility = \"hidden\";\r\n    }\r\n  }\r\n\r\n  /* toggleAddButton (show) {\r\n    if (show) { this.addButton.style.visibility = 'visible' } else { this.addButton.style.visibility = 'hidden' }\r\n  } */\r\n\r\n  getSelectedTab() {\r\n    return this.tab;\r\n  }\r\n\r\n  getTab(tabId) {\r\n    return this.tabs.get(tabId);\r\n  }\r\n\r\n  setContent(id, content) {\r\n    const page = this.tabs.get(id).pageId;\r\n    document.getElementById(page).innerHTML = content;\r\n  }\r\n\r\n  setTitle(id, title) {\r\n    const link = this.tabs.get(id).linkId;\r\n    document.getElementById(link).firstElementChild.innerHTML = title;\r\n  }\r\n\r\n  add(options = {}) {\r\n    const length = Object.keys(this.buttons).length;\r\n    const tabId = options.tabId || this.generateRandomString();\r\n    const buttonId = \"link-btn-\" + this.generateRandomString(); // tabId,\r\n    let settings = {\r\n      buttonId: \"link-btn-\" + this.generateRandomString(), // tabId,\r\n      target: \"page-\" + tabId,\r\n      label: \"Tab\" + Number(length + 1),\r\n      title: this.label,\r\n      html: \"\",\r\n      closable: true,\r\n      data: null,\r\n      icon: \"kb\",\r\n      bg: options.bg || \"inherit\",\r\n      color: options.color || \"inherit\",\r\n      style: options.style || \"fancy\",\r\n    };\r\n    options.bg = options.bg === \"transparent\" ? \"\" : options.bg;\r\n    if (options.buttonId === null) {\r\n      delete options.buttonId;\r\n    }\r\n\r\n    this.settings = Object.assign(settings, options);\r\n\r\n    var page = this.createPage(this.settings.target, tabId, buttonId, this.settings);\r\n\r\n    this.getTabPagePanel().appendChild(page);\r\n\r\n    var linkButton = this.createLinkButton(buttonId, tabId, this.settings);\r\n    this.buttons[linkButton.id] = linkButton;\r\n\r\n    const labelContainer = this.createLabelContainer(this.settings);\r\n    linkButton.append(labelContainer);\r\n    linkButton.addEventListener(\"click\", () => {\r\n      this.select(linkButton);\r\n    });\r\n\r\n    linkButton.addEventListener(\"mouseenter\", () => {\r\n      if (this.tab.linkButton.id === linkButton.id) return;\r\n      linkButton.firstChild.lastChild.style.visibility = \"visible\";\r\n    });\r\n\r\n    linkButton.addEventListener(\"mouseleave\", () => {\r\n      const tab = this.getSelectedTab();\r\n      if (tab.linkButton.id === linkButton.id) return;\r\n      linkButton.firstChild.lastChild.style.visibility = \"hidden\";\r\n    });\r\n    // If there was a selected button already, insert after it\r\n    // otherwise append at the end of tab list\r\n    if (this.tab) {\r\n      // this.tab.selected=false;\r\n      this.tab.linkButton.after(linkButton);\r\n      // this.getLinkButton(this.tab.linkId).after(linkButton);\r\n    } else {\r\n      this.getTabBar().appendChild(linkButton);\r\n    }\r\n    this.tabs.set(tabId, {\r\n      id: tabId,\r\n      label: settings.label,\r\n      text: settings.text,\r\n      title: settings.title,\r\n      linkId: settings.buttonId,\r\n      pageId: settings.target,\r\n      data: settings.data,\r\n      selected: settings.selected,\r\n      linkButton: linkButton,\r\n      page: page,\r\n    });\r\n    this.tab = this.tabs.get(tabId);\r\n\r\n    this.showHideNavButton();\r\n    this.select(linkButton);\r\n    if (settings.selected) {\r\n      return this.tab;\r\n    }\r\n    return this.tab;\r\n  }\r\n\r\n  select(el, before) {\r\n    let linkButton = el;\r\n    if (!el) {\r\n      throw new Error(\"Invalid tab address:\");\r\n    } else if (typeof el === \"string\" || isFinite(el)) {\r\n      linkButton = this.getLinkButton(el);\r\n    } else if (el.id) {\r\n      linkButton = el;\r\n    } else {\r\n      throw new Error(\"Invalid Button or ID\");\r\n    }\r\n\r\n    if (typeof before === \"function\") {\r\n      const result = before();\r\n      if (result === false) return false;\r\n    }\r\n    this.tabs.forEach((tab) => {\r\n      if (tab.linkButton.id === linkButton.id) {\r\n        tab.selected = true;\r\n        this.tab = tab;\r\n        document.getElementById(tab.pageId).style.visibility = \"visible\";\r\n      } else {\r\n        tab.selected = false;\r\n        document.getElementById(tab.pageId).style.visibility = \"hidden\";\r\n      }\r\n    });\r\n\r\n    this.applySelection(linkButton);\r\n    if (!this.isLinkVisible(linkButton)) {\r\n      this.scrollLinkIntoView(linkButton);\r\n    }\r\n    this.Event.fire(\"select\", this.tab);\r\n\r\n    return this.tab;\r\n  }\r\n\r\n  close(el) {\r\n    let tabId = el;\r\n    if (!el) {\r\n      throw new Error(\"Invalid tab address:\");\r\n    } else if (typeof id === \"string\") {\r\n      // tab id\r\n    } else if (el.id) {\r\n      tabId = el.id; // .substr(5);//button Element\r\n    }\r\n    const tab = this.tabs.get(tabId);\r\n    const link = tab.linkButton; // this.getLinkButton(tab.linkId);\r\n    const next = link.nextSibling;\r\n    const prev = link.previousSibling;\r\n    this.Event.fire(\"before_close\", tab);\r\n    link.remove();\r\n    document.getElementById(tab.pageId).remove();\r\n    // delete this.links[id];\r\n    delete this.tab;\r\n    this.tabs.delete(tabId);\r\n\r\n    this.Event.fire(\"close\", tab);\r\n    if (next && next.tagName === \"BUTTON\") {\r\n      this.select(next);\r\n    } else if (prev && prev.tagName === \"BUTTON\") {\r\n      this.select(prev);\r\n    }\r\n    this.showHideNavigator();\r\n    this.scroll(true);\r\n    return tabId;\r\n  }\r\n\r\n  isLinkVisible(link) {\r\n    const box = link.getBoundingClientRect();\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return false;\r\n    const box1 = tabbar.getBoundingClientRect();\r\n    return box.left >= box1.left && box.right <= box1.right;\r\n  }\r\n\r\n  getVisibleTabs() {\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return false;\r\n    var links = Array.prototype.slice.call(tabbar.querySelectorAll(\"button\"));\r\n    return links.filter((link) => {\r\n      return this.isLinkVisible(link);\r\n    });\r\n  }\r\n\r\n  getHiddenTabs() {\r\n    var links = Array.prototype.slice.call(\r\n      this.getTabBar().querySelectorAll(\"button\")\r\n    );\r\n    return links.filter((link) => {\r\n      return !this.isLinkVisible(link);\r\n    });\r\n  }\r\n\r\n  scroll(right) {\r\n    if (this.settings.infinite_scroll) {\r\n      this.infiniteScroll(right);\r\n    } else {\r\n      this.finiteScroll(right);\r\n      this.showHideNavigator();\r\n    }\r\n  }\r\n\r\n  scrollLinkIntoView(el) {\r\n    if (this.isLinkVisible(el)) return;\r\n    const max = this.tabs.size;\r\n    let count = 0;\r\n    while (!this.isLinkVisible(el)) {\r\n      this.getRightNavButton().click();\r\n      count++;\r\n      if (count > max) break;\r\n    }\r\n    count = 0;\r\n    while (!this.isLinkVisible(el)) {\r\n      this.getLeftNavButton().click();\r\n      count++;\r\n      if (this.isLinkVisible(el)) return;\r\n      if (count > max) break;\r\n    }\r\n  }\r\n\r\n  finiteScroll(right) {\r\n    this.count = this.count ? this.count : 1;\r\n    this.count++;\r\n    const visibleButtons = this.getVisibleTabs();\r\n    var firstVisibleButton = visibleButtons[0];\r\n    var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n    if (right && lastVisibleButton && lastVisibleButton.nextSibling) {\r\n      firstVisibleButton.style.display = \"none\";\r\n    } else if (\r\n      !right &&\r\n      firstVisibleButton &&\r\n      firstVisibleButton.previousSibling\r\n    ) {\r\n      firstVisibleButton.previousSibling.style.display = \"\";\r\n    } else {\r\n      const tabbar = this.getTabBar();\r\n      if (!tabbar) return;\r\n      const bts = tabbar.querySelectorAll(\"button\");\r\n      if (bts.length > 0) {\r\n        bts[bts.length - 1].style.display = \"\";\r\n      }\r\n    }\r\n  }\r\n\r\n  infiniteScroll(right) {\r\n    const tabbar = this.getTabBar();\r\n    if (!tabbar) return;\r\n    var links = tabbar.querySelectorAll(\"button\");\r\n    if (links.length > 1) {\r\n      if (right) {\r\n        links[links.length - 1].after(links[0]);\r\n      } else {\r\n        links[0].before(links[links.length - 1]);\r\n      }\r\n    }\r\n  }\r\n\r\n  /* TabView.prototype.fire = function (event, data, cancelable, bubbles){\r\n    let myEvent = new CustomEvent(event, {detail:data, cancelable:cancelable, bubbles:bubbles});\r\n    document.dispatchEvent(myEvent);\r\n  }  ; */\r\n  onBeforeClose(fn, ctx) {\r\n    this.Event.on(\"tab_before_close\", fn, ctx);\r\n  }\r\n\r\n  onClose(fn, ctx) {\r\n    this.Event.on(\"tab_close\", fn, ctx);\r\n  }\r\n\r\n  onSelect(fn, ctx) {\r\n    this.Event.on(\"tab_before_select\", fn, ctx);\r\n  }\r\n\r\n  onBeforeSelect(fn) {\r\n    this.addListener(\"tab_select\", fn);\r\n  }\r\n\r\n  onOpen(fn, ctx) {\r\n    this.Event.on(\"tab_open\", fn, ctx);\r\n  }\r\n\r\n  onBeforeOpen(fn, ctx) {\r\n    this.Event.on(\"tab_before_open\", fn, ctx);\r\n  }\r\n\r\n  destroy() {\r\n    // destroy\r\n    this.removeListeners();\r\n  }\r\n}\r\n// Returns a function, that, as long as it continues to be invoked, will not\r\n// be triggered. The function will be called after it stops being called for\r\n// N milliseconds. If `immediate` is passed, trigger the function on the\r\n// leading edge, instead of the trailing.\r\nTabView.prototype.debounce = function (func, wait, immediate) {\r\n  var timeout;\r\n  return function () {\r\n    var context = this;\r\n    var args = arguments;\r\n    var later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n\r\nTabView.prototype.Emitter = {\r\n  fire(event, data, context, cancelable, bubbles) {\r\n    var cntx = context || document;\r\n    var myEvent = new CustomEvent(event, {\r\n      detail: data,\r\n      cancelable: cancelable || false,\r\n      bubbles: bubbles || false,\r\n    });\r\n    cntx.dispatchEvent(myEvent);\r\n  },\r\n  on(event, listener, context) {\r\n    var cntx = context || document;\r\n    cntx.addEventListener(event, listener);\r\n    // this.off(event, listener, context);\r\n  },\r\n  off(event, listener, context) {\r\n    var cntx = context || document;\r\n    cntx.removeEventListener(event, listener);\r\n  },\r\n};\r\n\r\nTabView.prototype.Event = {\r\n  _listeners: {},\r\n  addListener: function (type, listener) {\r\n    if (typeof this._listeners[type] === \"undefined\") {\r\n      this._listeners[type] = [];\r\n    }\r\n    this._listeners[type].push(listener);\r\n  },\r\n  attach: function (type, listener) {\r\n    this.addListener(type, listener);\r\n  },\r\n  on: function (type, listener) {\r\n    this.addListener(type, listener);\r\n  },\r\n\r\n  fire: function (event, data, target) {\r\n    if (typeof event === \"string\") {\r\n      event = {\r\n        type: event,\r\n        data: data,\r\n        target: target,\r\n      };\r\n    }\r\n    if (!event.target) {\r\n      event.target = this;\r\n    }\r\n    if (!event.type) {\r\n      // falsy\r\n      throw new Error(\"Type error\");\r\n    }\r\n    if (this._listeners[event.type] instanceof Array) {\r\n      const listeners = this._listeners[event.type];\r\n      for (var i = 0, len = listeners.length; i < len; i++) {\r\n        listeners[i].call(this, event);\r\n      }\r\n    }\r\n  },\r\n  trigger: function (type, listener) {\r\n    this.fire(type, listener);\r\n  },\r\n\r\n  removeListener: function (type, listener) {\r\n    if (this._listeners[type] instanceof Array) {\r\n      const listeners = this._listeners[type];\r\n      for (var i = 0, len = listeners.length; i < len; i++) {\r\n        if (listeners[i] === listener) {\r\n          listeners.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  off: function (type, listener) {\r\n    this.removeListener(type, listener);\r\n  },\r\n};\r\n"],"names":["TabView","this","tabIndex","currentIndex","links","tabs","Map","buttons","pages","selectedTab","hiddenTabs","generateRandomString","Math","random","toString","slice","createLinkButton","linkId","tabId","pageId","style","title","linkButton","document","createElement","className","setAttribute","outline","height","width","border","fontSize","fontWeight","margin","padding","boxShadow","background","color","cursor","transition","borderRadius","createCloseButton","button","innerHTML","visibility","marginRight","marginLeft","display","alignContent","alignItems","addEventListener","createPage","options","page","text","position","overflow","top","bottom","left","right","bg","createPagePanel","panel","createLabel","label","paddingRight","paddingLeft","verticalAlign","maxWidth","whiteSpace","append","createTextNode","createTabBarWraper","tabbarContainer","createBar","tabBar","createTabButton","name","float","btn","id","createImage","img","icon","createLabelContainer","labelContainer","closeBtn","closable","_this","close","parentNode","parentElement","getAttribute","createTable","tabBarWrapper","pagePanel","banner","footer","doc","createDocumentFragment","table","thead","bannerRow","minHeight","maxHeight","th","textAlign","appendChild","tbody","linkRow","settings","tab_height","td","borderCollapse","pageRow","linkRow2","footerRow","firstElementChild","nextSibling","init","el","Object","assign","data","loadFromMarkup","applySettings","leftBtn","_this2","scroll","leftNavId","addBtn","addBtnId","add","Event","fire","tabBarWraper","tabBarId","rtBtn","rightBtn","rightNavId","pagePanelId","addBanner","addFooter","container","getElementById","containerId","theme","attachDomEventListeners","dynamicLoad","toggleNavigator","getLeftNavButton","getRightNavButton","limit","undefined","close_click","infinite_scroll","left_tip","right_tip","add_tip","arguments","selected","forEach","d","tab","_this3","getPage","html","zIndex","select","fn","children","Error","markup","length","querySelector","remove","node","push","textContent","target","get","getLinkButton","getCloswButton","lastElementChild","getTabPagePanel","getAddButton","getFooter","footerId","getBanner","bannerId","getTabBar","getContainer","hideExtraTabs","values","numVisible","min","i","j","getLinkTarget","e","getTabAtIndex","size","allowDrop","ev","preventDefault","drag","dataTransfer","setData","drop","getData","dataEl","dragStartPoint","dragStopPoint","before","after","justifyContent","mountTab","tabPagePanel","tabbar","prepend","lastChild","bannerBox","getBoundingClientRect","bannerBottom","footerBox","index","unhide","last","firstVisible","getVisibleTabs","previousSibling","lastHidden","scrollLinkIntoView","window","_this4","debounce","isLinkVisible","showHideNavButton","event","handleKeypress","clientX","link","keyCode","blur","visibleButtons","firstVisibleButton","lastVisibleButton","rBtn","lBtn","toggleNavButton","show","toggleAddButton","showHideNavigator","applySelection","tablinks","classList","firstChild","tab_settings","activeBg","activecolor","applyTheme","getSelectedTab","getTab","setContent","content","setTitle","keys","buttonId","Number","_this5","set","isFinite","_this6","next","prev","tagName","box","box1","Array","prototype","call","querySelectorAll","filter","_this7","getHiddenTabs","_this8","infiniteScroll","finiteScroll","max","count","click","bts","onBeforeClose","ctx","on","onClose","onSelect","onBeforeSelect","addListener","onOpen","onBeforeOpen","destroy","removeListeners","page_settings","func","wait","immediate","timeout","context","args","later","apply","callNow","clearTimeout","setTimeout","Emitter","cancelable","bubbles","cntx","myEvent","CustomEvent","detail","dispatchEvent","listener","off","removeEventListener","_listeners","type","attach","listeners","len","trigger","removeListener","splice"],"mappings":"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"}