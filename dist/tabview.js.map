{"version":3,"file":"tabview.js","sources":["../index.js"],"sourcesContent":["/* jshint esversion: 8 */\r\nconst TabView = (function () {\r\n    function randomId() {\r\n        return Math.random().toString(36).slice(2);\r\n    }\r\n    // Returns a function, that, as long as it continues to be invoked, will not\r\n    // be triggered. The function will be called after it stops being called for\r\n    // N milliseconds. If `immediate` is passed, trigger the function on the\r\n    // leading edge, instead of the trailing.\r\n    function debounce(func, wait, immediate) {\r\n        var timeout;\r\n        return function () {\r\n            var context = this;\r\n            var args = arguments;\r\n            var later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            var callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    }\r\n\r\n    const Emitter = (function () {\r\n        return {\r\n            fire(event, data, context, cancelable, bubbles) {\r\n                var cntx = context || document;\r\n                var myEvent = new CustomEvent(event, {\r\n                    detail: data,\r\n                    cancelable: cancelable || false,\r\n                    bubbles: bubbles || false,\r\n                });\r\n                cntx.dispatchEvent(myEvent);\r\n            },\r\n            on(event, listener, context) {\r\n                var cntx = context || document;\r\n                cntx.addEventListener(event, listener);\r\n            },\r\n            off(event, listener, context) {\r\n                var cntx = context || document;\r\n                cntx.removeEventListener(event, listener);\r\n            },\r\n        };\r\n    })();\r\n\r\n    const Event = (function () {\r\n        const _listeners = {};\r\n        return {\r\n            addListener: function (type, listener) {\r\n                if (typeof _listeners[type] === \"undefined\") {\r\n                    this._listeners[type] = [];\r\n                }\r\n                this._listeners[type].push(listener);\r\n            },\r\n            attach: function (type, listener) {\r\n                this.addListener(type, listener);\r\n            },\r\n            on: function (type, listener) {\r\n                this.addListener(type, listener);\r\n            },\r\n\r\n            fire: function (event, data, target) {\r\n                if (typeof event === \"string\") {\r\n                    event = {\r\n                        type: event,\r\n                        data: data,\r\n                        target: target,\r\n                    };\r\n                }\r\n                if (!event.target) {\r\n                    event.target = this;\r\n                }\r\n                if (!event.type) {\r\n                    // falsy\r\n                    throw new Error(\"Type error\");\r\n                }\r\n                if (_listeners[event.type] instanceof Array) {\r\n                    const listeners = _listeners[event.type];\r\n                    for (var i = 0, len = listeners.length; i < len; i++) {\r\n                        listeners[i].call(this, event);\r\n                    }\r\n                }\r\n            },\r\n            trigger: function (type, listener) {\r\n                this.fire(type, listener);\r\n            },\r\n\r\n            removeListener: function (type, listener) {\r\n                if (_listeners[type] instanceof Array) {\r\n                    const listeners = _listeners[type];\r\n                    for (var i = 0, len = listeners.length; i < len; i++) {\r\n                        if (listeners[i] === listener) {\r\n                            listeners.splice(i, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            off: function (type, listener) {\r\n                this.removeListener(type, listener);\r\n            },\r\n        };\r\n    })();\r\n\r\n    function createLinkButton(\r\n        linkId,\r\n        tabId,\r\n        { target, style, title, bg, data }\r\n    ) {\r\n        var linkButton = document.createElement(\"button\");\r\n        linkButton.className = \"tab-link\";\r\n        linkButton.setAttribute(\"href\", \"#!\");\r\n        linkButton.setAttribute(\"id\", linkId);\r\n        linkButton.setAttribute(\"title\", title);\r\n        linkButton.setAttribute(\"name\", \"tab-link\");\r\n        linkButton.setAttribute(\"draggable\", \"true\");\r\n        linkButton.setAttribute(\"data-tab\", tabId);\r\n        linkButton.setAttribute(\"data-target\", target);\r\n        linkButton.style.position = \"relative\";\r\n        linkButton.style.outline = \"none\";\r\n        linkButton.style.height = \"100%\";\r\n        linkButton.style.width = \"auto\";\r\n        linkButton.style.border = \"0 none transparent\";\r\n        linkButton.style.fontSize = \"12px\";\r\n        linkButton.style.fontWeight = \"500\";\r\n        linkButton.style.margin = \"0\";\r\n        linkButton.style.padding = \"0\";\r\n        linkButton.style.boxShadow = \"none\";\r\n        linkButton.style.background = bg || \"inherit\";\r\n        linkButton.style.color = \"inherit\";\r\n        linkButton.style.cursor = \"pointer\";\r\n        linkButton.style.display = \"block\";\r\n        // linkButton.style.width = \"128px\";\r\n        // linkButton.style.textAlign = \"left\";\r\n        linkButton.style.transition = \"background .4s\";\r\n        if (style) {\r\n            linkButton.style.borderRadius = \"8px 1px 0px 0px\";\r\n        } else {\r\n            linkButton.style.borderRadius = \"1px 1px 0px 0px\";\r\n        }\r\n\r\n        return linkButton;\r\n    }\r\n    function createCloseButton() {\r\n        var button = document.createElement(\"a\");\r\n        button.innerHTML = \"&times\";\r\n        button.setAttribute(\"name\", \"close-button\");\r\n        button.setAttribute(\"title\", \"close\");\r\n        button.style.borderRadius = \"50%\";\r\n        button.style.visibility = \"hidden\";\r\n        button.style.height = button.style.width = \"20px\";\r\n        button.style.float = \"right\";\r\n        button.style.marginRight = \"2px\";\r\n        button.style.marginLeft = \"5px\";\r\n        button.style.display = \"flex\";\r\n        button.style.padding = \"2px 0px 0px 4px\";\r\n        button.style.alignContent = \"center\";\r\n        button.style.alignItems = \"center\";\r\n        button.style.fontSize = \"18px\";\r\n        button.style.color = \"#efefef\";\r\n        button.style.fontWeight = \"700\";\r\n        button.style.background = \"transparent\";\r\n        button.addEventListener(\"mouseenter\", function () {\r\n            button.style.background = \"#555\";\r\n        });\r\n        button.addEventListener(\"mouseleave\", function () {\r\n            button.style.background = \"\";\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    function createLabel(text, title) {\r\n        var label = document.createElement(\"label\");\r\n        label.setAttribute(\"name\", \"tab-link-label\");\r\n        label.className = \"tab-link-label\";\r\n        label.style.margin = \"0\";\r\n        label.style.paddingRight = \"2px\";\r\n        label.style.paddingLeft = \"2px\";\r\n        label.style.verticalAlign = \"middle\";\r\n        label.style.padding = \"0\";\r\n        label.style.color = \"inherit\";\r\n        label.style.maxWidth = \"80px\";\r\n        label.style.overflow = \"hidden\";\r\n        label.style.whiteSpace = \"nowrap\";\r\n        label.style.background = \"\";\r\n        label.style.cursor = \"pointer\";\r\n        label.style.fontSize = \"inherit\";\r\n        label.style.fontWeight = \"inherit\";\r\n        label.append(document.createTextNode(text));\r\n        label.setAttribute(\"title\", title || text);\r\n        return label;\r\n    }\r\n    function createTabBarWraper() {\r\n        var tabbarContainer = document.createElement(\"div\");\r\n        tabbarContainer.style.position = \"relative\";\r\n        tabbarContainer.style.height = \"100%\";\r\n        tabbarContainer.style.height = \"100%\";\r\n        tabbarContainer.style.width = \"100%\";\r\n        tabbarContainer.style.border = \"none\";\r\n        tabbarContainer.style.padding = \"none\";\r\n        tabbarContainer.className = \"tabbar-wrapper\";\r\n        return tabbarContainer;\r\n    }\r\n    function createBar() {\r\n        var tabBar = document.createElement(\"div\");\r\n        tabBar.setAttribute(\"id\", randomId());\r\n        tabBar.style.position = \"absolute\";\r\n        tabBar.style.top = \"0\";\r\n        tabBar.style.bottom = \"0\";\r\n        tabBar.style.left = \"60px\";\r\n        tabBar.style.right = \"30px\";\r\n        tabBar.style.overflow = \"hidden\";\r\n        tabBar.style.padding = \"0px\";\r\n        tabBar.style.margin = \"0px\";\r\n        tabBar.style.paddingRight = \"7px\";\r\n        tabBar.style.background = \"inherit\";\r\n        tabBar.style.display = \"flex\";\r\n        tabBar.className = \"tab-bar\";\r\n        return tabBar;\r\n    }\r\n    function createButton(name, text, float) {\r\n        const btn = document.createElement(\"button\");\r\n        btn.id = randomId();\r\n        btn.setAttribute(\"name\", name);\r\n        btn.style.height = \"100%\";\r\n        btn.style.border = \"0 none transparent\";\r\n        btn.style.background = \"transparent\";\r\n        btn.style.color = \"white\";\r\n        btn.marginRight = btn.marginLeft = \"2px\";\r\n        btn.style.padding = \"2px\";\r\n        btn.style.paddingLeft = btn.style.paddingRight = \"7px\";\r\n        btn.style.cursor = \"pointer\";\r\n        btn.style.fontWeight = \"900\";\r\n        btn.style.fontSize = \"14px\";\r\n        btn.style.float = float || \"none\";\r\n        btn.style.outline = \"none\";\r\n        btn.innerHTML = text;\r\n        btn.style.borderRadius = \"4px 4px\";\r\n        return btn;\r\n    }\r\n    function createImage(options) {\r\n        const img = document.createElement(\"span\");\r\n        img.style.marginRight = \"7px\";\r\n        img.style.color = \"#b00\";\r\n        img.style.fontWeight = \"bold\";\r\n        img.innerHTML = options.icon || \"kb\";\r\n        img.style.float = \"left\";\r\n        return img;\r\n    }\r\n    function createLabelContainer(options) {\r\n        const labelContainer = document.createElement(\"label\");\r\n        labelContainer.setAttribute(\"name\", \"tab-link-label-wraper\");\r\n        labelContainer.style.display = \"flex\";\r\n        labelContainer.style.alignContent = \"center\";\r\n        labelContainer.style.alignItems = \"center\";\r\n        labelContainer.style.padding = \"2px\";\r\n        labelContainer.style.height = \"100%\";\r\n        labelContainer.style.width = \"100%\";\r\n        labelContainer.style.color = \"inherit\";\r\n        labelContainer.style.background = \"transparent\";\r\n        labelContainer.style.cursor = \"pointer\";\r\n        // const img = createImage(options);\r\n        // var closeBtn = createCloseButton();\r\n        // var label = createLabel(options.label, options.title);\r\n        // if (!options.closable) {\r\n        //  closeBtn.style.display = \"none\";\r\n        // labelContainer.style.paddingRight = \"7px\";\r\n        // }\r\n        // labelContainer.append(img);\r\n        // labelContainer.append(label);\r\n        // labelContainer.append(closeBtn);\r\n\r\n        return labelContainer;\r\n    }\r\n    function createTable(tabBarWrapper, pagePanel, settings = {}) {\r\n        let banner, footer;\r\n        if (settings.banner) {\r\n            banner = addBanner();\r\n        }\r\n        if (settings.footer) {\r\n            footer = addFooter();\r\n        }\r\n        const doc = document.createDocumentFragment();\r\n        const table = document.createElement(\"table\");\r\n        table.style.width = table.style.height = \"100%\";\r\n        doc.append(table);\r\n\r\n        const thead = document.createElement(\"thead\");\r\n        table.append(thead);\r\n\r\n        const bannerRow = document.createElement(\"tr\");\r\n        bannerRow.style.minHeight = \"0px\";\r\n        bannerRow.style.maxHeight = \"80px\";\r\n        thead.append(bannerRow);\r\n        const th = document.createElement(\"th\");\r\n        // th.setAttribute('colspan',3);\r\n        th.style.textAlign = \"left\";\r\n        th.style.padding = \"0\";\r\n        if (banner) {\r\n            th.append(banner);\r\n        } else {\r\n            bannerRow.style.display = \"none\";\r\n        }\r\n        bannerRow.appendChild(th);\r\n\r\n        const tbody = document.createElement(\"tbody\");\r\n        table.append(tbody);\r\n\r\n        const linkRow = document.createElement(\"tr\");\r\n        linkRow.style.minHeight = \"24px\";\r\n        linkRow.style.height = settings.tab_height + \"px\";\r\n        linkRow.style.padding = \"0\";\r\n        tbody.append(linkRow);\r\n\r\n        let td = document.createElement(\"td\");\r\n        td.style.overflow = \"hidden\";\r\n        td.style.whiteSpace = \"nowrap\";\r\n        td.style.textAlign = \"left\";\r\n        td.style.padding = \"0\";\r\n        td.append(tabBarWrapper);\r\n        linkRow.appendChild(td);\r\n        table.style.borderCollapse =\r\n            linkRow.style.borderCollapse =\r\n            td.style.borderCollapse =\r\n                \"collapse\";\r\n        table.style.border =\r\n            linkRow.style.border =\r\n            td.style.border =\r\n                \"0 none transparent\";\r\n\r\n        const pageRow = document.createElement(\"tr\");\r\n        tbody.append(pageRow);\r\n        td = document.createElement(\"td\");\r\n        td.append(pagePanel);\r\n        td.style.textAlign = \"left\";\r\n        td.style.padding = \"0\";\r\n        pageRow.appendChild(td);\r\n\r\n        const linkRow2 = document.createElement(\"tr\");\r\n        tbody.append(linkRow2);\r\n        td = document.createElement(\"td\");\r\n        td.style.textAlign = \"left\";\r\n        td.style.padding = \"0\";\r\n        linkRow2.appendChild(td);\r\n        linkRow2.style.minHeight = \"24px\";\r\n        linkRow2.style.height = settings.tab_height + \"px\";\r\n\r\n        const footerRow = document.createElement(\"tr\");\r\n        tbody.append(footerRow);\r\n        td = document.createElement(\"td\");\r\n        footerRow.appendChild(td);\r\n        footerRow.style.maxHeight = \"24px\";\r\n        td = document.createElement(\"td\");\r\n        td.style.padding = \"0\";\r\n        if (footer) {\r\n            td.append(footer || document.createTextNode(\"\"));\r\n        } else {\r\n            footerRow.style.display = \"none\";\r\n        }\r\n        footerRow.appendChild(td);\r\n        td = document.createElement(\"td\");\r\n        td.style.padding = \"0\";\r\n        footerRow.appendChild(td);\r\n        if (settings.bottom) {\r\n            linkRow2.firstElementChild.nextSibling.appendChild(tabBarWrapper);\r\n            linkRow.style.display = \"none\";\r\n        } else {\r\n            linkRow2.style.display = \"none\";\r\n        }\r\n        return doc;\r\n    }\r\n    function createPage(pageId, tabId, linkId, options) {\r\n        var page = document.createElement(\"div\");\r\n        page.setAttribute(\"id\", pageId);\r\n        page.setAttribute(\"data-tab\", tabId);\r\n        page.setAttribute(\"data-trigger\", linkId);\r\n        page.innerHTML = options.text || \"\";\r\n        page.style.position = \"absolute\";\r\n        page.style.padding = \"8px 16px\";\r\n        page.style.visibility = \"hidden\";\r\n        page.style.overflow = \"auto\";\r\n        page.style.top =\r\n            page.style.bottom =\r\n            page.style.left =\r\n            page.style.right =\r\n                \"0\";\r\n        // page.style.top='0'; do not specify top!!!\r\n        page.style.background = options.bg || \"\";\r\n        return page;\r\n    }\r\n    function createPagePanel() {\r\n        var panel = document.createElement(\"div\");\r\n        panel.setAttribute(\"id\", randomId());\r\n        panel.style.position = \"relative\";\r\n        panel.className = \"tab-panel\";\r\n        panel.style.width = \"100%\";\r\n        panel.style.height = \"100%\";\r\n        panel.style.overflow = \"hidden\";\r\n        panel.style.margin = \"0\";\r\n        panel.style.top = \"0\";\r\n        panel.style.background = \"\";\r\n        return panel;\r\n    }\r\n    function loadFromMarkup(el, fn) {\r\n        if (typeof el === \"string\") {\r\n            el = document.getElementById(el);\r\n        }\r\n        if (!el || !el.children)\r\n            throw new Error(\"Invalid element to load markup\");\r\n        const markup = el.children;\r\n        // let doc=document.createDocumentFragment();\r\n        if (!markup || markup.length === 0) return fn();\r\n        const banner = el.querySelector(\".tab-banner\");\r\n        const footer = el.querySelector(\".tab-footer\");\r\n        const links = el.querySelector(\".tab-links\").children;\r\n        const pages = el.querySelector(\".tab-pages\").children;\r\n        const data = {\r\n            banner: banner.innerHTML,\r\n            footer: footer.innerHTML,\r\n            tabs: [],\r\n        };\r\n        if (banner) banner.remove();\r\n        if (footer) footer.remove();\r\n\r\n        while (links.length > 0) {\r\n            const node = links[0];\r\n            const page = pages[0];\r\n            if (!node) continue;\r\n            data.tabs.push({\r\n                id: node.id !== \"\" ? node.id : null,\r\n                label: node.textContent,\r\n                title: node.getAttribute(\"title\"),\r\n                closable: node.getAttribute(\"closable\"),\r\n                target: node.getAttribute(\"data-target\"),\r\n                selected: node.getAttribute(\"selected\"),\r\n                html: page ? page.innerHTML : \"\",\r\n                bg: page ? page.style.background : \"#0bc\",\r\n                style: node.getAttribute(\"tab-style\"),\r\n            });\r\n            node.remove();\r\n            page.remove();\r\n        }\r\n        return data;\r\n    }\r\n    function addFooter() {\r\n        var footer = document.createElement(\"span\");\r\n        footer.setAttribute(\"name\", \"tab-footer\");\r\n        footer.innerHTML = settings.footer;\r\n        footer.className = \"tab-footer\";\r\n        footer.style.left = \"0\";\r\n        footer.style.right = \"0\";\r\n        footer.style.bottom = \"0\";\r\n        footer.style.padding = \"2px\";\r\n        footer.style.display = \"flex\";\r\n        footer.style.justifyContent = \"center\";\r\n        footer.style.alignItems = \"center\";\r\n        // footer.style.background='#030';\r\n        // footer.style.borderTop='1px solid #020';\r\n\r\n        return footer;\r\n    }\r\n    function addBanner() {\r\n        var banner = document.createElement(\"span\");\r\n        banner.setAttribute(\"name\", \"tab-banner\");\r\n        banner.innerHTML =\r\n            typeof settings.banner === \"string\"\r\n                ? settings.banner\r\n                : settings.banner.innerHTML;\r\n        banner.style.display = \"flex\";\r\n        banner.style.padding = \"5px\";\r\n        banner.style.justifyContent = \"center\";\r\n        banner.style.alignItems = \"center\";\r\n        banner.className = \"tab-banner\";\r\n        banner.style.background = \"green\";\r\n\r\n        return banner;\r\n    }\r\n    function mountTab(el, doc, tabPagePanel) {\r\n        const container =\r\n            typeof el === \"object\" ? el : document.getElementById(el);\r\n        containerId = container.id;\r\n\r\n        container.appendChild(tabPagePanel);\r\n\r\n        const tabbar = doc.querySelector(\"div\");\r\n        let banner, footer;\r\n        if (settings.banner) {\r\n            banner = addBanner(container);\r\n            container.prepend(banner);\r\n        }\r\n        if (settings.bottom) {\r\n            container.lastChild.after(doc);\r\n        } else {\r\n            container.lastChild.before(doc);\r\n        }\r\n        if (settings.footer) {\r\n            footer = addFooter(container);\r\n            container.lastChild.after(footer);\r\n        }\r\n        // container.style.height='100%';\r\n        // container.style.width='100%';\r\n        container.style.top =\r\n            container.style.bottom =\r\n            container.style.left =\r\n            container.style.right =\r\n                \"0\";\r\n        const bannerBox = banner ? banner.getBoundingClientRect() : null;\r\n        const bannerBottom = banner ? bannerBox.bottom - bannerBox.top : 0;\r\n\r\n        const footerBox = footer ? footer.getBoundingClientRect() : null;\r\n        const footerTop = footer ? footerBox.bottom - footerBox.top : 0;\r\n\r\n        if (settings.bottom) {\r\n            // tab bar is at bottom oftab window\r\n            tabbar.style.bottom = footerTop + \"px\";\r\n        } else {\r\n            tabbar.style.top = bannerBottom + \"px\";\r\n        }\r\n        tabbar.style.border = \"0px none transparent\";\r\n        tabPagePanel.style.border = \"0px none transparent\";\r\n    }\r\n    function applySelection(el, options) {\r\n        if (!el || !el.parentElement) {\r\n            return;\r\n        }\r\n        var tablinks = el.parentElement.children;\r\n        // console.log(el.parentElement.parentElement);\r\n        for (let i = 0; i < tablinks.length; i++) {\r\n            tablinks[i].classList.remove(\"active\");\r\n            tablinks[i].style.background = options.bg;\r\n            tablinks[i].style.color = options.color;\r\n            // tablinks[i].lastChild.lastChild.style.visibility = \"hidden\";\r\n        }\r\n\r\n        el.classList.add(\"active\");\r\n        el.style.background = options.activeBg;\r\n        el.style.color = options.activecolor;\r\n        // el.lastChild.lastChild.style.visibility = \"visible\";\r\n    }\r\n    const createTabs = function (el, options) {\r\n        var tabIndex = -1;\r\n        var currentIndex = 0;\r\n        var selectedTab,\r\n            tabBar,\r\n            rightBtn,\r\n            leftBtn,\r\n            addBtn,\r\n            leftNavId,\r\n            rightNavId,\r\n            pagePanelId,\r\n            addBtnId,\r\n            tabBarId,\r\n            themeOptions,\r\n            tabSettings,\r\n            containerId,\r\n            tabButtonsCount,\r\n            dragStartPoint,\r\n            dragStopPoint;\r\n        const links = {};\r\n        const tabs = new Map();\r\n        const buttons = {};\r\n        const pages = {};\r\n        const hiddenTabs = [];\r\n\r\n        init(el, options);\r\n        /**\r\n         * Initialize tab container\r\n         * @param {HTMLElement} el HTMLElement to attach tabs\r\n         * @param {Object} options Additional settings\r\n         * @returns void\r\n         */\r\n        function init(el, options) {\r\n            themeOptions = Object.assign({}, options);\r\n            const data = options.loadFromMarkup ? loadFromMarkup(el) : null;\r\n            if (data) {\r\n                themeOptions = Object.assign(themeOptions, data);\r\n            }\r\n            applySettings(themeOptions);\r\n            leftBtn = createButton(\"left-nav-button\", \"&lt;\", \"left\");\r\n            leftBtn.addEventListener(\"click\", () => {\r\n                scroll(false);\r\n            });\r\n\r\n            leftNavId = leftBtn.id;\r\n            addBtn = createButton(\"add-tab-button\", \"+\", \"left\");\r\n            addBtnId = addBtn.id;\r\n            if (themeOptions.add) {\r\n                addBtn.style.visibility = \"visible\";\r\n            } else {\r\n                addBtn.style.visibility = \"hidden\";\r\n            }\r\n            addBtn.addEventListener(\"click\", () => {\r\n                Event.fire(\"add-tab-click\", randomId());\r\n            });\r\n            tabBar = createBar();\r\n            const tabBarWraper = createTabBarWraper();\r\n            tabBarWraper.append(tabBar);\r\n            tabBarWraper.appendChild(leftBtn);\r\n            tabBarWraper.appendChild(addBtn);\r\n            tabBarId = tabBar.id;\r\n\r\n            rightBtn = createButton(\"right-nav-button\", \"&gt;\", \"right\");\r\n            // rightBtn = rightBtn;\r\n            tabBarWraper.appendChild(rightBtn);\r\n            rightBtn.addEventListener(\"click\", () => {\r\n                scroll(true);\r\n            });\r\n            // tabBarWraper.appendChild(rightBtn);\r\n            rightNavId = rightBtn.id;\r\n            const pagePanel = createPagePanel();\r\n            pagePanelId = pagePanel.id;\r\n            // let tabbar= doc.querySelector('div');\r\n            const doc = createTable(\r\n                tabBar.parentElement,\r\n                pagePanel,\r\n                themeOptions\r\n            );\r\n            const container =\r\n                typeof el === \"object\" ? el : document.getElementById(el);\r\n            containerId = container.id;\r\n            container.append(doc);\r\n            setTheme(themeOptions.theme);\r\n            attachDomEventListeners(this);\r\n            if (themeOptions.tabs) {\r\n                dynamicLoad(themeOptions.tabs);\r\n            }\r\n            toggleNavigator(getLeftNavButton(), false);\r\n            toggleNavigator(getRightNavButton(), false);\r\n        }\r\n\r\n        function getTabAtIndex(index) {\r\n            let tab = null;\r\n            let i = 0;\r\n            for (const value of tabs.values()) {\r\n                if (i === index) {\r\n                    tab = value;\r\n                    break;\r\n                }\r\n                i++;\r\n            }\r\n            return tab;\r\n        }\r\n\r\n        function unhide() {\r\n            // const tabs = tabs.entries()\r\n            const last = getTabAtIndex(tabs.size - 1).linkButton;\r\n            const visibles = getVisibleTabs();\r\n            const firstVisible = visibles[0];\r\n            if (!firstVisible.previousSibling) return;\r\n            // let lastVisible=visibles[visibles.length-1];\r\n            const lastHidden = firstVisible.previousSibling || firstVisible;\r\n            const width = lastHidden.getBoundingClientRect().width;\r\n            const gap =\r\n                tabBar.getBoundingClientRect().right -\r\n                last.getBoundingClientRect().right;\r\n            if (width < gap) {\r\n                scrollLinkIntoView(lastHidden);\r\n            }\r\n        }\r\n\r\n        function attachDomEventListeners() {\r\n            // let self = this\r\n            const tabBar = getTabBar();\r\n            window.addEventListener(\"resize\", () => {\r\n                debounce(() => {\r\n                    if (!selectedTab) return false;\r\n                    if (!isLinkVisible(selectedTab.linkButton)) {\r\n                        scrollLinkIntoView(selectedTab.linkButton);\r\n                    } else {\r\n                        unhide();\r\n                        scrollLinkIntoView(selectedTab.linkButton);\r\n                    }\r\n                    showHideNavButton();\r\n                }, 200)();\r\n            });\r\n\r\n            tabBar.addEventListener(\r\n                \"keyup\",\r\n                (event) => {\r\n                    handleKeypress(event);\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\r\n                \"drop\",\r\n                (event) => {\r\n                    event.preventDefault();\r\n\r\n                    dragStopPoint = event.clientX;\r\n                    drop(event);\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\r\n                \"dragover\",\r\n                (event) => {\r\n                    event.preventDefault();\r\n                },\r\n                true\r\n            );\r\n\r\n            tabBar.addEventListener(\"dragstart\", (event) => {\r\n                dragStartPoint = event.clientX;\r\n                drag(event);\r\n            });\r\n        }\r\n\r\n        function handleKeypress(e) {\r\n            const code = e.keyCode;\r\n            const link = selectedTab.button;\r\n            // eslint-disable-next-line default-case\r\n            if (!link) return;\r\n            switch (code) {\r\n                case 37:\r\n                    if (link.previousSibling) {\r\n                        select(link.previousSibling);\r\n                    }\r\n                    break; // left key\r\n                case 39:\r\n                    if (link.nextSibling) {\r\n                        select(link.nextSibling);\r\n                    }\r\n                    break; // right key\r\n                case 38:\r\n                    break; // up key\r\n                case 40:\r\n                    link.blur();\r\n                    break; // down key\r\n                case 13:\r\n                    break; // enter key\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        function showHideNavButton() {\r\n            // console.log(settings);\r\n            if (themeOptions.infinite_scroll) {\r\n                return;\r\n            }\r\n            const visibleButtons = getVisibleTabs();\r\n            var firstVisibleButton = visibleButtons[0];\r\n            var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n            if (!firstVisibleButton) return;\r\n            const rBtn = getRightNavButton();\r\n            const lBtn = getLeftNavButton();\r\n            if (firstVisibleButton.previousSibling) {\r\n                toggleNavButton(rBtn, true);\r\n            } else {\r\n                toggleNavButton(lBtn, false);\r\n            }\r\n            if (lastVisibleButton.nextSibling) {\r\n                toggleNavButton(rBtn, true);\r\n            } else {\r\n                toggleNavButton(rBtn, false);\r\n            }\r\n        }\r\n\r\n        function toggleNavButton(el, show) {\r\n            if (show) {\r\n                el.style.visibility = \"visible\";\r\n            } else {\r\n                el.style.visibility = \"hidden\";\r\n            }\r\n        }\r\n\r\n        function toggleAddButton(show) {\r\n            if (show) {\r\n                getAddButton().style.visibility = \"visible\";\r\n            } else {\r\n                getAddButton().style.visibility = \"hidden\";\r\n            }\r\n        }\r\n\r\n        function showHideNavigator() {\r\n            const visibleButtons = getVisibleTabs();\r\n            var firstVisibleButton = visibleButtons[0];\r\n            var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n\r\n            if (!firstVisibleButton) return;\r\n            if (firstVisibleButton.previousSibling) {\r\n                toggleNavigator(getLeftNavButton(), true);\r\n            } else {\r\n                toggleNavigator(getLeftNavButton(), false);\r\n            }\r\n            if (lastVisibleButton.nextSibling) {\r\n                toggleNavigator(getRightNavButton(), true);\r\n            } else {\r\n                toggleNavigator(getRightNavButton(), false);\r\n            }\r\n        }\r\n\r\n        function applyTheme(options) {\r\n            const table = getContainer().querySelector(\"table\");\r\n            table.style.background = options.bg;\r\n            table.style.color = options.color;\r\n            leftBtn.style.color =\r\n                rightBtn.style.color =\r\n                addBtn.style.color =\r\n                    options.color;\r\n        }\r\n\r\n        // Public API\r\n        /***\r\n         * @param theme String\r\n         * @returns null\r\n         */\r\n        function setTheme(theme) {\r\n            let color = \"#ddd\";\r\n            let bg = \"#222\";\r\n            let activecolor = \"#ddd\";\r\n            let activeBg = \"#003355\";\r\n            switch (theme) {\r\n                case \"dark\":\r\n                    bg = \"#002255\";\r\n                    activeBg = \"#003355\";\r\n                    color = \"#fff\";\r\n                    break;\r\n                case \"black\":\r\n                    bg = \"#111\";\r\n                    activeBg = \"#333\";\r\n                    color = \"#fff\";\r\n                    break;\r\n                case \"blue\":\r\n                    bg = \"rgba(8, 68, 117, 1)\";\r\n                    activeBg = \"rgba(10, 100, 186, 1)\";\r\n                    break;\r\n                case \"green\":\r\n                    bg = \"rgba(0, 149, 120, 1)\";\r\n                    activeBg = \"rgba(0, 139, 100, 0.9)\";\r\n                    break;\r\n                case \"red\":\r\n                    bg = \"rgb(120, 0, 30)\";\r\n                    activeBg = \"rgb(123, 0, 50)\";\r\n                    break;\r\n                case \"white\":\r\n                    bg = \"#bcd\";\r\n                    color = \"#000\";\r\n                    activecolor = \"#eee\";\r\n                    break;\r\n                default:\r\n                    bg = \"rgba(10, 100, 186, 1)\";\r\n                    activeBg = \"rgba(10, 100, 206, 1)\";\r\n                    color = \"#fff\";\r\n                    break;\r\n            }\r\n            tabSettings = {\r\n                bg: bg,\r\n                color: color,\r\n                activecolor: activecolor,\r\n                activeBg: activeBg,\r\n            };\r\n            applyTheme(tabSettings);\r\n        }\r\n\r\n        function getTheme() {\r\n            return themeOptions.theme;\r\n        }\r\n\r\n        function toggleNavigator(el, show) {\r\n            if (show) {\r\n                el.style.visibility = \"visible\";\r\n            } else {\r\n                el.style.visibility = \"hidden\";\r\n            }\r\n        }\r\n\r\n        function getSelectedTab() {\r\n            return selectedTab;\r\n        }\r\n\r\n        function getTab(tabId) {\r\n            return tabs.get(tabId);\r\n        }\r\n\r\n        function setContent(id, content) {\r\n            const page = tabs.get(id).pageId;\r\n            document.getElementById(page).innerHTML = content;\r\n        }\r\n\r\n        function setTitle(id, title) {\r\n            const link = tabs.get(id).linkId;\r\n            document.getElementById(link).firstElementChild.innerHTML = title;\r\n        }\r\n        function applySettings(options) {\r\n            const mySettings = {\r\n                limit: undefined,\r\n                banner: undefined,\r\n                footer: undefined,\r\n                close_click: undefined,\r\n                infinite_scroll: false,\r\n                style: \"normal\",\r\n                // navigation : true,\r\n                add: false,\r\n                // width   : '100%',\r\n                // height  : '100%',\r\n                theme: \"red\",\r\n                tab_height: 32,\r\n                left_tip: \"&lt;\",\r\n                right_tip: \"&gt;\",\r\n                add_tip: \"+\",\r\n                data: null,\r\n            };\r\n\r\n            themeOptions = Object.assign({}, mySettings, options, arguments[1]);\r\n        }\r\n        function dynamicLoad(tabs) {\r\n            if (!tabs) return;\r\n            let selected = null;\r\n            tabs.forEach((d) => {\r\n                if (d.selected) {\r\n                    selected = d.id;\r\n                }\r\n                const tab = add(d);\r\n                const page = getPage(tab.id);\r\n                // page.parentElement.style.top='80px';\r\n                // page.background='#054';\r\n                page.innerHTML =\r\n                    typeof d.html === \"function\" ? d.html() : d.html;\r\n                page.setAttribute(\"contenteditable\", true);\r\n                page.style.overflow = \"auto\";\r\n                page.style.zIndex = \"100\";\r\n            });\r\n            if (selected) {\r\n                select(selected);\r\n            }\r\n        }\r\n\r\n        function getPage(tabId) {\r\n            const tab = tabs.get(tabId);\r\n            return document.getElementById(tab.pageId);\r\n        }\r\n\r\n        function getLinkButton(linkId) {\r\n            return document.getElementById(linkId);\r\n        }\r\n\r\n        function getCloswButton(id) {\r\n            const linkButton = getLinkButton(id);\r\n            return linkButton ? linkButton.lastElementChild() : null;\r\n        }\r\n\r\n        function getTabPagePanel() {\r\n            return document.getElementById(pagePanelId);\r\n        }\r\n\r\n        function getRightNavButton() {\r\n            return rightBtn;\r\n        }\r\n\r\n        function getLeftNavButton() {\r\n            return leftBtn;\r\n        }\r\n\r\n        function getAddButton() {\r\n            return addBtn;\r\n        }\r\n\r\n        function getFooter() {\r\n            return document.getElementById(footerId);\r\n        }\r\n\r\n        function getBanner() {\r\n            return document.getElementById(bannerId);\r\n        }\r\n\r\n        function getTabBar() {\r\n            return document.getElementById(tabBarId);\r\n        }\r\n\r\n        function getContainer() {\r\n            return document.getElementById(containerId);\r\n        }\r\n        function hideExtraTabs() {\r\n            const links = Object.values(links);\r\n            const numTotal = links.length;\r\n            const numVisible = Math.min(numTotal, themeOptions.limit);\r\n            for (var i = 0; i < links.length; i++) {\r\n                links[i].style.display = \"none\"; // hide xo tabs.\r\n            }\r\n            for (var j = 0; j < numVisible; j++) {\r\n                links[j].style.display = \"inline\"; // Show visible tabs.\r\n            }\r\n        }\r\n\r\n        function getLinkTarget(el) {\r\n            try {\r\n                while (el.name !== \"tab-link\") {\r\n                    el = el.parentElement;\r\n                }\r\n                return el;\r\n            } catch (e) {\r\n                // const length = tabs.size - 1\r\n                return getTabAtIndex(tabs.size - 1).linkButton;\r\n                // Object.values(tabs)[length].linkButton\r\n            }\r\n        }\r\n\r\n        function allowDrop(ev) {\r\n            ev.preventDefault();\r\n        }\r\n\r\n        function drag(ev) {\r\n            ev.dataTransfer.setData(\"text\", ev.target.id);\r\n        }\r\n\r\n        function drop(ev) {\r\n            ev.preventDefault();\r\n            var data = ev.dataTransfer.getData(\"text\");\r\n            // do not drop on label wrappers or close button\r\n            var target = getLinkTarget(ev.target);\r\n            var dataEl = document.getElementById(data);\r\n\r\n            if (dragStartPoint > dragStopPoint) {\r\n                target.before(dataEl);\r\n            } else {\r\n                target.after(dataEl);\r\n            }\r\n            // target.parentNode.insertBefore(dataEl,dragStartPoint>dragStopPoint?target:target.nextSibling);\r\n        }\r\n        function add(options = {}) {\r\n            const length = Object.keys(buttons).length;\r\n            const tabId = options.tabId || randomId();\r\n            const buttonId = \"link-btn-\" + randomId(); // tabId,\r\n            let settings = {\r\n                buttonId: \"link-btn-\" + randomId(), // tabId,\r\n                target: \"page-\" + tabId,\r\n                label: \"Tab\" + Number(length + 1),\r\n                title: this.label,\r\n                html: \"\",\r\n                closable: true,\r\n                data: null,\r\n                icon: \"kb\",\r\n                bg: options.bg || \"inherit\",\r\n                color: options.color || \"inherit\",\r\n                style: options.style || \"fancy\",\r\n            };\r\n            options.bg = options.bg === \"transparent\" ? \"\" : options.bg;\r\n            if (options.buttonId === null) {\r\n                delete options.buttonId;\r\n            }\r\n\r\n            const tabSettings = Object.assign(settings, options);\r\n\r\n            var page = createPage(\r\n                tabSettings.target,\r\n                tabId,\r\n                buttonId,\r\n                tabSettings\r\n            );\r\n\r\n            getTabPagePanel().appendChild(page);\r\n            var linkButton = createLinkButton(buttonId, tabId, tabSettings);\r\n            // buttons[linkButton.id] = linkButton;\r\n\r\n            const labelContainer = createLabelContainer(tabSettings);\r\n            const img = createImage(tabSettings);\r\n            const label = createLabel(tabSettings.label, tabSettings.title);\r\n            const closeBtn = createCloseButton();\r\n\r\n            if (!tabSettings.closable) {\r\n                closeBtn.style.display = \"none\";\r\n                labelContainer.style.paddingRight = \"7px\";\r\n            }\r\n            labelContainer.append(img);\r\n            labelContainer.append(label);\r\n            labelContainer.append(closeBtn);\r\n            linkButton.append(labelContainer);\r\n\r\n            closeBtn.addEventListener(\"click\", (e) => {\r\n                close(tabId); // linkButton.getAttribute(\"data-tab\"));\r\n                e.stopImmediatePropagation();\r\n            });\r\n            // linkButton.append(labelContainer);\r\n            linkButton.addEventListener(\"click\", () => {\r\n                select(linkButton);\r\n            });\r\n\r\n            linkButton.addEventListener(\"mouseenter\", () => {\r\n                if (selectedTab.linkButton.id === linkButton.id) return;\r\n                closeBtn.style.visibility = \"visible\";\r\n            });\r\n\r\n            linkButton.addEventListener(\"mouseleave\", () => {\r\n                // const _tab = getSelectedTab();\r\n                if (selectedTab.linkButton.id === linkButton.id) return;\r\n                closeBtn.style.visibility = \"hidden\";\r\n            });\r\n\r\n            buttons[linkButton.id] = linkButton;\r\n            // If there was a selected button already, insert after it\r\n            // otherwise append at the end of tab list\r\n            if ((selectedTab = getSelectedTab())) {\r\n                // tab.selected=false;\r\n                selectedTab.linkButton.after(linkButton);\r\n                // getLinkButton(tab.linkId).after(linkButton);\r\n            } else {\r\n                getTabBar().appendChild(linkButton);\r\n            }\r\n            tabs.set(tabId, {\r\n                id: tabId,\r\n                label: tabSettings.label,\r\n                text: tabSettings.text,\r\n                title: tabSettings.title,\r\n                linkId: tabSettings.buttonId,\r\n                pageId: tabSettings.target,\r\n                data: tabSettings.data,\r\n                selected: tabSettings.selected,\r\n                linkButton: linkButton,\r\n                page: page,\r\n            });\r\n            selectedTab = tabs.get(tabId);\r\n            showHideNavButton();\r\n            select(linkButton);\r\n            if (tabSettings.selected) {\r\n                return selectedTab;\r\n            }\r\n            return selectedTab;\r\n        }\r\n\r\n        function select(el, before) {\r\n            let linkButton = el;\r\n            if (!el) {\r\n                throw new Error(\"Invalid tab address:\");\r\n            } else if (typeof el === \"string\" || isFinite(el)) {\r\n                linkButton = getLinkButton(el);\r\n            } else if (el.id) {\r\n                linkButton = el;\r\n            } else {\r\n                throw new Error(\"Invalid Button or ID\");\r\n            }\r\n\r\n            if (typeof before === \"function\") {\r\n                const result = before();\r\n                if (result === false) return false;\r\n            }\r\n            for (const tab of tabs.values()) {\r\n                if (tab.linkButton.id === linkButton.id) {\r\n                    tab.selected = true;\r\n                    selectedTab = tab;\r\n                    document.getElementById(tab.pageId).style.visibility =\r\n                        \"visible\";\r\n                    tab.linkButton.lastChild.lastChild.style.visibility =\r\n                        \"visible\";\r\n                    // console.log(tab.linkButton.lastChild.lastChild);\r\n                } else {\r\n                    tab.selected = false;\r\n                    document.getElementById(tab.pageId).style.visibility =\r\n                        \"hidden\";\r\n                    tab.linkButton.lastChild.lastChild.style.visibility =\r\n                        \"hidden\";\r\n                }\r\n            }\r\n            applySelection(linkButton, tabSettings);\r\n            if (!isLinkVisible(linkButton)) {\r\n                scrollLinkIntoView(linkButton);\r\n            }\r\n            Event.fire(\"select\", selectedTab);\r\n\r\n            return selectedTab;\r\n        }\r\n\r\n        function close(el) {\r\n            let tabId = el;\r\n            if (!el) {\r\n                throw new Error(\"Invalid tab address:\");\r\n            } else if (typeof id === \"string\") {\r\n                // tab id\r\n            } else if (el.id) {\r\n                tabId = el.id; // .substr(5);//button Element\r\n            }\r\n            const tab = tabs.get(tabId);\r\n            // console.log(el, tab, tabs);\r\n            if (!tab) return;\r\n            const link = tab.linkButton; // getLinkButton(tab.linkId);\r\n            const next = link.nextSibling;\r\n            const prev = link.previousSibling;\r\n            Event.fire(\"before_close\", tab);\r\n            link.remove();\r\n            document.getElementById(tab.pageId).remove();\r\n            selectedTab = null; // delete selectedTab;\r\n            tabs.delete(tabId);\r\n\r\n            Event.fire(\"close\", tab);\r\n            if (next && next.tagName === \"BUTTON\") {\r\n                select(next);\r\n            } else if (prev && prev.tagName === \"BUTTON\") {\r\n                select(prev);\r\n            }\r\n            showHideNavigator();\r\n            scroll(true);\r\n            return tabId;\r\n        }\r\n\r\n        function isLinkVisible(link) {\r\n            const box = link.getBoundingClientRect();\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return false;\r\n            const box1 = tabbar.getBoundingClientRect();\r\n            return box.left >= box1.left && box.right <= box1.right;\r\n        }\r\n\r\n        function getVisibleTabs() {\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return false;\r\n            var links = Array.prototype.slice.call(\r\n                tabbar.querySelectorAll(\"button\")\r\n            );\r\n            return links.filter((link) => {\r\n                return isLinkVisible(link);\r\n            });\r\n        }\r\n\r\n        function getHiddenTabs() {\r\n            var links = Array.prototype.slice.call(\r\n                getTabBar().querySelectorAll(\"button\")\r\n            );\r\n            return links.filter((link) => {\r\n                return !isLinkVisible(link);\r\n            });\r\n        }\r\n\r\n        function scroll(right) {\r\n            if (themeOptions.infinite_scroll) {\r\n                infiniteScroll(right);\r\n            } else {\r\n                finiteScroll(right);\r\n                showHideNavigator();\r\n            }\r\n        }\r\n\r\n        function scrollLinkIntoView(el) {\r\n            if (isLinkVisible(el)) return;\r\n            const max = tabs.size;\r\n            let count = 0;\r\n            while (!isLinkVisible(el)) {\r\n                getRightNavButton().click();\r\n                count++;\r\n                if (count > max) break;\r\n            }\r\n            count = 0;\r\n            while (!isLinkVisible(el)) {\r\n                getLeftNavButton().click();\r\n                count++;\r\n                if (isLinkVisible(el)) return;\r\n                if (count > max) break;\r\n            }\r\n        }\r\n\r\n        function finiteScroll(right) {\r\n            tabButtonsCount = tabButtonsCount ? tabButtonsCount : 1;\r\n            tabButtonsCount++;\r\n            const visibleButtons = getVisibleTabs();\r\n            var firstVisibleButton = visibleButtons[0];\r\n            var lastVisibleButton = visibleButtons[visibleButtons.length - 1];\r\n            if (right && lastVisibleButton && lastVisibleButton.nextSibling) {\r\n                firstVisibleButton.style.display = \"none\";\r\n            } else if (\r\n                !right &&\r\n                firstVisibleButton &&\r\n                firstVisibleButton.previousSibling\r\n            ) {\r\n                firstVisibleButton.previousSibling.style.display = \"\";\r\n            } else {\r\n                const tabbar = getTabBar();\r\n                if (!tabbar) return;\r\n                const bts = tabbar.querySelectorAll(\"button\");\r\n                if (bts.length > 0) {\r\n                    bts[bts.length - 1].style.display = \"\";\r\n                }\r\n            }\r\n        }\r\n\r\n        function infiniteScroll(right) {\r\n            const tabbar = getTabBar();\r\n            if (!tabbar) return;\r\n            var links = tabbar.querySelectorAll(\"button\");\r\n            if (links.length > 1) {\r\n                if (right) {\r\n                    links[links.length - 1].after(links[0]);\r\n                } else {\r\n                    links[0].before(links[links.length - 1]);\r\n                }\r\n            }\r\n        }\r\n\r\n        function destroy() {\r\n            // destroy\r\n            removeListeners();\r\n        }\r\n        return {\r\n            init,\r\n            add,\r\n            close,\r\n            setTheme,\r\n            getTheme,\r\n            destroy,\r\n        };\r\n    };\r\n    return {\r\n        createTabs,\r\n        randomId,\r\n        Emitter,\r\n        Event,\r\n        debounce,\r\n    };\r\n})();\r\n\r\nexport default TabView;\r\n"],"names":["randomId","Math","random","toString","slice","debounce","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","_listeners","Event","addListener","type","listener","push","attach","on","fire","event","data","target","Error","Array","listeners","i","len","length","call","trigger","removeListener","splice","off","createButton","name","text","float","btn","document","createElement","id","setAttribute","style","height","border","background","color","marginRight","marginLeft","padding","paddingLeft","paddingRight","cursor","fontWeight","fontSize","outline","innerHTML","borderRadius","addFooter","footer","settings","className","left","right","bottom","display","justifyContent","alignItems","addBanner","banner","createTabs","el","options","selectedTab","tabBar","rightBtn","leftBtn","addBtn","pagePanelId","tabBarId","themeOptions","tabSettings","containerId","dragStartPoint","dragStopPoint","tabs","Map","buttons","init","Object","assign","loadFromMarkup","fn","getElementById","children","markup","querySelector","links","pages","remove","node","page","label","textContent","title","getAttribute","closable","selected","html","bg","mySettings","limit","undefined","close_click","infinite_scroll","add","theme","tab_height","left_tip","right_tip","add_tip","applySettings","addEventListener","scroll","visibility","position","top","overflow","margin","createBar","tabbarContainer","tabBarWraper","width","append","appendChild","panel","pagePanel","doc","tabBarWrapper","createDocumentFragment","table","thead","bannerRow","minHeight","maxHeight","th","textAlign","tbody","linkRow","td","whiteSpace","borderCollapse","pageRow","linkRow2","footerRow","createTextNode","firstElementChild","nextSibling","createTable","parentElement","container","setTheme","getTabBar","window","isLinkVisible","linkButton","unhide","scrollLinkIntoView","showHideNavButton","e","link","button","keyCode","previousSibling","select","blur","handleKeypress","preventDefault","clientX","ev","dataTransfer","getData","getTabAtIndex","size","getLinkTarget","dataEl","before","after","drop","setData","attachDomEventListeners","forEach","d","getPage","zIndex","dynamicLoad","toggleNavigator","getLeftNavButton","getRightNavButton","index","tab","values","last","firstVisible","getVisibleTabs","lastHidden","getBoundingClientRect","visibleButtons","firstVisibleButton","lastVisibleButton","rBtn","lBtn","toggleNavButton","show","showHideNavigator","activecolor","activeBg","applyTheme","tabId","get","pageId","keys","buttonId","Number","icon","linkId","createPage","boxShadow","transition","createLinkButton","labelContainer","alignContent","createLabelContainer","img","createImage","verticalAlign","maxWidth","createLabel","closeBtn","close","stopImmediatePropagation","set","isFinite","lastChild","tablinks","classList","applySelection","next","prev","tagName","box","tabbar","box1","prototype","querySelectorAll","filter","infiniteScroll","bts","finiteScroll","max","count","click","getTheme","destroy","removeListeners","Emitter","cancelable","bubbles","cntx","myEvent","CustomEvent","detail","dispatchEvent","removeEventListener"],"mappings":"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"}