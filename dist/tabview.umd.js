!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).TabView=t()}(this,function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}return function(){function t(){return Math.random().toString(36).slice(2)}var n=function(){var e={};return{addListener:function(t,n){void 0===e[t]&&(e[t]=[]),e[t].push(n)},attach:function(e,t){this.addListener(e,t)},on:function(e,t){this.addListener(e,t)},fire:function(t,n,r){if("string"==typeof t&&(t={type:t,data:n,target:r}),t.target||(t.target=this),!t.type)throw new Error("Type error");if(e[t.type]instanceof Array)for(var i=e[t.type],l=0,a=i.length;l<a;l++)i[l].call(this,t)},trigger:function(e,t){this.fire(e,t)},removeListener:function(t,n){if(e[t]instanceof Array)for(var r=e[t],i=0,l=r.length;i<l;i++)if(r[i]===n){r.splice(i,1);break}},off:function(e,t){this.removeListener(e,t)}}};function r(e,n,r){var i=document.createElement("button");return i.id=t(),i.setAttribute("name",e),i.style.position="relative",i.style.height="100%",i.style.border="0 none transparent",i.style.background="transparent",i.style.color="white",i.style.marginRight=i.style.marginLeft="1px",i.style.padding="2px",i.style.cursor="pointer",i.style.fontWeight="900",i.style.fontSize="14px",i.style.float=r||"none",i.style.outline="none",i.style.borderRadius="4px 4px",i.innerHTML=n,i}function i(){var e=document.createElement("span");return e.setAttribute("name","tab-footer"),e.innerHTML=settings.footer,e.className="tab-footer",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.padding="2px",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e}function l(){var e=document.createElement("span");return e.setAttribute("name","tab-banner"),e.innerHTML="string"==typeof settings.banner?settings.banner:settings.banner.innerHTML,e.style.display="flex",e.style.padding="5px",e.style.justifyContent="center",e.style.alignItems="center",e.className="tab-banner",e.style.background="green",e}return{createTabs:function(a,o){var s,d,c,u,y,b,p,f,g,m,v,h,x,E=new n,k=new Map,A={};function w(t){for(var n,r=null,i=0,l=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(k.values());!(n=l()).done;){if(i===t){r=n.value;break}i++}return r}function I(){var e=D(),t=e[0],n=e[e.length-1];t&&(T(M(),!!t.previousSibling),T(H(),!!n.nextSibling))}function L(e,t){e.style.display=t?"block":"none"}function S(e){var t="#ddd",n="#4486a3",r="#ddd",i="#4476a3";switch(e){case"dark":case"black":break;case"blue":n="rgba(8, 68, 117, 1)",i="rgba(10, 100, 186, 1)";break;case"green":n="rgba(0, 149, 120, 1)",i="#054";break;case"red":n="rgb(120, 0, 30)",i="rgb(123, 0, 50)";break;case"white":n="#bcd",t="#000",r="#eee";break;default:n="rgba(10, 100, 186, 1)",i="rgba(10, 100, 206, 1)",t="#fff"}!function(e){var t=v.querySelector("table");t.style.background="",t.style.color=e.color,y.style.color=u.style.color=b.style.color=e.color,c.style.background=e.activeBg}(m={bg:n,color:t,activecolor:r,activeBg:i})}function T(e,t){e.style.display=t?"block":"none"}function C(){return s}function B(e){var t=k.get(e);return document.getElementById(t.pageId)}function H(){return u}function M(){return y}function j(){return document.getElementById(f)}function R(e){e.stopImmediatePropagation(),q(this.getAttribute("data-tab"))}function N(e){void 0===e&&(e={});var n=function(e){var n=Object.keys(A).length,r=e.tabId||t(),i="tab-btn-"+r,l="tab-page-"+r,a=e.label||"Tab"+Number(n+1);return Object.assign({tabId:r,buttonId:i,target:l,label:a,title:e.title||a,html:e.html||"",closable:e.close||!0,data:e.data||null,icon:e.icon||"",bg:e.bg||"inherit",color:e.color||"inherit",fancy:g.fancy},e)}(e),r=function(e,t,n,r){var i=document.createElement("div");return i.setAttribute("id",e),i.setAttribute("data-tab",t),i.setAttribute("data-trigger",n),i.innerHTML=r.text||"",i.style.position="absolute",i.style.padding="8px 16px",i.style.visibility="hidden",i.style.overflow="hidden",i.style.top=i.style.bottom=i.style.left=i.style.right="0",i.style.background=r.bg||"",i}(n.target,n.tabId,n.buttonId,n);document.getElementById(p).appendChild(r);var i=function(e,t,n){var r=n.target,i=n.fancy,l=n.title,a=n.bg,o=document.createElement("button");return o.className="tab-link",o.setAttribute("href","#!"),o.setAttribute("id",e),o.setAttribute("title",l),o.setAttribute("name","tab-link"),o.setAttribute("draggable","true"),o.setAttribute("data-tab",t),o.setAttribute("data-target",r),o.style.position="relative",o.style.outline="none",o.style.height="100%",o.style.width="auto",o.style.border="0 none transparent",o.style.fontSize="12px",o.style.fontWeight="500",o.style.margin="0",o.style.padding="0",o.style.boxShadow="none",o.style.background=a||"inherit",o.style.color="inherit",o.style.cursor="pointer",o.style.display="block",o.style.transition="background .1s",o.style.borderRadius=i?"8px 1px 0px 0px":"1px 1px 0px 0px",o}(n.buttonId,n.tabId,n),l=function(e){var t=document.createElement("label");return t.setAttribute("name","tab-link-label-wraper"),t.style.display="flex",t.style.alignContent="center",t.style.alignItems="center",t.style.padding="2px",t.style.height="100%",t.style.width="100%",t.style.color="inherit",t.style.background="transparent",t.style.cursor="pointer",t}(),a=function(e){var t=document.createElement("span");return t.style.marginRight="2px",t.style.fontWeight="bold",t.innerHTML=e.icon||"kb",t.style.float="left",t.style.paddingLeft="4px",t}(n),o=function(e,t){var n=document.createElement("label");return n.setAttribute("name","tab-link-label"),n.className="tab-link-label",n.style.margin="0",n.style.paddingRight="4px",n.style.paddingLeft="2px",n.style.verticalAlign="middle",n.style.color="inherit",n.style.maxWidth="125px",n.style.overflow="hidden",n.style.textOverflow="ellipse",n.style.whiteSpace="nowrap",n.style.background="",n.style.cursor="pointer",n.style.fontSize="inherit",n.style.fontWeight="inherit",n.append(document.createTextNode(e)),n.setAttribute("title",t||e),n}(n.label,n.title),d=function(){var e=document.createElement("a");return e.innerHTML="&times",e.setAttribute("name","close-button"),e.setAttribute("title","close"),e.style.borderRadius="50%",e.style.visibility="hidden",e.style.height=e.style.width="16px",e.style.float="right",e.style.marginRight="2px",e.style.marginLeft="5px",e.style.display="flex",e.style.padding="2px 0px 0px 4px",e.style.alignContent="center",e.style.alignItems="center",e.style.fontSize="18px",e.style.color="#efefef",e.style.fontWeight="700",e.style.background="transparent",e.addEventListener("mouseenter",function(){e.style.color="red"}),e.addEventListener("mouseleave",function(){e.style.color=""}),e}();return n.closable||(d.style.display="none",l.style.paddingRight="7px"),l.append(a),l.append(o),l.append(d),i.append(l),i.addEventListener("mouseup",R),i.addEventListener("mouseenter",function(e){e.stopPropagation(),s.linkButton.id!==i.id&&(d.style.visibility="visible")}),i.addEventListener("mouseleave",function(e){e.stopPropagation(),s.linkButton.id!==i.id&&(d.style.visibility="hidden")}),d.addEventListener("mousedown",function(e){e.stopPropagation(),z(n.tabId)}),A[i.id]=i,(s=C())?s.linkButton.after(i):j().appendChild(i),k.set(n.tabId,{id:n.tabId,label:n.label,text:n.text,title:n.title,linkId:n.buttonId,pageId:n.target,data:n.data,selected:n.buttonId,linkButton:i,page:r}),s=k.get(n.tabId),function(){var e=D(),t=e[0],n=e[e.length-1];if(t){var r=H(),i=M();t.previousSibling?L(r,!0):L(i,!1),L(r,!!n.nextSibling)}}(),q(i.getAttribute("data-tab")),s}function q(e){if(!e)throw new Error("Invalid tab address:");s&&(document.getElementById(s.pageId).style.visibility="hidden",s.linkButton.lastChild.lastChild.style.visibility="hidden",s.selected=!1);var t=k.get(e);return document.getElementById(t.pageId).style.visibility="visible",t.linkButton.lastChild.lastChild.style.visibility="visible",t.selected=!0,function(e,t){if(e&&e.parentElement){for(var n=e.parentElement.children,r=0;r<n.length;r++)n[r].classList.remove("active"),n[r].style.background=t.bg,n[r].style.color=t.color,n[r].style.boxShadow="1px 1px 2px 1px #333";e.classList.add("active"),e.style.background=t.activeBg,e.style.color=t.activecolor,e.style.boxShadow="4px 4px 16px 2px #333"}}(t.linkButton,m),O(t.linkButton)||function(e){if(!O(e)){for(var t=k.size,n=0;!(O(e)||(H().click(),++n>t)););for(n=0;!O(e);){if(M().click(),n++,O(e))return;if(n>t)break}}}(t.linkButton),E.fire("select",s=t),s}function z(e){if(!e)throw new Error("Invalid tab address:");var t=k.get(e);if(t){var n=t.linkButton,r=n.nextSibling,i=n.previousSibling;return E.fire("before_close",t),n.remove(),document.getElementById(t.pageId).remove(),s=null,k.delete(e),E.fire("close",t),r&&r.getAttribute("data-tab")?q(r.getAttribute("data-tab")):i&&i.getAttribute("data-tab")&&q(i.getAttribute("data-tab")),I(),W(),e}}function O(e){var t=e.getBoundingClientRect(),n=j();if(!n)return!1;var r=n.getBoundingClientRect();return t.left>=r.left&&t.right<=r.right}function D(){var e=j();return!!e&&Array.prototype.slice.call(e.querySelectorAll("button")).filter(function(e){return O(e)})}function W(e){g.infiniteScroll?function(e){var t=j();if(t){var n=t.querySelectorAll("button");n.length>1&&(e?n[n.length-1].after(n[0]):n[0].before(n[n.length-1]))}}(e):(function(e){var t=D(),n=t[0],r=t[t.length-1];if(e&&r&&r.nextSibling)n.style.display="none";else if(!e&&n&&n.previousSibling)n.previousSibling.style.display="";else{var i=j();if(!i)return;var l=i.querySelectorAll("button");l.length>0&&(l[l.length-1].style.display="")}}(e),I())}return function(e,n){v="object"==typeof e&&e instanceof HTMLElement?e:document.getElementById(e),g=n;var a,o=n.loadFromMarkup?function(e,t){if("string"==typeof e&&(e=document.getElementById(e)),!e||!e.children)throw new Error("Invalid element to load markup");var n=e.children;if(!n||0===n.length)return(void 0)();var r=e.querySelector(".tab-banner"),i=e.querySelector(".tab-footer"),l=e.querySelector(".tab-links").children,a=e.querySelector(".tab-pages").children,o={banner:r.innerHTML,footer:i.innerHTML,tabs:[]};for(r&&r.remove(),i&&i.remove();l.length>0;){var s=l[0],d=a[0];s&&(o.tabs.push({id:""!==s.id?s.id:null,label:s.textContent,title:s.getAttribute("title"),closable:s.getAttribute("closable"),target:s.getAttribute("data-target"),selected:s.getAttribute("selected"),html:d?d.innerHTML:"",bg:d?d.style.background:"#0bc",style:s.getAttribute("tab-style")}),s.remove(),d.remove())}return o}(e):null;o&&(g=Object.assign(g,o)),function(e){g=Object.assign({limit:void 0,banner:void 0,footer:void 0,closeOnClick:void 0,infiniteScroll:!1,fancy:!1,add:!1,theme:"",tabHeight:32,leftTooltip:"&lt;",rightTooltip:"&gt;",addTooltip:"+",data:null},e)}(g),(y=r("left-nav-button","&lt;","left")).addEventListener("mousedown",function(){W(!1)}),(b=r("add-tab-button","+","left")).style.visibility=g.add?"visible":"hidden",b.addEventListener("mousedown",function(){E.fire("add-tab-click",t())}),d=function(){var e=document.createElement("div");return e.setAttribute("id",t()),e.style.position="absolute",e.style.top="0",e.style.bottom="0",e.style.left="16px",e.style.right="16px",e.style.overflow="hidden",e.style.padding="1px",e.style.margin="0px",e.style.paddingRight="7px",e.style.background="inherit",e.style.display="flex",e.className="tab-bar",e}(),f=d.id,(a=document.createElement("div"),a.style.position="relative",a.style.height="100%",a.style.width="100%",a.style.border="none",a.style.padding="0",a.style.background="red",a.className="tabbar-wrapper",c=a).appendChild(y),c.append(d),(u=r("right-nav-button","&gt;","right")).addEventListener("mousedown",function(){W(!0)}),c.appendChild(u);var m,A=((m=document.createElement("div")).setAttribute("id",t()),m.style.position="relative",m.className="tab-panel",m.style.width="100%",m.style.height="100%",m.style.overflow="hidden",m.style.margin="0",m.style.top="0",m.style.background="",m);p=A.id;var I=function(e,t,n){var r,a;void 0===n&&(n={}),n.banner&&(r=l()),n.footer&&(a=i());var o=document.createDocumentFragment(),s=document.createElement("table");s.style.width=s.style.height="100%",o.append(s);var d=document.createElement("thead");s.append(d);var c=document.createElement("tr");c.style.minHeight="0px",c.style.maxHeight="80px",d.append(c);var u=document.createElement("th");u.style.textAlign="left",u.style.padding="0",r?u.append(r):c.style.display="none",c.appendChild(u);var y=document.createElement("tbody");s.append(y);var b=document.createElement("tr");b.style.minHeight="24px",b.style.height=n.tabHeight+"px",b.style.padding="0",y.append(b);var p=document.createElement("td");p.style.overflow="hidden",p.style.whiteSpace="nowrap",p.style.textAlign="left",p.style.padding="0",p.append(e),b.appendChild(p),s.style.borderCollapse=b.style.borderCollapse=p.style.borderCollapse="collapse",s.style.border=b.style.border=p.style.border="0 none transparent";var f=document.createElement("tr");y.append(f),(p=document.createElement("td")).append(t),p.style.textAlign="left",p.style.padding="0",f.appendChild(p);var g=document.createElement("tr");y.append(g),(p=document.createElement("td")).style.textAlign="left",p.style.padding="0",g.appendChild(p),g.style.minHeight="24px",g.style.height=n.tabHeight+"px";var m=document.createElement("tr");return y.append(m),p=document.createElement("td"),m.appendChild(p),m.style.maxHeight="24px",(p=document.createElement("td")).style.padding="0",a?p.append(a||document.createTextNode("")):m.style.display="none",m.appendChild(p),(p=document.createElement("td")).style.padding="0",m.appendChild(p),n.bottom?(g.firstElementChild.nextSibling.appendChild(e),b.style.display="none"):g.style.display="none",o}(c,A,g);v.append(I),S(g.theme),function(){var e=j();window.addEventListener("resize",function(){}),e.addEventListener("keyup",function(e){!function(e){var t=s.button;if(t)switch(e.keyCode){case 37:t.previousSibling&&q(t.previousSibling.getAttribute("data-tab"));break;case 39:t.nextSibling&&q(t.nextSibling.getAttribute("data-tab"));break;case 38:break;case 40:t.blur()}}(e)},!0),e.addEventListener("drop",function(e){e.preventDefault(),x=e.clientX,function(e){e.preventDefault();var t=e.dataTransfer.getData("text"),n=function(e){try{for(;"tab-link"!==e.name;)e=e.parentElement;return e}catch(e){return w(k.size-1).linkButton}}(e.target),r=document.getElementById(t);h>x?n.before(r):n.after(r)}(e)},!0),e.addEventListener("dragover",function(e){e.preventDefault()},!0),e.addEventListener("dragstart",function(e){var t;h=e.clientX,(t=e).dataTransfer.setData("text",t.target.id)})}(),g.tabs&&function(e){if(e){var t=null;e.forEach(function(e){e.selected&&(t=e.id);var n=B(N(e).id);n.innerHTML="function"==typeof e.html?e.html():e.html,n.setAttribute("contenteditable",!0),n.style.overflow="auto",n.style.zIndex="100"}),t&&q(t)}}(g.tabs),T(M(),!1),T(H(),!1)}(a,o),{add:N,close:z,select:q,getTab:function(e){return k.get(e)},getTabAtIndex:w,getSelectedTab:C,getTabs:function(){return k},setTheme:S,getTheme:function(){return g.theme},onSelect:function(e){E.addListener("select",e)},onClose:function(e){E.addListener("close",e)},destroy:function(){console.log("Tabs Destroyed")}}},randomId:t,Emitter:{fire:function(e,t,n,r,i){var l=n||document,a=new CustomEvent(e,{detail:t,cancelable:r||!1,bubbles:i||!1});l.dispatchEvent(a)},on:function(e,t,n){(n||document).addEventListener(e,t)},off:function(e,t,n){(n||document).removeEventListener(e,t)}},Event:n,debounce:function(e,t,n){var r;return function(){var i=this,l=arguments,a=function(){r=null,n||e.apply(i,l)},o=n&&!r;clearTimeout(r),r=setTimeout(a,t),o&&e.apply(i,l)}}}}()});
//# sourceMappingURL=tabview.umd.js.map
