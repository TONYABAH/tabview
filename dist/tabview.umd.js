!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).TabView=t()}(this,function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}return function(){function t(){return Math.random().toString(36).slice(2)}var n=function(){var e={};return{addListener:function(t,n){void 0===e[t]&&(e[t]=[]),e[t].push(n)},attach:function(e,t){this.addListener(e,t)},on:function(e,t){this.addListener(e,t)},fire:function(t,n,i){if("string"==typeof t&&(t={type:t,data:n,target:i}),t.target||(t.target=this),!t.type)throw new Error("Type error");if(e[t.type]instanceof Array)for(var r=e[t.type],l=0,a=r.length;l<a;l++)r[l].call(this,t)},trigger:function(e,t){this.fire(e,t)},removeListener:function(t,n){if(e[t]instanceof Array)for(var i=e[t],r=0,l=i.length;r<l;r++)if(i[r]===n){i.splice(r,1);break}},off:function(e,t){this.removeListener(e,t)}}};function i(e,n,i){var r=document.createElement("button");return r.id=t(),r.setAttribute("name",e),r.style.position="relative",r.style.height="100%",r.style.border="0 none transparent",r.style.background="transparent",r.style.color="white",r.style.marginRight=r.style.marginLeft="2px",r.style.padding="2px",r.style.paddingLeft=r.style.paddingRight="7px",r.style.cursor="pointer",r.style.fontWeight="900",r.style.fontSize="14px",r.style.float=i||"none",r.style.outline="none",r.style.borderRadius="4px 4px",r.innerHTML=n,r}function r(){var e=document.createElement("span");return e.setAttribute("name","tab-footer"),e.innerHTML=settings.footer,e.className="tab-footer",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.padding="2px",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e}function l(){var e=document.createElement("span");return e.setAttribute("name","tab-banner"),e.innerHTML="string"==typeof settings.banner?settings.banner:settings.banner.innerHTML,e.style.display="flex",e.style.padding="5px",e.style.justifyContent="center",e.style.alignItems="center",e.className="tab-banner",e.style.background="green",e}return{createTabs:function(a,o){var s,d,c,u,y,b,p,f,g,m,v,h,x=new n,E=new Map,k={};function A(t){for(var n,i=null,r=0,l=function(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t))){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(E.values());!(n=l()).done;){if(r===t){i=n.value;break}r++}return i}function w(e,t){e.style.visibility=t?"visible":"hidden"}function I(){var e=D(),t=e[0],n=e[e.length-1];t&&(S(H(),!!t.previousSibling),S(B(),!!n.nextSibling))}function L(e){var t="#ddd",n="#222",i="#ddd",r="#003355";switch(e){case"dark":n="#002255",r="#003355",t="#fff";break;case"black":n="#111",r="#333",t="#fff";break;case"blue":n="rgba(8, 68, 117, 1)",r="rgba(10, 100, 186, 1)";break;case"green":n="rgba(0, 149, 120, 1)",r="#054";break;case"red":n="rgb(120, 0, 30)",r="rgb(123, 0, 50)";break;case"white":n="#bcd",t="#000",i="#eee";break;default:n="rgba(10, 100, 186, 1)",r="rgba(10, 100, 206, 1)",t="#fff"}!function(e){var t=m.querySelector("table");t.style.background=e.bg,t.style.color=e.color,u.style.color=c.style.color=y.style.color=e.color}(g={bg:n,color:t,activecolor:i,activeBg:r})}function S(e,t){e.style.visibility=t?"visible":"hidden"}function T(){return s}function C(e){var t=E.get(e);return document.getElementById(t.pageId)}function B(){return c}function H(){return u}function M(){return document.getElementById(p)}function R(e){e.stopImmediatePropagation(),N(this.getAttribute("data-tab"))}function j(e){void 0===e&&(e={});var n=function(e){var n=Object.keys(k).length,i=e.tabId||t(),r="tab-btn-"+i,l="tab-page-"+i,a=e.label||"Tab"+Number(n+1);return Object.assign({tabId:i,buttonId:r,target:l,label:a,title:e.title||a,html:e.html||"",closable:e.close||!0,data:e.data||null,icon:e.icon||"",bg:e.bg||"inherit",color:e.color||"inherit",fancy:f.fancy},e)}(e),i=function(e,t,n,i){var r=document.createElement("div");return r.setAttribute("id",e),r.setAttribute("data-tab",t),r.setAttribute("data-trigger",n),r.innerHTML=i.text||"",r.style.position="absolute",r.style.padding="8px 16px",r.style.visibility="hidden",r.style.overflow="auto",r.style.top=r.style.bottom=r.style.left=r.style.right="0",r.style.background=i.bg||"",r}(n.target,n.tabId,n.buttonId,n);document.getElementById(b).appendChild(i);var r=function(e,t,n){var i=n.target,r=n.fancy,l=n.title,a=n.bg,o=document.createElement("button");return o.className="tab-link",o.setAttribute("href","#!"),o.setAttribute("id",e),o.setAttribute("title",l),o.setAttribute("name","tab-link"),o.setAttribute("draggable","true"),o.setAttribute("data-tab",t),o.setAttribute("data-target",i),o.style.position="relative",o.style.outline="none",o.style.height="100%",o.style.width="auto",o.style.border="0 none transparent",o.style.fontSize="12px",o.style.fontWeight="500",o.style.margin="0",o.style.padding="0",o.style.boxShadow="none",o.style.background=a||"inherit",o.style.color="inherit",o.style.cursor="pointer",o.style.display="block",o.style.transition="background .4s",o.style.borderRadius=r?"8px 1px 0px 0px":"1px 1px 0px 0px",o}(n.buttonId,n.tabId,n),l=function(e){var t=document.createElement("label");return t.setAttribute("name","tab-link-label-wraper"),t.style.display="flex",t.style.alignContent="center",t.style.alignItems="center",t.style.padding="2px",t.style.height="100%",t.style.width="100%",t.style.color="inherit",t.style.background="transparent",t.style.cursor="pointer",t}(),a=function(e){var t=document.createElement("span");return t.style.marginRight="7px",t.style.color="#b00",t.style.fontWeight="bold",t.innerHTML=e.icon||"kb",t.style.float="left",t}(n),o=function(e,t){var n=document.createElement("label");return n.setAttribute("name","tab-link-label"),n.className="tab-link-label",n.style.margin="0",n.style.paddingRight="2px",n.style.paddingLeft="2px",n.style.verticalAlign="middle",n.style.padding="0",n.style.color="inherit",n.style.maxWidth="80px",n.style.overflow="hidden",n.style.whiteSpace="nowrap",n.style.background="",n.style.cursor="pointer",n.style.fontSize="inherit",n.style.fontWeight="inherit",n.append(document.createTextNode(e)),n.setAttribute("title",t||e),n}(n.label,n.title),d=function(){var e=document.createElement("a");return e.innerHTML="&times",e.setAttribute("name","close-button"),e.setAttribute("title","close"),e.style.borderRadius="50%",e.style.visibility="hidden",e.style.height=e.style.width="20px",e.style.float="right",e.style.marginRight="2px",e.style.marginLeft="5px",e.style.display="flex",e.style.padding="2px 0px 0px 4px",e.style.alignContent="center",e.style.alignItems="center",e.style.fontSize="18px",e.style.color="#efefef",e.style.fontWeight="700",e.style.background="transparent",e.addEventListener("mouseenter",function(){e.style.background="#555"}),e.addEventListener("mouseleave",function(){e.style.background=""}),e}();return n.closable||(d.style.display="none",l.style.paddingRight="7px"),l.append(a),l.append(o),l.append(d),r.append(l),r.addEventListener("mouseup",R),r.addEventListener("mouseenter",function(){s.linkButton.id!==r.id&&(d.style.visibility="visible")}),r.addEventListener("mouseleave",function(){s.linkButton.id!==r.id&&(d.style.visibility="hidden")}),d.addEventListener("mousedown",function(e){q(n.tabId),e.stopImmediatePropagation()}),k[r.id]=r,(s=T())?s.linkButton.after(r):M().appendChild(r),E.set(n.tabId,{id:n.tabId,label:n.label,text:n.text,title:n.title,linkId:n.buttonId,pageId:n.target,data:n.data,selected:n.buttonId,linkButton:r,page:i}),s=E.get(n.tabId),function(){var e=D(),t=e[0],n=e[e.length-1];if(t){var i=B(),r=H();t.previousSibling?w(i,!0):w(r,!1),w(i,!!n.nextSibling)}}(),N(r.getAttribute("data-tab")),s}function N(e){if(!e)throw new Error("Invalid tab address:");s&&(document.getElementById(s.pageId).style.visibility="hidden",s.linkButton.lastChild.lastChild.style.visibility="hidden",s.selected=!1);var t=E.get(e);return document.getElementById(t.pageId).style.visibility="visible",t.linkButton.lastChild.lastChild.style.visibility="visible",t.selected=!0,function(e,t){if(e&&e.parentElement){for(var n=e.parentElement.children,i=0;i<n.length;i++)n[i].classList.remove("active"),n[i].style.background=t.bg,n[i].style.color=t.color;e.classList.add("active"),e.style.background=t.activeBg,e.style.color=t.activecolor}}(t.linkButton,g),z(t.linkButton)||function(e){if(!z(e)){for(var t=E.size,n=0;!(z(e)||(B().click(),++n>t)););for(n=0;!z(e);){if(H().click(),n++,z(e))return;if(n>t)break}}}(t.linkButton),x.fire("select",s=t),s}function q(e){if(!e)throw new Error("Invalid tab address:");var t=E.get(e);if(t){var n=t.linkButton,i=n.nextSibling,r=n.previousSibling;return x.fire("before_close",t),n.remove(),document.getElementById(t.pageId).remove(),s=null,E.delete(e),x.fire("close",t),i&&i.getAttribute("data-tab")?N(i.getAttribute("data-tab")):r&&r.getAttribute("data-tab")&&N(r.getAttribute("data-tab")),I(),O(!0),e}}function z(e){var t=e.getBoundingClientRect(),n=M();if(!n)return!1;var i=n.getBoundingClientRect();return t.left>=i.left&&t.right<=i.right}function D(){var e=M();return!!e&&Array.prototype.slice.call(e.querySelectorAll("button")).filter(function(e){return z(e)})}function O(e){f.infiniteScroll?function(e){var t=M();if(t){var n=t.querySelectorAll("button");n.length>1&&(e?n[n.length-1].after(n[0]):n[0].before(n[n.length-1]))}}(e):(function(e){var t=D(),n=t[0],i=t[t.length-1];if(e&&i&&i.nextSibling)n.style.display="none";else if(!e&&n&&n.previousSibling)n.previousSibling.style.display="";else{var r=M();if(!r)return;var l=r.querySelectorAll("button");l.length>0&&(l[l.length-1].style.display="")}}(e),I())}return function(e,n){m="object"==typeof e&&e instanceof HTMLElement?e:document.getElementById(e),f=n;var a=n.loadFromMarkup?function(e,t){if("string"==typeof e&&(e=document.getElementById(e)),!e||!e.children)throw new Error("Invalid element to load markup");var n=e.children;if(!n||0===n.length)return(void 0)();var i=e.querySelector(".tab-banner"),r=e.querySelector(".tab-footer"),l=e.querySelector(".tab-links").children,a=e.querySelector(".tab-pages").children,o={banner:i.innerHTML,footer:r.innerHTML,tabs:[]};for(i&&i.remove(),r&&r.remove();l.length>0;){var s=l[0],d=a[0];s&&(o.tabs.push({id:""!==s.id?s.id:null,label:s.textContent,title:s.getAttribute("title"),closable:s.getAttribute("closable"),target:s.getAttribute("data-target"),selected:s.getAttribute("selected"),html:d?d.innerHTML:"",bg:d?d.style.background:"#0bc",style:s.getAttribute("tab-style")}),s.remove(),d.remove())}return o}(e):null;a&&(f=Object.assign(f,a)),function(e){f=Object.assign({limit:void 0,banner:void 0,footer:void 0,closeOnClick:void 0,infiniteScroll:!1,fancy:!1,add:!1,theme:"",tabHeight:32,leftTooltip:"&lt;",rightTooltip:"&gt;",addTooltip:"+",data:null},e)}(f),(u=i("left-nav-button","&lt;","left")).addEventListener("mousedown",function(){O(!1)}),(y=i("add-tab-button","+","left")).style.visibility=f.add?"visible":"hidden",y.addEventListener("mousedown",function(){x.fire("add-tab-click",t())}),d=function(){var e=document.createElement("div");return e.setAttribute("id",t()),e.style.position="absolute",e.style.top="0",e.style.bottom="0",e.style.left="60px",e.style.right="30px",e.style.overflow="hidden",e.style.padding="0px",e.style.margin="0px",e.style.paddingRight="7px",e.style.background="inherit",e.style.display="flex",e.className="tab-bar",e}(),p=d.id;var o,g=((o=document.createElement("div")).style.position="relative",o.style.height="100%",o.style.height="100%",o.style.width="100%",o.style.border="none",o.style.padding="none",o.className="tabbar-wrapper",o);g.append(d),g.appendChild(u),g.appendChild(y),(c=i("right-nav-button","&gt;","right")).addEventListener("mousedown",function(){O(!0)}),g.appendChild(c);var k,w=((k=document.createElement("div")).setAttribute("id",t()),k.style.position="relative",k.className="tab-panel",k.style.width="100%",k.style.height="100%",k.style.overflow="hidden",k.style.margin="0",k.style.top="0",k.style.background="",k);b=w.id;var I=function(e,t,n){var i,a;void 0===n&&(n={}),n.banner&&(i=l()),n.footer&&(a=r());var o=document.createDocumentFragment(),s=document.createElement("table");s.style.width=s.style.height="100%",o.append(s);var d=document.createElement("thead");s.append(d);var c=document.createElement("tr");c.style.minHeight="0px",c.style.maxHeight="80px",d.append(c);var u=document.createElement("th");u.style.textAlign="left",u.style.padding="0",i?u.append(i):c.style.display="none",c.appendChild(u);var y=document.createElement("tbody");s.append(y);var b=document.createElement("tr");b.style.minHeight="24px",b.style.height=n.tabHeight+"px",b.style.padding="0",y.append(b);var p=document.createElement("td");p.style.overflow="hidden",p.style.whiteSpace="nowrap",p.style.textAlign="left",p.style.padding="0",p.append(e),b.appendChild(p),s.style.borderCollapse=b.style.borderCollapse=p.style.borderCollapse="collapse",s.style.border=b.style.border=p.style.border="0 none transparent";var f=document.createElement("tr");y.append(f),(p=document.createElement("td")).append(t),p.style.textAlign="left",p.style.padding="0",f.appendChild(p);var g=document.createElement("tr");y.append(g),(p=document.createElement("td")).style.textAlign="left",p.style.padding="0",g.appendChild(p),g.style.minHeight="24px",g.style.height=n.tabHeight+"px";var m=document.createElement("tr");return y.append(m),p=document.createElement("td"),m.appendChild(p),m.style.maxHeight="24px",(p=document.createElement("td")).style.padding="0",a?p.append(a||document.createTextNode("")):m.style.display="none",m.appendChild(p),(p=document.createElement("td")).style.padding="0",m.appendChild(p),n.bottom?(g.firstElementChild.nextSibling.appendChild(e),b.style.display="none"):g.style.display="none",o}(g,w,f);m.append(I),L(f.theme),function(){var e=M();window.addEventListener("resize",function(){}),e.addEventListener("keyup",function(e){!function(e){var t=s.button;if(t)switch(e.keyCode){case 37:t.previousSibling&&N(t.previousSibling.getAttribute("data-tab"));break;case 39:t.nextSibling&&N(t.nextSibling.getAttribute("data-tab"));break;case 38:break;case 40:t.blur()}}(e)},!0),e.addEventListener("drop",function(e){e.preventDefault(),h=e.clientX,function(e){e.preventDefault();var t=e.dataTransfer.getData("text"),n=function(e){try{for(;"tab-link"!==e.name;)e=e.parentElement;return e}catch(e){return A(E.size-1).linkButton}}(e.target),i=document.getElementById(t);v>h?n.before(i):n.after(i)}(e)},!0),e.addEventListener("dragover",function(e){e.preventDefault()},!0),e.addEventListener("dragstart",function(e){var t;v=e.clientX,(t=e).dataTransfer.setData("text",t.target.id)})}(),f.tabs&&function(e){if(e){var t=null;e.forEach(function(e){e.selected&&(t=e.id);var n=C(j(e).id);n.innerHTML="function"==typeof e.html?e.html():e.html,n.setAttribute("contenteditable",!0),n.style.overflow="auto",n.style.zIndex="100"}),t&&N(t)}}(f.tabs),S(H(),!1),S(B(),!1)}(a,o),{add:j,close:q,select:N,getTab:function(e){return E.get(e)},getTabAtIndex:A,getSelectedTab:T,getTabs:function(){return E},setTheme:L,getTheme:function(){return f.theme},onSelect:function(e){x.addListener("select",e)},onClose:function(e){x.addListener("close",e)},destroy:function(){console.log("Tabs Destroyed")}}},randomId:t,Emitter:{fire:function(e,t,n,i,r){var l=n||document,a=new CustomEvent(e,{detail:t,cancelable:i||!1,bubbles:r||!1});l.dispatchEvent(a)},on:function(e,t,n){(n||document).addEventListener(e,t)},off:function(e,t,n){(n||document).removeEventListener(e,t)}},Event:n,debounce:function(e,t,n){var i;return function(){var r=this,l=arguments,a=function(){i=null,n||e.apply(r,l)},o=n&&!i;clearTimeout(i),i=setTimeout(a,t),o&&e.apply(r,l)}}}}()});
//# sourceMappingURL=tabview.umd.js.map
